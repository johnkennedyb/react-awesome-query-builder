(self.webpackChunk_react_awesome_query_builder_examples=self.webpackChunk_react_awesome_query_builder_examples||[]).push([[977],{5484:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Qo});var n=r(79570),l=r(42181),o=r(83438),a=r(67308),i=r(55096),u=r(88823),c=r.n(u),s=r(14688),d=r(53295),p=r(84267),f=r(93532),m=r(3512),v=r(47999),g=r(5821),h=r.n(g),y=r(96584),b=r(74048).A;b.getMillisecond||(b.getMillisecond=function(e){return e.millisecond()},b.setMillisecond=function(e,t){return e.clone().millisecond(t)});const E=b,A=y.A.generatePicker(E);r(48437).A.generateCalendar(E);var O=a.forwardRef((function(e,t){return a.createElement(A,(0,n.A)({},e,{picker:"time",mode:void 0,ref:t}))}));O.displayName="TimePicker";const w=O;function S(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,C()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}var k=A.RangePicker,P=i.Aq.moment,x=function(e){function t(e){var r;(0,d.A)(this,t),(r=S(this,t,[e])).isValidSingleValue=function(e){var t=r.props.valueFormat,n=e?P(e,t):null;return!n||n&&n.isValid()},r.isValidValue=function(e){return r.props.isSpecialRange?!e||e.map((function(e){return r.isValidSingleValue(e)})).reduce((function(e,t){return e&&t}),!0):r.isValidSingleValue(e)},r.getMomentSingleValue=function(e){var t=r.props.valueFormat,n=e?P(e,t):null;return n&&!n.isValid()&&(n=null),n},r.getMomentValue=function(e){return r.props.isSpecialRange?e?e.map((function(e){return r.getMomentSingleValue(e)})):[null,null]:r.getMomentSingleValue(e)},r.formatSingleValue=function(e){var t=r.props.valueFormat;return e&&e.isValid()?e.format(t):void 0},r.formatValue=function(e){return r.props.isSpecialRange?e?e.map((function(e){return r.formatSingleValue(e)})):[void 0,void 0]:r.formatSingleValue(e)},r.handleChange=function(e){var t=r.props.setValue;r.isValidValue(e)&&t(r.formatValue(e))};var n=e.value,l=e.setValue;return r.isValidValue(n)||l(r.formatValue(r.getMomentValue(n))),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.placeholders,l=e.customProps,o=e.value,i=e.dateFormat,u=e.config,c=e.readonly,s=e.isSpecialRange,d=u.settings.renderSize,p=this.getMomentValue(o);return s?a.createElement(k,(0,n.A)({disabled:c,key:"widget-date",placeholder:r,size:d,format:i,value:p,onChange:this.handleChange},l)):a.createElement(A,(0,n.A)({disabled:c,key:"widget-date",placeholder:t,size:d,format:i,value:p,onChange:this.handleChange},l))}}])}(a.PureComponent);function j(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,R()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}x.propTypes={setValue:h().func.isRequired,value:h().oneOfType([h().string,h().arrayOf(h().string)]),field:h().any,config:h().object.isRequired,placeholder:h().string,placeholders:h().arrayOf(h().string),customProps:h().object,readonly:h().bool,dateFormat:h().string,valueFormat:h().string},x.defaultProps={dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"};var W=i.Aq.moment,F=function(e){function t(e){var r;(0,d.A)(this,t),(r=j(this,t,[e])).handleChange=function(e){var t=r.props,n=t.setValue,l=t.valueFormat,o=e&&e.isValid()?e.format(l):void 0;(o||null===e)&&n(o)};var n=e.valueFormat,l=e.value,o=e.setValue,a=l?W(l,n):null;return a&&!a.isValid()&&o(null),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.customProps,l=e.value,o=e.valueFormat,i=e.dateFormat,u=e.timeFormat,c=e.use12Hours,s=e.config,d=e.readonly,p=s.settings.renderSize,f=l?W(l,o):null,m=i+" "+u;return a.createElement(A,(0,n.A)({disabled:d,key:"widget-datetime",use12Hours:c,showTime:{format:u},placeholder:t,size:p,format:m,value:f,onChange:this.handleChange},r))}}])}(a.PureComponent);function V(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,L()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}F.propTypes={setValue:h().func.isRequired,value:h().string,config:h().object.isRequired,field:h().any,placeholder:h().string,customProps:h().object,readonly:h().bool,timeFormat:h().string,dateFormat:h().string,valueFormat:h().string,use12Hours:h().bool},F.defaultProps={timeFormat:"HH:mm",dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1};var T=i.Aq.moment,D=function(e){function t(e){var r;(0,d.A)(this,t),(r=V(this,t,[e])).handleChange=function(e){var t=r.props,n=t.setValue,l=t.valueFormat,o=t.timeFormat;e&&e.isValid()&&"HH:mm"==o&&e.set({second:0,millisecond:0});var a=e&&e.isValid()?e.format(l):void 0;(a||null===e)&&n(a)};var n=e.valueFormat,l=e.value,o=e.setValue,a=l?T(l,n):null;return a&&!a.isValid()&&o(null),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.customProps,l=e.value,o=e.valueFormat,i=e.timeFormat,u=e.use12Hours,c=e.config,s=e.readonly,d=c.settings.renderSize,p=l?T(l,o):null;return a.createElement(w,(0,n.A)({disabled:s,use12Hours:u,key:"widget-time",size:d,placeholder:t,format:i,value:p,onChange:this.handleChange},r))}}])}(a.PureComponent);D.propTypes={setValue:h().func.isRequired,value:h().string,config:h().object.isRequired,field:h().any,placeholder:h().string,customProps:h().object,readonly:h().bool,timeFormat:h().string,valueFormat:h().string,use12Hours:h().bool},D.defaultProps={timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1};var B=r(88055),M=48,I={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'Helvetica Neue', Helvetica, Arial, sans-serif",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"14px";if("undefined"!=typeof document){var n=document.createElement("div");n.innerHTML=e;var l={position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden","font-size":r,"font-family":t};for(var o in l)n.style[o]=l[o];var a=(n=document.body.appendChild(n)).offsetWidth;return document.body.removeChild(n),a}},N=r(64234),z=r.n(N);function _(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,G()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var U=i.Aq.ReactUtils.useOnPropsChanged,$=i.Aq.ListUtils.mapListValues,H=B.A.Option,Y={value:"value",title:"children",groupTitle:"grouplabel"},K=function(e){function t(e){var r;return(0,d.A)(this,t),(r=_(this,t,[e])).handleChange=function(e){r.props.setValue(e)},r.filterOption=function(e,t){return r.props.config.settings.listKeysForSearch.map((function(e){return Y[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},U(r),r.onPropsChanged(e),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=0;$(t,(function(e){var t=e.title;e.value,r=Math.max(r,q(t,null))})),!isNaN(r)&&r&&(this.optionsMaxWidth=r),this.options=$(t,(function(e){var t=e.title,r=e.value;return a.createElement(H,{key:r+"",value:r+""},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.readonly,u=t.settings.renderSize,c=q(r),s=this.optionsMaxWidth?this.optionsMaxWidth+M:null,d=o?s:c?c+M:null,p=null!=o?o+"":void 0,f=z()(l,[""]);return a.createElement(B.A,(0,n.A)({disabled:i,style:{width:d},key:"widget-select",popupMatchSelectWidth:!1,placeholder:r,size:u,value:p,onChange:this.handleChange,filterOption:this.filterOption},f),this.options)}}])}(a.Component);K.propTypes={setValue:h().func.isRequired,config:h().object.isRequired,field:h().any,value:h().oneOfType([h().string,h().number]),customProps:h().object,fieldDefinition:h().object,readonly:h().bool,listValues:h().oneOfType([h().object,h().array])};var Q=r(63939),J=r(4977);function X(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Z()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}var ee=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=X(this,t,[].concat(n))).handleChange=function(t){var r=t.target.value,n=""===r?void 0:r;e.props.setValue(n)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.readonly,u=e.maxLength,c=t.settings.renderSize,s=null!=o?o:null;return a.createElement(Q.A,null,a.createElement(J.A,(0,n.A)({disabled:i,key:"widget-text",size:c,type:"text",value:s,placeholder:r,maxLength:u,onChange:this.handleChange},l)))}}])}(a.PureComponent);function te(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,re()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}ee.propTypes={setValue:h().func.isRequired,placeholder:h().string,config:h().object.isRequired,value:h().string,field:h().any,readonly:h().bool,customProps:h().object,maxLength:h().number};var ne=J.A.TextArea,le=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=te(this,t,[].concat(n))).handleChange=function(t){var r=t.target.value,n=""===r?void 0:r;e.props.setValue(n)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.readonly,u=e.maxLength,c=e.maxRows,s=(e.fullWidth,t.settings),d=s.renderSize,p=s.defaultMaxRows,f=null!=o?o:null;return a.createElement(Q.A,null,a.createElement(ne,(0,n.A)({autoSize:{minRows:1,maxRows:c||p},maxLength:u,disabled:i,key:"widget-textarea",size:d,value:f,placeholder:r,onChange:this.handleChange},l)))}}])}(a.PureComponent);le.propTypes={setValue:h().func.isRequired,placeholder:h().string,config:h().object.isRequired,value:h().string,field:h().any,readonly:h().bool,customProps:h().object,maxLength:h().number,maxRows:h().number};var oe=r(67464);function ae(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,ie()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}var ue=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=ae(this,t,[].concat(n))).handleChange=function(t){""!==t&&null!==t||(t=void 0),e.props.setValue(t)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.min,u=e.max,c=e.step,s=e.readonly,d=t.settings.renderSize,p=null!=o?o:void 0;return a.createElement(Q.A,null,a.createElement(oe.A,(0,n.A)({disabled:s,key:"widget-number",size:d,value:p,min:i,max:u,step:c,placeholder:r,onChange:this.handleChange},l)))}}])}(a.PureComponent);ue.propTypes={setValue:h().func.isRequired,placeholder:h().string,config:h().object.isRequired,field:h().any,value:h().oneOfType([h().string,h().number]),customProps:h().object,fieldDefinition:h().object,readonly:h().bool,min:h().number,max:h().number,step:h().number},ue.defaultProps={min:void 0,max:void 0,step:void 0};var ce=r(46438),se=r(68127),de=["width"],pe=a.memo((function(e){var t=e.setValue,r=e.placeholder,l=e.config,o=(e.field,e.value),i=e.customProps,u=(e.fieldDefinition,e.readonly),c=(e.errorMessage,e.min),s=e.max,d=e.step,p=e.marks,f=l.settings,m=f.renderSize,v=(f.showErrorMessage,f.defaultSliderWidth),g=i||{},h=g.width,y=(0,se.A)(g,de),b=(0,a.useMemo)((function(){return y.input||{}}),[i]),E=(0,a.useMemo)((function(){return y.slider||y}),[i]),A=(0,a.useCallback)((function(e){return null!=e?e.toString():void 0}),[]),O=(0,a.useMemo)((function(){return{formatter:A}}),[A]),w=(0,a.useCallback)((function(e){""===e&&(e=void 0),t(e)}),[t]),S=o;null==S&&(S=null);var C=null==S&&c?c:S;return a.createElement(Q.A,{style:{display:"inline-flex",flexWrap:"wrap"}},a.createElement(Q.A,{key:"col-number",style:{float:"left",marginRight:"5px"}},a.createElement(oe.A,(0,n.A)({key:"input-number",disabled:u,size:m,value:S,min:c,max:s,step:d,placeholder:r,onChange:w},b))),a.createElement(Q.A,{key:"col-slider",style:{float:"left",width:h||v}},a.createElement(ce.A,(0,n.A)({key:"input-slider",disabled:u,value:C,tooltip:O,min:c,max:s,included:!0,step:d,marks:p,onChange:w},E))),a.createElement(Q.A,{key:"col-clear",style:{clear:"both"}}))}));pe.displayName="SliderWidget",pe.propTypes={setValue:h().func.isRequired,placeholder:h().string,config:h().object.isRequired,field:h().any,value:h().number,customProps:h().object,fieldDefinition:h().object,readonly:h().bool,min:h().number,max:h().number,step:h().number,marks:h().object};const fe=pe;var me=r(86322),ve=["width"];function ge(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,he()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}var ye=function(e){function t(e){var r;(0,d.A)(this,t),(r=ge(this,t,[e])).state={},r.handleChange=function(e){r.props.setValue(e)},r.handleChangeFrom=function(e){var t=r.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,me.A)(t))[0]=e,r.props.setValue(t)},r.handleChangeTo=function(e){var t=r.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,me.A)(t))[1]=e,r.props.setValue(t)},r.tipFormatter=function(e){return null!=e?e.toString():""};var n=e.value||[null,null],l=(0,o.A)(n,2);return l[0],l[1],e.value,r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholders,l=e.customProps,i=e.value,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.textSeparators,f=e.readonly,m=t.settings,v=m.renderSize,g=m.defaultSliderWidth,h=l||{},y=h.width,b=(0,se.A)(h,ve),E=b.input||{},A=b.slider||b,O=null!=i?i:void 0,w=O||[null,null],S=(0,o.A)(w,2),C=S[0],k=S[1];return a.createElement(Q.A,{style:{display:"inline-flex",flexWrap:"wrap"}},a.createElement(Q.A,{style:{float:"left",marginRight:"5px"}},a.createElement(oe.A,(0,n.A)({disabled:f,size:v,key:"numFrom",value:C,min:u,max:c,step:s,placeholder:r[0],onChange:this.handleChangeFrom},E))),a.createElement(Q.A,{style:{float:"left",marginRight:"5px",lineHeight:"20px"}},a.createElement("span",null,p[1])),a.createElement(Q.A,{style:{float:"left",marginRight:"5px"}},a.createElement(oe.A,(0,n.A)({disabled:f,size:v,key:"numTo",value:k,min:u,max:c,step:s,placeholder:r[1],onChange:this.handleChangeTo},E))),a.createElement(Q.A,{style:{float:"left",width:y||g}},a.createElement(ce.A,(0,n.A)({disabled:f,value:O,tooltip:{formatter:this.tipFormatter},min:u,max:c,step:s,marks:d,included:!0,range:!0,onChange:this.handleChange},A))),a.createElement(Q.A,{style:{clear:"both"}}))}}])}(a.PureComponent);ye.propTypes={setValue:h().func.isRequired,placeholder:h().string,placeholders:h().array,textSeparators:h().array,config:h().object.isRequired,field:h().any,value:h().array,customProps:h().object,fieldDefinition:h().object,readonly:h().bool,min:h().number,max:h().number,step:h().number,marks:h().object},ye.defaultProps={min:0,max:100,step:1,marks:void 0};var be=r(20803);function Ee(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Ae()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}var Oe=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=Ee(this,t,[].concat(n))).handleChange=function(t){e.props.setValue(t)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.customProps,r=e.value,l=e.labelYes,o=e.labelNo,i=e.readonly;return a.createElement(be.A,(0,n.A)({checkedChildren:l||null,unCheckedChildren:o||null,checked:r||null,onChange:this.handleChange,disabled:i},t))}}])}(a.PureComponent);function we(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Se()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Se=function(){return!!e})()}Oe.propTypes={setValue:h().func.isRequired,value:h().bool,config:h().object.isRequired,field:h().any,customProps:h().object,readonly:h().bool,labelYes:h().string,labelNo:h().string},Oe.defaultProps={labelYes:null,labelNo:null};var Ce=i.Aq.ReactUtils.useOnPropsChanged,ke=i.Aq.ListUtils.mapListValues,Pe=B.A.Option,xe=function(e){function t(e){var r;return(0,d.A)(this,t),(r=we(this,t,[e])).handleChange=function(e){e&&!e.length&&(e=void 0),r.props.setValue(e)},r.filterOption=function(e,t){return(t.children||t.value).toLowerCase().indexOf(e.toLowerCase())>=0},Ce(r),r.onPropsChanged(e),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=0;ke(t,(function(e){var t=e.title;e.value,r=Math.max(r,q(t,null))})),!isNaN(r)&&r&&(this.optionsMaxWidth=r),this.options=ke(t,(function(e){var t=e.title,r=e.value;return a.createElement(Pe,{key:r,value:r},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.allowCustomValues,o=e.customProps,i=e.value,u=e.readonly,c=t.settings.renderSize,s=q(r),d=s?s+M:null,p=i&&i.length?i:void 0,f=p?null:d,m=this.optionsMaxWidth?this.optionsMaxWidth+M:null,v=z()(o,["showCheckboxes"]);return a.createElement(B.A,(0,n.A)({disabled:u,mode:l?"tags":"multiple",style:{minWidth:f,width:f},dropdownStyle:{width:m},key:"widget-multiselect",popupMatchSelectWidth:!1,placeholder:r,size:c,value:p,onChange:this.handleChange,filterOption:this.filterOption},v),this.options)}}])}(a.Component);xe.propTypes={setValue:h().func.isRequired,config:h().object.isRequired,value:h().array,field:h().any,placeholder:h().string,customProps:h().object,fieldDefinition:h().object,readonly:h().bool,listValues:h().oneOfType([h().object,h().array]),allowCustomValues:h().bool};var je=r(89527),Re=r(63477),We=r(25133),Fe=r(77058),Ve=r.n(Fe);function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Te=i.Aq.Autocomplete.fixListValuesGroupOrder,De=i.Rj.W,Be={value:"value",title:"label",groupTitle:"grouplabel"},Me=r(64250),Ie=r(51554);function qe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ze=i.Aq.ListUtils,_e=ze.getItemInListValues,Ge=ze.listValuesToArray,Ue={id:"value",pId:"parent",rootPId:void 0},$e=function e(t,r){var n=Ue,l=_e(t,r),o=l?l[n.pId]:void 0,a=o?t.find((function(e){return e[n.id]===o})):void 0;return a?[a.value].concat((0,me.A)(e(t,a.value))):[]},He=function(e,t){var r=Ue,n=_e(e,t);return n?e.filter((function(e){return e[r.pId]===n[r.id]})).map((function(e){return e.value})):[]};function Ye(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Ke()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ke=function(){return!!e})()}var Qe=i.Aq.ReactUtils.useOnPropsChanged,Je=i.Aq.ListUtils,Xe=Je.getTitleInListValues,Ze=Je.mapListValues,et=function(e){function t(e){var r;return(0,d.A)(this,t),(r=Ye(this,t,[e])).handleChange=function(e){r.props.treeMultiple?!e||e.length?("object"==(0,Ie.A)(e[0])&&void 0!==e[0].value&&(e=e.map((function(e){return e.value}))),r.props.setValue(e)):r.props.setValue(void 0):r.props.setValue(e)},r.filterTreeNode=function(e,t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0},Qe(r),r.onPropsChanged(e),r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=e.treeValues,n=e.treeMultiple,l=0,o=n?46:24;Ze(r||t,(function(e){var t=e.title,r=(e.value,e.path);l=Math.max(l,q(t,null)+10+20*(r?r.length:0)+o)})),!isNaN(l)&&l&&(this.optionsMaxWidth=l)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,l=e.customProps,o=void 0===l?{}:l,i=e.value,u=e.treeMultiple,c=e.listValues,s=e.treeValues,d=e.treeExpandAll,p=e.readonly,f=s||c,m=o.treeCheckStrictly||!1,v=t.settings.renderSize,g=q(r),h=null!=i?i:void 0;m&&void 0!==h&&u&&(h=h.map((function(e){return{value:e,label:Xe(f,e)}})));var y=h||!g?null:g+M+6;return Math.max(100,Math.min(800,this.optionsMaxWidth)),a.createElement(Me.A,(0,n.A)({disabled:p,style:{minWidth:y,width:y},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:u,treeCheckable:u,key:"widget-treeselect",popupMatchSelectWidth:!1,placeholder:r,size:v,treeData:f,treeDataSimpleMode:Ue,filterTreeNode:this.filterTreeNode,value:h,onChange:this.handleChange,treeDefaultExpandAll:d},o))}}])}(a.Component);et.propTypes={setValue:h().func.isRequired,config:h().object.isRequired,value:h().oneOfType([h().string,h().array]),field:h().any,placeholder:h().string,customProps:h().object,fieldDefinition:h().object,readonly:h().bool,treeMultiple:h().bool,listValues:h().oneOfType([h().object,h().array]),treeValues:h().oneOfType([h().object,h().array])};var tt=B.A.Option,rt=B.A.OptGroup,nt={key:"_value2",path:"value",label:"label",altLabel:"title",tooltip:"_tooltip",grouplabel:"grouplabel",fullLabel:"_fullLabel"},lt=function(e){var t=e.setField,r=e.config,l=e.customProps,i=e.items,u=e.placeholder,c=e.selectedKey,s=e.selectedLabel,d=(e.selectedOpts,e.selectedAltLabel),p=e.selectedFullLabel,f=e.readonly,m=e.errorText,v=(l||{}).showSearch,g=(0,a.useState)(!1),h=(0,o.A)(g,2),y=h[0],b=h[1],E=(0,a.useState)(""),A=(0,o.A)(E,2),O=A[0],w=A[1],S=q(s||u),C=!!c,k=r.settings.dropdownPlacement,P=k?I[k]:void 0,x=C&&!v||!S?null:S+M,j=d||p;j==s&&(j=null);var R=(0,a.useMemo)((function(){return{width:x}}),[x]),W=(0,a.useCallback)((function(e){t(e)}),[t]),F=(0,a.useCallback)((function(e){w(e)}),[w]),V=(0,a.useCallback)((function(e,t){return r.settings.fieldItemKeysForSearch.map((function(e){return nt[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0}),[r.settings.fieldItemKeysForSearch]),L=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,l=t.key,o=t.path,i=t.label,u=t.fullLabel,c=t.altLabel,s=t.tooltip,d=t.grouplabel,p=t.disabled,f=t.matchesType,m=r>0?"  ".repeat(r):"",v=r>1?"  ".repeat(r-1):"",g=o||l;if(n){var h,y=n.filter((function(e){return!e.items})),b=n.filter((function(e){return!!e.items}));if(y.length){var E=m+i;s&&(E=a.createElement(We.A,{title:s},E)),h=a.createElement(rt,{key:g,label:E},e(y,r+1))}var A=b.length?e(b,r+1):[];return[].concat((0,me.A)(h?[h]:[]),(0,me.A)(A))}var O=f?a.createElement("b",null,v+i):v+i,w=s?a.createElement(We.A,{title:s},O):O;return a.createElement(tt,{key:g,value:g,title:c,grouplabel:d,label:i,disabled:p,_fullLabel:u,_tooltip:s,_value2:l},w)})).flat(1/0)}(i),T=a.createElement(B.A,(0,n.A)({open:y,onDropdownVisibleChange:b,dropdownAlign:P,popupMatchSelectWidth:!1,style:R,placeholder:u,size:r.settings.renderSize,onChange:W,value:c||void 0,optionLabelProp:"label",filterOption:V,disabled:f,status:m&&"error",showSearch:!!v,searchValue:O,onSearch:v?F:void 0},l),L);return j&&(T=a.createElement(We.A,{title:y?null:j},T)),T};lt.displayName="FieldSelect";const ot=lt;var at=r(14172),it=r(85164),ut=r(89677),ct=r(4446);function st(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,dt()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dt=function(){return!!e})()}var pt=ut.A.SubMenu,ft=ut.A.Item,mt=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=st(this,t,[].concat(n))).onChange=function(t){var r=t.key;t.keyPath,e.props.setField(r)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"renderMenuItems",value:function(e){var t=this;return e.map((function(e){var r=e.items,n=e.key,l=e.path,o=e.label,i=(e.fullLabel,e.altLabel,e.tooltip),u=e.disabled,c=l||n,s=e.matchesType?a.createElement("b",null,o):o,d=i?a.createElement(We.A,{title:i},s):s;return r?a.createElement(pt,{key:c,title:a.createElement("span",null,d,"     ")},t.renderMenuItems(r)):a.createElement(ft,{key:c,disabled:u},d)}))}},{key:"renderMenuToggler",value:function(e,t,r,n,l){var o=a.createElement(it.Ay,{size:r.settings.renderSize,disabled:n,danger:!!l},e," ",a.createElement(ct.A,null));return t&&(o=a.createElement(We.A,{placement:"top",title:t},o)),o}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,l=e.items,o=e.placeholder,i=e.errorText,u=e.selectedKeys,c=e.selectedLabel,s=(e.selectedOpts,e.readonly),d=e.selectedAltLabel,p=e.selectedFullLabel,f=this.renderMenuItems(l),m=a.createElement(ut.A,(0,n.A)({selectedKeys:u,onClick:this.onChange},z()(r,["showSearch"])),f),v=d||c||o,g=p;g==c&&(g=null);var h=this.renderMenuToggler(v,g,t,s,i);return s?h:a.createElement(at.A,{overlay:m,trigger:["click"],placement:t.settings.dropdownPlacement},h)}}])}(a.PureComponent);mt.propTypes={config:h().object.isRequired,customProps:h().object,errorText:h().string,items:h().array.isRequired,placeholder:h().string,selectedKey:h().string,selectedKeys:h().array,selectedPath:h().array,selectedLabel:h().string,selectedAltLabel:h().string,selectedFullLabel:h().string,selectedOpts:h().object,readonly:h().bool,setField:h().func.isRequired};var vt=r(52070);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,bt()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bt=function(){return!!e})()}var Et=i.Aq.ReactUtils.useOnPropsChanged,At=i.Aq.ConfigUtils.getFieldParts,Ot={key:"key",path:"_path",label:"_label",altLabel:"altLabel",tooltip:"tooltip",grouplabel:"grouplabel",fullLabel:"fullLabel"},wt=function(e){function t(e){var r;return(0,d.A)(this,t),(r=yt(this,t,[e])).setOpen=function(e){r.setState({open:e})},r.onChange=function(e){var t=r.props.parentField,n=t?t.split("."):[];r.props.setField([].concat((0,me.A)(n),(0,me.A)(e)))},r.filterOption=function(e,t){var n,l=r.props.config.settings.fieldItemKeysForSearch.map((function(e){return Ot[e]}));return n=t[t.length-1],l.map((function(e){return"string"==typeof n[e]?n[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},Et(r),r.onPropsChanged(e),r.state={open:!1},r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items;this.items=this.getItems(t)}},{key:"getItems",value:function(e){var t=this;return e.map((function(e){var r=e.items,n=e.matchesType,l=e.label,o=e.key,i=e.path,u=e.tooltip,c=n?a.createElement("b",null,l):l;return u&&(c=a.createElement(We.A,{title:u},c)),ht(ht({},e),{},r?{key:o,_path:i,items:t.getItems(r),label:c,_label:l}:{key:o,_path:i,label:c,_label:l})}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,l=(e.items,e.placeholder),o=e.errorText,i=e.selectedPath,u=e.selectedLabel,c=e.selectedOpts,s=e.selectedAltLabel,d=(e.selectedFullLabel,e.readonly),p=(e.selectedField,e.parentField),f=this.state.open,m=ht({},r);m.showSearch&&(m.showSearch={filter:this.filterOption}),t.settings.fieldSeparator;var v=function(e,t){if(!e)return e;for(var r=!0,n=0;n<t.length;n++){var l=t[n];if(void 0===e[n]||l!=e[n]){r=!1;break}}return r?e.slice(t.length):e}(i,At(p,t)),g=a.createElement(vt.A,(0,n.A)({open:f,onDropdownVisibleChange:this.setOpen,status:o&&"error",fieldNames:{label:"label",value:"key",children:"items"},options:this.items,value:v,onChange:this.onChange,allowClear:!1,placeholder:l,size:t.settings.renderSize,disabled:d},m)),h=c.tooltip||s;return h==u&&(h=null),h&&(g=a.createElement(We.A,{title:f?null:h},g)),g}}])}(a.Component);function St(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Ct()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ct=function(){return!!e})()}wt.propTypes={config:h().object.isRequired,customProps:h().object,errorText:h().string,items:h().array.isRequired,placeholder:h().string,selectedKey:h().string,selectedKeys:h().array,selectedPath:h().array,selectedLabel:h().string,selectedAltLabel:h().string,selectedFullLabel:h().string,selectedOpts:h().object,readonly:h().bool,setField:h().func.isRequired};var kt=i.Aq.ReactUtils.useOnPropsChanged,Pt={key:"_value2",path:"value",label:"label",altLabel:"altLabel",tooltip:"_tooltip",grouplabel:"_grouplabel",fullLabel:"fullLabel"},xt=function(e){function t(e){var r;return(0,d.A)(this,t),(r=St(this,t,[e])).setOpen=function(e){r.setState({open:e})},r.onChange=function(e){r.props.setField(e)},r.filterTreeNode=function(e,t){return r.props.config.settings.fieldItemKeysForSearch.map((function(e){return Pt[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},kt(r),r.onPropsChanged(e),r.state={open:!1},r}return(0,v.A)(t,e),(0,p.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items,r=e.config.settings.fieldSeparator,n=0;this.treeData=this.getTreeData(t,(function(e){var t=e.label,l=e.path;n=Math.max(n,q(t,null)+10+20*(l.split(r).length-1)+24)})),!isNaN(n)&&n&&(this.optionsMaxWidth=n)}},{key:"getTreeData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((function(e){var n=e.items,l=e.key,o=e.path,i=e.label,u=e.fullLabel,c=e.altLabel,s=e.tooltip,d=e.disabled,p=e.grouplabel,f=e.matchesType;r&&r(e);var m=o||l,v=f?a.createElement("b",null,i):i,g=s?a.createElement(We.A,{title:s},v):v;return n?{value:m,title:g,children:t.getTreeData(n,r),selectable:!1,altLabel:c,fullLabel:u,label:i,disabled:d,_value2:l,_tooltip:s,_grouplabel:p}:{value:m,title:g,altLabel:c,fullLabel:u,label:i,disabled:d,_value2:l,_tooltip:s,_grouplabel:p}}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,l=void 0===r?{}:r,o=e.placeholder,i=e.errorText,u=e.selectedKey,c=e.selectedLabel,s=e.selectedOpts,d=e.selectedAltLabel,p=e.selectedFullLabel,f=e.readonly,m=this.state.open,v=t.settings,g=v.renderSize,h=v.fieldSeparator,y=d||p;y==c&&(y=null);var b=u?u.split(h):null,E=b&&b.length>1?b.slice(0,-1).map((function(e,t){return b.slice(0,t+1).join(h)})):null,A=q(o),O=!!u,w=A?A+M+6:null,S=(Math.max(100,Math.min(800,this.optionsMaxWidth)),a.createElement(Me.A,(0,n.A)({open:m,onDropdownVisibleChange:this.setOpen,status:i&&"error",onChange:this.onChange,value:u||void 0,style:{minWidth:w,width:O?null:w},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:!1,treeCheckable:!1,treeDataSimpleMode:!1,treeData:this.treeData,size:g,placeholder:o,filterTreeNode:this.filterTreeNode,treeDefaultExpandedKeys:E,popupMatchSelectWidth:!1,disabled:f},l)));return y&&!s.tooltip&&(S=a.createElement(We.A,{title:m?null:y},S)),S}}])}(a.Component);xt.propTypes={config:h().object.isRequired,customProps:h().object,errorText:h().string,items:h().array.isRequired,placeholder:h().string,selectedKey:h().string,selectedKeys:h().array,selectedPath:h().array,selectedLabel:h().string,selectedAltLabel:h().string,selectedFullLabel:h().string,selectedOpts:h().object,readonly:h().bool,setField:h().func.isRequired};var jt=r(95574),Rt=r(2882),Wt=r(25050),Ft=r(84799),Vt=i.Aq.DragIcon,Lt={addRule:a.createElement(jt.A,null),addGroup:a.createElement(Rt.A,null),delRule:a.createElement(Wt.A,null),delGroup:a.createElement(Wt.A,null),delRuleGroup:a.createElement(Wt.A,null),addSubRuleSimple:a.createElement(jt.A,null),addSubRule:a.createElement(jt.A,null),addSubGroup:a.createElement(Rt.A,null),drag:a.createElement(Ft.A,null)},Tt={addSubRuleSimple:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},Dt={addRule:"action action--ADD-RULE",addGroup:"action action--ADD-GROUP",delRule:"action action--DELETE",delGroup:"action action--DELETE",delRuleGroup:"action action--DELETE",addSubRuleSimple:"action action--ADD-RULE",addSubRule:"action action--ADD-RULE",addSubGroup:"action action--ADD-GROUP"},Bt={delRule:"text"},Mt={delRule:!0,delGroup:!0,delRuleGroup:!0},It=it.Ay.Group,qt=r(99629),Nt=r.n(qt);function zt(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,_t()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function _t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_t=function(){return!!e})()}var Gt=it.Ay.Group,Ut=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=zt(this,t,[].concat(n))).onClick=function(t){var r=e.props;(0,r.setConjunction)(r.item.key)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.item;return a.createElement(it.Ay,{disabled:t,type:r.checked?"primary":null,onClick:this.onClick},r.label)}}])}(a.PureComponent),$t=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=zt(this,t,[].concat(n))).setNot=function(t){var r=e.props,n=r.setNot,l=r.not;n&&n(!l)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.readonly,r=e.disabled,n=e.not,l=e.conjunctionOptions,o=e.config,i=e.setConjunction,u=e.notLabel,c=e.showNot,s=Object.keys(l).length,d=r,p=o.settings,f=p.forceShowConj,m=p.renderSize,v=f||s>1&&!d;return a.createElement(Gt,{key:"group-conjs-buttons",size:m,disabled:r||t},c&&(!t||n)&&a.createElement(it.Ay,{key:"group-not",onClick:this.setNot,type:n?"primary":null,disabled:t},u),v&&Nt()(l,(function(e,n){return!t&&!r||e.checked?a.createElement(Ut,{key:e.id,item:e,disabled:r||t,setConjunction:i}):null})))}}])}(a.PureComponent),Ht=r(47088),Yt=r(64608),Kt=r(71704),Qt=r(40506),Jt=r(64502);function Xt(e,t,r){return t=(0,m.A)(t),(0,f.A)(e,Zt()?Reflect.construct(t,r||[],(0,m.A)(e).constructor):t.apply(e,r))}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zt=function(){return!!e})()}var er=Qt.Ay.Button,tr=Qt.Ay.Group,rr=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=Xt(this,t,[].concat(n))).onChange=function(t){(0,e.props.setValueSrc)(t.target.value)},e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.valueSources,n=e.valueSrc,l=e.readonly,i=e.title,u=a.createElement(tr,{value:n||"value",size:t.settings.renderSize,onChange:this.onChange,disabled:l},r.map((function(e){var t=(0,o.A)(e,2),r=t[0],n=t[1];return a.createElement(er,{key:r,value:r},n.label)})));return a.createElement("span",null,a.createElement(Kt.A,{content:u,title:i},a.createElement(Jt.A,null)))}}])}(a.PureComponent),nr=r(73300).A.confirm;const lr={DateWidget:x,DateTimeWidget:F,TimeWidget:D,SelectWidget:K,TextWidget:ee,TextAreaWidget:le,NumberWidget:ue,SliderWidget:fe,RangeWidget:ye,BooleanWidget:Oe,MultiSelectWidget:xe,AutocompleteWidget:function(e){var t=e.config,r=e.placeholder,l=(e.allowCustomValues,e.customProps),o=e.value,i=e.readonly,u=e.multiple,c=e.useAsyncSearch,s=De(e,{debounceTimeout:100,multiple:u,uif:"antd"}),d=s.open,p=s.onDropdownVisibleChange,f=s.onChange,m=s.isSpecialValue,v=(s.onSearch,s.inputValue),g=s.options,h=(s.isInitialLoading,s.isLoading),y=s.aPlaceholder,b=s.extendOptions,E=s.getOptionDisabled,A=s.getOptionIsCustom,O=s.getOptionLabel,w=s.onInputChange,S=b(g),C=(0,a.useMemo)((function(){return S.reduce((function(e,t){return Math.max(e,q(t.title,null))}),0)}),[g]),k=t.settings,P=k.defaultSelectWidth,x=(k.defaultSearchWidth,k.renderSize),j=q(r),R=(u?null!=o&&o.length:o)?o:u?[]:void 0,W=R||!j?null:j+M,F=C&&!isNaN(C)?C+M:null,V=W||P,L=a.useRef(!1),T={width:u?void 0:V,minWidth:V},D={width:F},I=u?"multiple":void 0,N=i?"":y,z=function(e){var t=e.tooltip,r=O(e);return t&&(r=a.createElement(We.A,{title:t},r)),r},_=function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=Te(t));var r,n=[],l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(t);try{for(l.s();!(r=l.n()).done;){var o=r.value,a=o.groupTitle;if(delete o.groupTitle,a){o.grouplabel=a;var i=void 0,u=n[n.length-1];null!=u&&u.options&&u.label===a?i=u:(i={label:a,options:[]},n.push(i)),i.options.push(o)}else n.push(o)}}catch(e){l.e(e)}finally{l.f()}return n}(null==S?void 0:S.filter((function(e){return!e.specialValue})).map((function(e){return{label:A(e)?a.createElement("span",{className:"customSelectOption"},O(e)):z(e),value:e.value,groupTitle:e.groupTitle,disabled:E(e)}}))),G=null==S?void 0:S.filter((function(e){return!!e.specialValue})).map((function(e){return a.createElement("a",{style:{padding:"5px 10px",display:"block",cursor:"pointer"},key:e.specialValue,disabled:E(e),onClick:(t=e.specialValue,function(){var e=S.find((function(e){return e.specialValue==t}));f(null,t,e)})},O(e));var t})),U=function(){var e=(0,Re.A)(Ve().mark((function e(t,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(r)){e.next=5;break}return e.next=3,f(null,t,r);case 3:e.next=8;break;case 5:if(!u){e.next=8;break}return e.next=8,f(null,t,r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=(0,Re.A)(Ve().mark((function e(t,r){var n,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u&&t.length&&t.length>R.length&&t[t.length-1]==v,l=m(r)||"tags"===I&&n||L.current&&v,L.current=!1,l){e.next=6;break}return e.next=6,f(null,t,r);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=(0,Re.A)(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.current&&(L.current=!1),e.next=3,w(null,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=(0,a.useCallback)((function(e){return a.createElement("div",null,e,G.length>0&&a.createElement(a.Fragment,null,a.createElement(je.A,{style:{margin:"0px"}}),a.createElement("div",{style:{display:"flex",flexDirection:"column"}},G)))}),[S]),K=(0,a.useCallback)((function(e,r){return t.settings.listKeysForSearch.map((function(e){return Be[e]})).map((function(e){return"string"==typeof r[e]?r[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0}),[t]);return a.createElement(B.A,(0,n.A)({filterOption:!c&&K,dropdownRender:Y,allowClear:!0,notFoundContent:h?"Loading...":"Not found",disabled:i,mode:I,style:(null==l?void 0:l.style)||T,dropdownStyle:(null==l?void 0:l.dropdownStyle)||D,key:"widget-autocomplete",popupMatchSelectWidth:(null==l?void 0:l.popupMatchSelectWidth)||(null==l?void 0:l.dropdownMatchSelectWidth)||!1,placeholder:(null==l?void 0:l.placeholder)||N,onDropdownVisibleChange:p,onChange:$,onClear:function(){d&&(L.current=!0)},onSelect:U,onSearch:H,showSearch:!0,size:x,loading:h,value:R,searchValue:v,open:d,options:_},l))},TreeSelectWidget:et,FieldSelect:ot,FieldDropdown:mt,FieldCascader:wt,FieldTreeSelect:xt,Icon:function(e){var t=e.type,r=Lt[t]||null;return r||"drag"!==t||(r=a.createElement(Vt,null)),r},Button:function(e){var t=e.type,r=e.onClick,n=e.label,l=e.readonly,o=e.config.settings,i=e.renderIcon,u=o.renderSize,c=null==i?void 0:i({type:t,readonly:l}),s=Tt[t]?"":n;return a.createElement(it.Ay,{danger:!0===Mt[t],key:t,type:Bt[t]||"default",icon:c,className:Dt[t],onClick:r,size:u,disabled:l},s)},ButtonGroup:function(e){var t=e.children,r=e.config.settings.renderSize;return a.createElement(It,{size:r},t)},Conjs:$t,Switch:function(e){var t=e.value,r=e.setValue,n=e.label,l=e.checkedLabel,o=e.hideLabel,i=e.id,u=e.config,c=e.type,s=u.settings.renderSize,d=(0,a.useCallback)((function(e){return r(e)}),[r]),p=(0,a.useCallback)((function(){return r(!t)}),[r,t]),f=c,m=o?null:t&&l||n;return"lock"===c?a.createElement(it.Ay,{key:i+f,type:t?"danger":void 0,icon:t?a.createElement(Ht.A,null):a.createElement(Yt.A,null),onClick:p,checked:!!t,size:s},m):a.createElement(be.A,{key:i+f,checkedChildren:l||n,unCheckedChildren:t&&l||n,onChange:d,checked:!!t,size:s})},ValueSources:rr,confirm:function(e){nr(e)},Provider:function(e){var t=e.config,r=e.children;return a.createElement(s.Ay,{locale:t.settings.locale.antd},r)}};function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir=ar(ar({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.Conjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.Switch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.Button,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.Icon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.ButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.ValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.ValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.Provider,e)},renderConfirm:function(e,t){return(0,t.W.confirm)(e)},locale:ar({},i.d$.settings.locale),removeInvalidMultiSelectValuesOnLoad:!1,normalizeListValues:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils.normalizeListValues).call.apply(e,[null].concat(r))}}),ur=ar(ar({},i.d$.widgets),{},{text:ar(ar({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextWidget,e)}}),textarea:ar(ar({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextAreaWidget,e)}}),number:ar(ar({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.NumberWidget,e)}}),multiselect:ar(ar({},i.d$.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,l=n.AutocompleteWidget,o=n.MultiSelectWidget;return e.asyncFetch||e.showSearch?r(l,ar(ar({},e),{},{multiple:!0})):r(o,e)}}),select:ar(ar({},i.d$.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,l=n.AutocompleteWidget,o=n.SelectWidget;return e.asyncFetch||e.showSearch?r(l,e):r(o,e)}}),slider:ar(ar({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.SliderWidget,e)}}),boolean:ar(ar({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BooleanWidget,e)}}),date:ar(ar({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateWidget,e)}}),time:ar(ar({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.TimeWidget,e)}}),datetime:ar(ar({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateTimeWidget,e)}}),rangeslider:ar(ar({},i.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.RangeWidget,e)}}),treeselect:ar(ar({},i.d$.widgets.treeselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,e)}}),treemultiselect:ar(ar({},i.d$.widgets.treemultiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,ar(ar({},e),{},{treeMultiple:!0}))}})}),cr=ar({},i.d$.types),sr=ar(ar({},i.d$.ctx),{},{utils:ar(ar({},i.d$.ctx.utils),{},{normalizeListValues:function(e,t,r){var n=["treeselect","treemultiselect"].includes(t),l=["multiselect","treemultiselect"].includes(t);return n&&(e=function(e,t,r){var n,l=qe(e);try{for(l.s();!(n=l.n()).done;){var o=n.value;if(o.path=$e(e,o.value),0!=t.treeSelectOnlyLeafs){var a=He(e,o.value);r||(o.selectable=0==a.length)}}}catch(e){l.e(e)}finally{l.f()}return e}(e=function(e){var t,r,n,l=Ue,o=function e(n,o,a){if(n.children){1==a&&(n[l.pId]=l.rootPId);var i,u=n.children.length,c=qe(n.children);try{for(c.s();!(i=c.n()).done;){var s=i.value;s[l.pId]=n[l.id],t++,o.splice(t,0,s),r++,e(s,o,a+1)}}catch(e){c.e(e)}finally{c.f()}delete n.children,0==u&&(o.splice(t,1),t--,r--)}};if(Array.isArray(e))for(r=e.length,t=0;t<r;t++){var a=e[t];n=a,"object"==(0,Ie.A)(n)&&null!==n&&(void 0!==a[l.pId]&&a[l.pId]!=l.rootPId||o(a,e,1))}return e}(e=Ge(e)),r,l)),e}}),W:ar(ar({},i.d$.ctx.W),lr)}),dr=ar(ar({},i.d$),{},{ctx:sr,types:cr,widgets:ur,settings:ir});const pr=dr=i.Aq.ConfigMixins.addMixins(dr,["rangeslider","treeselect","treemultiselect","rangeable__date"]);var fr=r(73881),mr=r(95957),vr=r(65861),gr=r(76147),hr=r(79040),yr=r(6277),br=r(32861),Er=r(60169),Ar=r(34982),Or=r(77421),wr=r(12543),Sr=r(5866),Cr=r.n(Sr),kr=r(98697),Pr=r(97306),xr=i.Aq.ListUtils.mapListValues,jr=r(63326),Rr=["width"],Wr=["width"],Fr=r(51343),Vr=r(42708),Lr=r(5721),Tr=r(25856),Dr=r(91043),Br=i.Aq.ListUtils.mapListValues,Mr=r(87050),Ir=r(25775),qr=r(2455),Nr=r(30460),zr=r(62649),_r=r(17337),Gr=r(49159),Ur=r(93755),$r=["width"];function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kr=i.Rj.W,Qr=a.createElement(Gr.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),Jr=a.createElement(Ur.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),Xr=[];const Zr=function(e){var t=e.allowCustomValues,r=e.multiple,l=e.disableClearable,o=e.value,i=e.customProps,u=e.readonly,c=e.config,s=e.filterOptionsConfig,d=e.errorText,p={stringify:(0,a.useCallback)((function(e){return c.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[c])},f=(0,Mr.Z)(s||p),m=Kr(e,{debounceTimeout:100,multiple:r,uif:"mui"}),v=m.open,g=m.onOpen,h=m.onClose,y=m.onChange,b=m.onInputChange,E=m.inputValue,A=m.options,O=m.isInitialLoading,w=m.isLoading,S=m.aPlaceholder,C=m.extendOptions,k=m.getOptionSelected,P=m.getOptionDisabled,x=m.getOptionIsCustom,j=m.getOptionLabel,R=m.selectedListValue,W=c.settings,F=W.defaultSelectWidth,V=W.defaultSearchWidth,L=i||{},T=L.width,D=(0,se.A)(L,$r),B=D.input||{},M=B.width||V;B=z()(B,["width"]);var I=z()(D,["showSearch","showCheckboxes"]),q=!0,N=T||F,_={width:r?void 0:N,minWidth:N},G=u?"":S,U=G||c.settings.fieldPlaceholder,$=null!=o?o:r?Xr:null,H=(0,_r.A)((function(e){return{input:{minWidth:M+" !important"}}})),Y=(0,_r.A)((function(e){return{root:{height:"auto"},label:{marginTop:"3px",marginBottom:"3px"}}}))(),K=H();return a.createElement(Er.A,{fullWidth:q},a.createElement(Ir.Ay,(0,n.A)({disableClearable:l,disableCloseOnSelect:r,fullWidth:q,multiple:r,style:_,classes:K,freeSolo:t,loading:O,open:v,onOpen:g,onClose:h,inputValue:E,onInputChange:b,label:G,onChange:y,value:$,getOptionSelected:k,disabled:u,readOnly:u,options:A,groupBy:function(e){return null==e?void 0:e.groupTitle},getOptionLabel:j,getOptionDisabled:P,renderInput:function(e){var t,l=!r&&!v,o=null!==(t=null==R?void 0:R.title)&&void 0!==t?t:"",i=l?o:r&&!v?"":null!=E?E:"";return a.createElement(br.A,(0,n.A)({},e,{inputProps:Yr(Yr({},e.inputProps),{},{value:i,"aria-label":U}),InputProps:Yr(Yr({},e.InputProps),{},{readOnly:u,endAdornment:a.createElement(a.Fragment,null,w?a.createElement(qr.A,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:u,placeholder:G,"aria-label":G,error:!!d},B))},renderTags:function(e,t){return e.map((function(e,r){var l=x(e)?"customSelectOption":void 0,o=a.createElement("span",{className:l},j(e));return a.createElement(Nr.A,(0,n.A)({key:e.value,classes:Y,label:o,size:"small"},t({index:r})))}))},renderOption:function(e,t){var n=t.selected,l=e.title,o=e.renderTitle,i=(e.value,e.specialValue),u=e.isHidden,c=x(e)?"customSelectOption":void 0,s=a.createElement("span",{className:c},o||l);return u?null:r?i?a.createElement(zr.A,null,o||l):a.createElement(zr.A,null,n?Jr:Qr,s):i?a.createElement(a.Fragment,null,o||l):a.createElement(a.Fragment,null,s)},filterOptions:function(e,t){var r=f(e,t);return C(r)}},I)))};var en=r(89881),tn=["items","selectedKey","setField","isValueField"];function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ln={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},on=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,l=t.path,o=t.key,i=t.label,u=t.altLabel,c=t.disabled,s=t.grouplabel,d=t.matchesType,p=t.tooltip,f="  ".repeat(r);return n?e(n,r+1):{title:i,renderTitle:d?a.createElement("b",null,f+i):f+i,value:l,disabled:c,groupTitle:r>0?f+s:null,tooltip:p,_value2:o,_altLabel:u}})).flat(1/0)},an=function(e,t){var r=e.items,n=e.selectedKey,l=e.setField,o=e.isValueField,i=(0,se.A)(e,tn),u=on(r),c=n,s={stringify:(0,a.useCallback)((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return ln[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return nn(nn({},i),{},{listValues:u,setValue:function(e,t){if(e||o)return l(e)},filterOptionsConfig:s,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:c,isFieldAutocomplete:!0})},un=r(81553),cn=r(14143),sn=r(38314),dn=r(27553),pn=i.Aq.DragIcon,fn={delGroup:a.createElement(un.A,null),delRuleGroup:a.createElement(un.A,null),delRule:a.createElement(un.A,null),addSubRuleSimple:a.createElement(cn.A,null),addSubRule:a.createElement(cn.A,null),addSubGroup:a.createElement(cn.A,null),addRule:a.createElement(cn.A,null),addGroup:a.createElement(cn.A,null),drag:a.createElement(sn.A,null)},mn={drag:"inherit"},vn=r(41639),gn=r(77545),hn={addSubRuleSimple:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},yn={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"},bn=r(88393),En=r(15481),An=r(1009),On=r(30089),wn=r(17827),Sn=r(71773),Cn=r(68417),kn=r(42151),Pn=r(5429),xn=(0,_r.A)((function(e){return{paper:{padding:e.spacing(1)}}}));const jn={MaterialTextWidget:function(e){var t=e.value,r=e.setValue,l=(e.config,e.readonly),o=e.placeholder,i=e.customProps,u=e.maxLength,c=t||"";return a.createElement(Er.A,null,a.createElement(br.A,(0,n.A)({value:c,placeholder:l?"":o,InputProps:{readOnly:l},inputProps:{maxLength:u},disabled:l,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},i)))},MaterialTextAreaWidget:function(e){var t=e.value,r=e.setValue,l=e.config,o=e.readonly,i=e.placeholder,u=e.customProps,c=e.maxLength,s=e.maxRows,d=e.fullWidth,p=l.settings.defaultMaxRows,f=t||"";return a.createElement(Er.A,{fullWidth:d},a.createElement(br.A,(0,n.A)({fullWidth:d,maxRows:s||p,multiline:!0,value:f,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:c},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},u)))},MaterialDateWidget:function(e){var t,r,l,o=e.value,i=e.setValue,u=e.readonly,c=e.customProps,s=e.dateFormat,d=e.valueFormat,p=e.placeholder,f=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(l=window).matchMedia)||void 0===r?void 0:r.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Ar.s:Ar.l;return a.createElement(Er.A,null,a.createElement(f,(0,n.A)({readOnly:u,disabled:u,placeholder:u?"":p,format:s,value:o||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(d):void 0}(e))}},c)))},MaterialDateTimeWidget:function(e){var t,r,l,o=e.value,i=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.dateFormat,p=e.timeFormat,f=e.valueFormat,m=e.customProps,v=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(l=window).matchMedia)||void 0===r?void 0:r.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Or.d:Or.K,g=d+" "+p;return a.createElement(Er.A,null,a.createElement(v,(0,n.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:g,value:o||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(f):void 0}(e))}},m)))},MaterialTimeWidget:function(e){var t,r,l,o=e.value,i=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.timeFormat,p=e.valueFormat,f=e.customProps,m=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(l=window).matchMedia)||void 0===r?void 0:r.call(l,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?wr.n:wr.A,v=-1!=d.indexOf(":ss"),g=o?Cr()(o,d):null;return a.createElement(Er.A,null,a.createElement(m,(0,n.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:d,value:g||null,onChange:function(e){i(function(e){return e&&e.isValid()?e.format(p):void 0}(e))},views:v?["hours","minutes","seconds"]:["hours","minutes"]},f)))},MaterialSelectWidget:function(e){var t=e.listValues,r=e.value,l=e.setValue,o=(e.allowCustomValues,e.readonly),i=e.placeholder,u=e.customProps,c=null!=r;return a.createElement(Er.A,null,a.createElement(kr.A,(0,n.A)({autoWidth:!0,displayEmpty:!0,label:o?"":i,onChange:function(e){void 0!==e.target.value&&l(e.target.value)},value:c?r:"",disabled:o,readOnly:o,renderValue:function(e){return o||null!=e?function(e){return xr(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()}(e):i}},z()(u,["showSearch","input"])),xr(t,(function(e){var t=e.title,r=e.value;return a.createElement(Pr.A,{key:r,value:r},t)}))))},MaterialNumberWidget:function(e){var t=e.value,r=e.setValue,l=(e.config,e.readonly),o=e.min,i=e.max,u=e.step,c=e.placeholder,s=e.customProps,d=null==t?"":t;return a.createElement(Er.A,null,a.createElement(br.A,(0,n.A)({type:"number",value:d,placeholder:l?"":c,InputProps:{readOnly:l},inputProps:{min:o,max:i,step:u},disabled:l,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s)))},MaterialSliderWidget:function(e){var t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=l||{},v=m.width,g=(0,se.A)(m,Rr),h=g.input||{},y=g.slider||g,b="number"==typeof o?o:"",E="number"==typeof o?o:null,A=!!d&&Object.keys(d).map((function(e){return{value:e,label:d[e]}})),O=a.createElement(br.A,(0,n.A)({type:"number",value:b,placeholder:r,InputProps:{readOnly:p},inputProps:{min:u,max:c,step:s},disabled:p,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)},onBlur:function(){o<u?i(u):o>c&&i(c)}},h)),w=a.createElement(jr.A,(0,n.A)({value:E,onChange:function(e,t){i(t)},disabled:p,min:u,max:c,step:s,marks:A,valueLabelDisplay:"auto"},y)),S={marginLeft:"5px",paddingLeft:"12px",marginBottom:A&&"-16px",width:v||f};return a.createElement(Er.A,null,a.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},a.createElement("div",{style:{marginLeft:"5px"}},O),a.createElement("div",{style:S},w)))},MaterialRangeWidget:function(e){var t=e.config,r=e.placeholders,l=e.customProps,i=e.value,u=e.setValue,c=e.min,s=e.max,d=e.step,p=e.marks,f=e.readonly,m=e.textSeparators,v=t.settings.defaultSliderWidth;(0,a.useEffect)((function(){var t=e.value||[void 0,void 0],r=(0,o.A)(t,2);r[0],r[1],e.value}),[]);var g=function(){i&&(i[0]<c?u([c,i[1]]):i[1]>s&&u([i[0],s]))},h=l||{},y=h.width,b=(0,se.A)(h,Wr),E=b.input||{},A=b.slider||b,O=!!p&&Object.keys(p).map((function(e){return{value:e,label:p[e]}})),w=i?(0,me.A)(i):[void 0,void 0],S=(0,o.A)(w,2),C=S[0],k=S[1];null==C&&(C="",w[0]=0),null==k&&(k="",w[1]=0);var P=a.createElement(br.A,(0,n.A)({type:"number",value:C,placeholder:r[0],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?(0,me.A)(e.value):[void 0,void 0];n[0]=r,u(n)},onBlur:g},E)),x=a.createElement(br.A,(0,n.A)({type:"number",value:k,placeholder:r[1],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?(0,me.A)(e.value):[void 0,void 0];n[1]=r,u(n)},onBlur:g},E)),j=a.createElement(jr.A,(0,n.A)({value:w,onChange:function(e,t){u(t)},disabled:f,min:c,max:s,step:d,marks:O,valueLabelDisplay:"auto"},A)),R={marginLeft:"5px"},W={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:y||v};return a.createElement(Er.A,null,a.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},a.createElement("div",{style:R},P),a.createElement("div",{className:"widget--sep"},a.createElement("span",null,m[1])),a.createElement("div",{style:R},x),a.createElement("div",{style:W},j)))},MaterialBooleanWidget:function(e){var t=e.customProps,r=e.value,l=e.setValue,o=e.labelYes,i=e.labelNo,u=e.readonly;return a.createElement(Er.A,null,a.createElement(Lr.A,{component:"div"},a.createElement(Vr.A,{component:"label",container:!0,alignItems:"center",spacing:0},a.createElement(Vr.A,{item:!0,component:"span"},i),a.createElement(Vr.A,{item:!0,component:"span"},a.createElement(Fr.A,(0,n.A)({checked:!!r,onChange:function(){l(!r)},disabled:u},t))),a.createElement(Vr.A,{item:!0,component:"span"},o))))},MaterialMultiSelectWidget:function(e){var t,r=e.listValues,l=e.value,o=e.setValue,i=(e.allowCustomValues,e.readonly),u=e.placeholder,c=e.customProps,s=null!=l&&l.length>0;return a.createElement(Er.A,null,a.createElement(kr.A,(0,n.A)({multiple:!0,autoWidth:!0,displayEmpty:!0,label:i?"":u,onChange:function(e){void 0!==e.target.value&&o(e.target.value)},value:s?l:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return u;var t=Br(r,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return t.join(", ")}},z()(c,["showSearch","input","showCheckboxes"])),(t=s?l:[],Br(r,(function(e){var r=e.title,n=e.value;return a.createElement(Pr.A,{key:n,value:n},a.createElement(Tr.A,{checked:t.indexOf(n)>-1}),a.createElement(Dr.A,{primary:r}))})))))},MaterialAutocompleteWidget:Zr,MaterialFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,l=e.readonly,o=e.placeholder,i=e.errorText,u=null!=n;return a.createElement(Er.A,null,a.createElement(kr.A,{error:!!i,autoWidth:!0,displayEmpty:!0,label:o,onChange:function(e){void 0!==e.target.value&&r(e.target.value)},value:u?n:"",disabled:l,renderValue:function(e){return l||e?function t(r){return r.map((function(r){return r.items?t(r.items):r.path===e?r.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop():o}},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,l=t.path,o=t.label,i=t.disabled,u=t.matchesType,c="  ".repeat(r);return n?[a.createElement(en.A,{disabled:i,key:l,disableSticky:!0},c&&a.createElement("span",null,c),o),e(n,r+1)]:a.createElement(Pr.A,{disabled:i,key:l,value:l},c&&a.createElement("span",null,c),u?a.createElement("b",null,o):o)}))}(t)))},MaterialFieldAutocomplete:function(e){return a.createElement(Zr,an(e,e.config))},MaterialIcon:function(e){var t=e.type,r=e.readonly,n=fn[t]||null;return n||"drag"!==t?"drag"===t?a.createElement(dn.A,{size:"small",disabled:r,color:mn[t]},n):n:a.createElement(pn,null)},MaterialButton:function(e){var t=e.type,r=e.label,n=e.onClick,l=e.readonly,o=e.renderIcon,i=null==o?void 0:o({type:t,readonly:l});return!r||hn[t]?a.createElement(gn.A,{size:"small",disabled:l,onClick:n,color:yn[t],"aria-label":r},i):a.createElement(vn.A,{size:"small",disabled:l,onClick:n,color:yn[t],startIcon:i},r)},MaterialButtonGroup:function(e){var t=e.children;return e.config,a.createElement(a.Fragment,null,t)},MaterialConjs:function(e){var t=e.id,r=e.not,n=e.setNot,l=e.conjunctionOptions,o=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return o(e)};return a.createElement(Er.A,null,a.createElement(bn.A,{disableElevation:!0,variant:"contained",size:"small",disabled:u},s&&(u&&!r?null:a.createElement(vn.A,{key:t,id:t+"__not",color:r?"secondary":"default",onClick:function(e){return n(e)}.bind(null,!r),disabled:u},d||"NOT")),m&&Object.keys(l).map((function(e){var t=l[e],r=t.id,n=(t.name,t.label),c=t.checked,s=o.isDummyFn?"__dummy":"";return!u&&!i||c?a.createElement(vn.A,{key:r+s,id:r+s,color:c?"primary":"default",value:e,onClick:v.bind(null,e),disabled:u||i},n):null}))))},MaterialSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,l=e.checkedLabel,o=e.hideLabel,i=e.id,u=e.config,c=e.type,s=(u.settings.renderSize,function(){return r(!t)}),d=c,p=t&&l||n,f=t?a.createElement(On.A,null):a.createElement(An.A,null);return"lock"==c?o?a.createElement(gn.A,{key:i+d,onClick:s,size:"small"},f):a.createElement(vn.A,{key:i+d,onClick:s,size:"small",startIcon:f},p):a.createElement(En.A,{control:a.createElement(Fr.A,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:p})},MaterialValueSources:function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,l=e.setValueSrc,i=(e.readonly,a.useState(null)),u=(0,o.A)(i,2),c=u[0],s=u[1],d=xn(),p=function(){s(null)},f=Boolean(c);return a.createElement("div",null,a.createElement(gn.A,{size:"small",onClick:function(e){c?p():function(e){s(e.currentTarget)}(e)}},a.createElement(wn.A,null)),a.createElement(Sn.Ay,{open:f,anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:p,classes:{paper:d.paper},disablePortal:!0},a.createElement(Er.A,{component:"fieldset"},a.createElement(Pn.A,{component:"legend"},n),a.createElement(kn.A,{value:r||"value",onChange:function(e){void 0!==e.target.value&&(l(e.target.value),p())}},function(e){return e.map((function(e){var t=(0,o.A)(e,2),n=t[0],l=t[1];return a.createElement(En.A,{key:n,value:n,checked:r==n||!r&&"value"==n,control:a.createElement(Cn.A,null),label:l.label})}))}(t)))))},MaterialConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,l=e.title;(0,e.confirmFn)({description:l||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MaterialUseConfirm:gr.S,MaterialProvider:function(e){var t=e.config,r=e.children,n=t.settings.theme||{},l=t.settings.locale||{},o=n.material,i=l.material,u=o||i?(0,mr.A)(o,i):null,c=a.createElement("div",{className:"mui"},r),s=a.createElement(hr.M,{utils:yr.A},a.createElement(gr.a,null,c));return u?a.createElement(vr.A,{theme:u},s):s}};function Rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fn=Wn(Wn({},i.d$.settings),{},{renderField:function(e,t){var r,n=t.RCE,l=t.W,o=l.MaterialFieldAutocomplete,a=l.MaterialFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(o,e):n(a,e)},renderOperator:function(e,t){var r,n=t.RCE,l=t.W,o=l.MaterialFieldAutocomplete,a=l.MaterialFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(o,e):n(a,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MaterialFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MaterialConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MaterialSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MaterialButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MaterialIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MaterialButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MaterialValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MaterialValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MaterialProvider,e)},renderConfirm:function(e,t){return(0,t.W.MaterialConfirm)(e)},useConfirm:function(e){return(0,e.W.MaterialUseConfirm)()}}),Vn=Wn(Wn({},i.d$.widgets),{},{text:Wn(Wn({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextWidget,e)}}),textarea:Wn(Wn({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextAreaWidget,e)}}),number:Wn(Wn({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialNumberWidget,e)}}),multiselect:Wn(Wn({},i.d$.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,l=n.MaterialAutocompleteWidget,o=n.MaterialMultiSelectWidget;return e.asyncFetch||e.showSearch?r(l,Wn(Wn({},e),{},{multiple:!0})):r(o,e)}}),select:Wn(Wn({},i.d$.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,l=n.MaterialAutocompleteWidget,o=n.MaterialSelectWidget;return e.asyncFetch||e.showSearch?r(l,e):r(o,e)}}),slider:Wn(Wn({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialSliderWidget,e)}}),boolean:Wn(Wn({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialBooleanWidget,e)}}),date:Wn(Wn({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateWidget,e)}}),time:Wn(Wn({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTimeWidget,e)}}),datetime:Wn(Wn({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateTimeWidget,e)}}),rangeslider:Wn(Wn({},i.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialRangeWidget,e)}})}),Ln=Wn({},i.d$.types),Tn=Wn(Wn({},i.d$.ctx),{},{W:Wn(Wn({},i.d$.ctx.W),jn)}),Dn=Wn(Wn({},i.d$),{},{ctx:Tn,types:Ln,widgets:Vn,settings:Fn});const Bn=Dn=i.Aq.ConfigMixins.addMixins(Dn,["rangeslider"]);var Mn=r(76292),In=i.Aq.moment,qn=r(72696),Nn=r(80352),zn=r(75846),_n=r(47203),Gn=i.Aq.ListUtils.mapListValues,Un=r(90395),$n=r(77647),Hn=r(11511),Yn=r(64255),Kn=i.Aq.uuid,Qn=i.Aq.ListUtils.mapListValues,Jn=i.Aq.DragIcon,Xn={delGroup:Yn.BeE,delRuleGroup:Yn.BeE,delRule:Yn.BeE,addSubRuleSimple:Yn.QLR,addSubRule:Yn.QLR,addSubGroup:Yn.QLR,addRule:Yn.QLR,addGroup:Yn.QLR,drag:Yn.t6y},Zn={addSubRuleSimple:!0,delRuleGroup:!0,delRule:!0},el={addRule:"primary",addGroup:"primary",delGroup:"danger",delRuleGroup:"danger",delRule:"danger"};const tl={BootstrapTextWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.placeholder,o=e.maxLength,i=t||"";return a.createElement(Mn.A,{type:"text",bsSize:"sm",value:i,placeholder:l,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:o})},BootstrapTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.placeholder,o=e.maxLength,i=(e.maxRows,e.fullWidth),u=t||"";return a.createElement(Mn.A,{type:"textarea",bsSize:"sm",value:u,placeholder:l,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:o,style:{width:i?"100%":void 0}})},BootstrapDateWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat,e.readonly);return a.createElement(Mn.A,{type:"date",bsSize:"sm",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}})},BootstrapDateTimeWidget:function(e){var t,r=e.value,n=e.setValue,l=(e.config,e.valueFormat),o=(e.use12Hours,e.readonly);return t=r?In(r).format("YYYY-MM-DDTHH:mm"):"",a.createElement(Mn.A,{type:"datetime-local",bsSize:"sm",value:t,disabled:o,onChange:function(e){var t=e.target.value;t=""==t?void 0:In(new Date(t)).format(l),n(t)}})},BootstrapTimeWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat,e.use12Hours,e.readonly);return a.createElement(Mn.A,{type:"time",bsSize:"sm",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}})},BootstrapSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,l=(e.allowCustomValues,e.readonly),i=e.placeholder,u=function(e){void 0!==e.target.value&&n(e.target.value)},c=null!=r,s=(0,a.useState)(!1),d=(0,o.A)(s,2),p=d[0],f=d[1];return a.createElement(Nn.A,{isOpen:p,onClick:function(){return f(!p)},disabled:l,toggle:function(){return f(!p)}},a.createElement(zn.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},c?function(e){return l||null!=e?function(e){return Gn(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()}(e):i}(r):a.createElement("span",null," ")),a.createElement(_n.A,{container:"body",style:{}},!c&&a.createElement(qn.A,{disabled:!0,value:""}),Gn(t,(function(e){var t=e.title,n=e.value;return a.createElement(qn.A,{key:n,onClick:u,value:n,active:r==n},t)}))))},BootstrapNumberWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.min,o=e.max,i=e.step,u=e.placeholder,c=null==t?"":t;return a.createElement(Mn.A,{type:"number",bsSize:"sm",value:c,placeholder:u,disabled:n,min:l,max:o,step:i,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}})},BootstrapSliderWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.min,o=e.max,i=e.step,u=e.placeholder,c=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},s=null==t?"":t;return a.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},a.createElement(Mn.A,{key:"number",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto"},type:"number",value:s,placeholder:u,disabled:n,min:l,max:o,step:i,onChange:c}),a.createElement(Mn.A,{key:"range",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto",minWidth:"150px"},type:"range",value:s,disabled:n,min:l,max:o,step:i,onChange:c}))},BootstrapBooleanWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.labelYes,e.labelNo,e.readonly),l=function(e){return r("true"==e.target.value)},o=Kn(),i=Kn();return a.createElement(a.Fragment,null,a.createElement(Un.A,null,a.createElement($n.A,{id:o,value:!0,checked:!!t,disabled:n,color:!0===t?"success":"secondary",onClick:l,size:"sm"},a.createElement(Hn.g,{icon:Yn.e68})),a.createElement($n.A,{id:i,value:!1,checked:!t,disabled:n,color:!1===t?"danger":"secondary",onClick:l,size:"sm"},a.createElement(Hn.g,{icon:Yn.GRI}))))},BootstrapMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,l=(e.allowCustomValues,e.placeholder),i=e.readonly,u=(0,a.useState)(!1),c=(0,o.A)(u,2),s=c[0],d=c[1],p=(0,a.useState)(null!=r?r:[]),f=(0,o.A)(p,2),m=f[0],v=f[1],g=function(e){var r=h(e.target.value,t);0==r.length&&(r=void 0),n(r)},h=function(e,t){if(!e)return m;var r=[];return m.includes(e)?(r=m.filter((function(t){return t!==e})),v(r)):(r=[].concat((0,me.A)(m),[e]),v(r)),r};return a.createElement(Nn.A,{isOpen:s,onClick:function(){return d(!s)},disabled:i,toggle:function(){return d(!s)}},a.createElement(zn.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},m.length?function(e){if(!i&&!e.length)return l;var r=Qn(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")}(m):a.createElement("span",null," ")),a.createElement(_n.A,{container:"body",style:{}},Qn(t,(function(e){var t=e.title,r=e.value;return a.createElement(qn.A,{key:r,onClick:g,value:r,active:m.some((function(e){return e===r}))},t)}))))},BootstrapFieldSelect:function(e){var t,r=e.items,n=e.setField,l=e.selectedKey,i=e.readonly,u=e.placeholder,c=e.errorText,s=(0,a.useState)(!1),d=(0,o.A)(s,2),p=d[0],f=d[1],m=function(e){void 0!==e.target.value&&n(e.target.value)},v=null!=l;return a.createElement(Nn.A,{isOpen:p,onClick:function(){return f(!p)},disabled:i,toggle:function(){return f(!p)}},a.createElement(zn.A,{tag:"button",className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},v?function(e,t){var r;return i||t?(null===(r=function e(r){for(var n in r){var l=r[n];if(l.path===t)return l;if(l.items){var o=e(l.items);if(o)return o}}}(e))||void 0===r?void 0:r.label)||t:u}(r,l):(t=u||c||"&nbsp;",c?a.createElement("span",{style:{color:"red"}},t):a.createElement("span",null,t))),a.createElement(_n.A,{container:"body",style:{overflowY:"auto",maxHeight:"400px"}},!v&&a.createElement(qn.A,{key:"body",disabled:!0,value:""}),function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(t).map((function(o){var i=t[o],u=i.items,c=i.path,s=i.label,d=i.disabled,p=i.matchesType,f=n>0?"  ".repeat(n):"",v=n>1?"  ".repeat(n-1):"";if(u)return a.createElement("div",{key:"dropdown-itemGroup-".concat(c)},a.createElement(qn.A,{header:!0,key:"".concat(c,"-header"),onClick:m,value:c},f+s),e(u,!0,n+1));var g=p?a.createElement("b",null,v+s):v+s;return a.createElement(qn.A,{disabled:d,key:c,onClick:m,value:c,className:r?"px-4":void 0,active:l==c},g)}))}(r)))},BootstrapIcon:function(e){var t=e.type,r=Xn[t]&&a.createElement(Hn.g,{icon:Xn[t]})||null;return r||"drag"!==t||(r=a.createElement(Jn,null)),r},BootstrapButton:function(e){var t=e.type,r=e.label,n=e.onClick,l=e.renderIcon,o=e.readonly,i=(null==l?void 0:l({type:t,readonly:o}))||null,u=Zn[t]||!r;return n?a.createElement($n.A,{size:"sm",color:el[t],onClick:n},i,!u&&r):i},BootstrapButtonGroup:function(e){var t=e.children;return e.config,a.createElement(Un.A,null,t)},BootstrapConjs:function(e){var t=e.id,r=e.not,n=e.setNot,l=e.conjunctionOptions,o=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return o(e)};return a.createElement(Un.A,{size:"sm",disabled:u},s&&(u&&!r?null:a.createElement($n.A,{key:t,id:t+"__not",size:"sm",color:r?"danger":"secondary",onClick:function(e){return n(e)}.bind(null,!r),disabled:u},d||"NOT")),m&&Object.keys(l).map((function(e){var t=l[e],r=t.id,n=(t.name,t.label),c=t.checked,s=o.isDummyFn?"__dummy":"";return!u&&!i||c?a.createElement($n.A,{key:r+s,id:r+s,size:"sm",color:c?"primary":"secondary",value:e,onClick:v.bind(null,e),disabled:u||i},n):null})))},BootstrapValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc,n=(e.title,e.setValueSrc),l=e.readonly,i=(0,a.useState)(!1),u=(0,o.A)(i,2),c=u[0],s=u[1],d=function(e){void 0!==e.target.value&&n(e.target.value)};return a.createElement(Nn.A,{isOpen:c,onClick:function(){return s(!c)},disabled:l,toggle:function(){return s(!c)}},a.createElement(zn.A,{tag:"span",className:"btn",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:"transparent"},a.createElement(Hn.g,{icon:Yn.vaG})),a.createElement(_n.A,{container:"body",style:{}},function(e){return e.map((function(e){var t=(0,o.A)(e,2),n=t[0],l=t[1];return a.createElement(qn.A,{key:n,onClick:d,value:n,active:r==n},l.label||n)}))}(t)))},BootstrapConfirm:function(e){var t=e.onOk,r=(e.okText,e.cancelText,e.title);confirm(r)&&t()},BootstrapProvider:function(e){return e.config,e.children}};function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ll=nl(nl({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.BootstrapConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.BootstrapButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.BootstrapIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.BootstrapButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.BootstrapValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.BootstrapValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.BootstrapProvider,e)},renderConfirm:function(e,t){return(0,t.W.BootstrapConfirm)(e)}}),ol=nl(nl({},i.d$.widgets),{},{text:nl(nl({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextWidget,e)}}),textarea:nl(nl({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextAreaWidget,e)}}),number:nl(nl({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapNumberWidget,e)}}),multiselect:nl(nl({},i.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapMultiSelectWidget,e)}}),select:nl(nl({},i.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSelectWidget,e)}}),slider:nl(nl({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSliderWidget,e)}}),boolean:nl(nl({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapBooleanWidget,e)}}),date:nl(nl({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateWidget,e)}}),time:nl(nl({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTimeWidget,e)}}),datetime:nl(nl({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateTimeWidget,e)}})}),al=nl({},i.d$.types),il=nl(nl({},i.d$.ctx),{},{W:nl(nl({},i.d$.ctx.W),tl)});const ul=nl(nl({},i.d$),{},{ctx:il,types:al,widgets:ol,settings:ll});var cl=r(20795),sl=r(51671);var dl=r(67656),pl=i.Aq.moment,fl=r(72430),ml=i.Aq.moment,vl=i.Aq.moment,gl=r(64988),hl=r(60455),yl=r(1453),bl=["options","customProps","searchProps"],El=["searchProps"];function Al(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Al(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wl=function(e){var t=e.options,r=e.customProps,l=e.searchProps,i=(0,se.A)(e,bl),u=null!=r?r:{},c=u.searchProps,s=(0,se.A)(u,El),d=(0,a.useState)(""),p=(0,o.A)(d,2),f=p[0],m=p[1],v=(0,a.useCallback)((function(e,t){return m(t)}),[m]),g=(0,a.useCallback)((function(e){return e.itemType===hl.W.Header&&"FilterHeader"===e.key?a.createElement(yl.G,(0,n.A)({onChange:v,underlined:!0,placeholder:null==l?void 0:l.placeholder},null!=c?c:{})):a.createElement(a.Fragment,null,e.text)}),[yl.G,v,c,l]),h=(0,a.useCallback)((function(){return m("")}),[m]),y=(0,a.useMemo)((function(){return[{key:"FilterHeader",text:"-",itemType:hl.W.Header},{key:"divider_filterHeader",text:"-",itemType:hl.W.Divider}].concat((0,me.A)(t.map((function(e){return!e.disabled&&e.text.toLowerCase().indexOf(f.toLowerCase())>-1?e:Ol(Ol({},e),{},{hidden:!0})}))))}),[t,f]);return a.createElement(gl.m,(0,n.A)({options:y,calloutProps:{shouldRestoreFocus:!1,setInitialFocus:!1},onRenderOption:g,onDismiss:h},i,s))};function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kl=i.Aq.ListUtils.mapListValues;var Pl=r(74398),xl=["width"],jl=r(11977);function Rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fl=i.Aq.ListUtils.mapListValues;function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ll=r(14819),Tl=i.Aq.DragIcon,Dl={addSubRuleSimple:"CirclePlus",addSubRule:"Add",addSubGroup:"CirclePlus",addRule:"Add",addGroup:"CirclePlus",delGroup:"Delete",delRuleGroup:"Delete",delRule:"Delete",drag:"GripperBarHorizontal"};var Bl=r(82296),Ml=r(75521),Il=r(45138),ql=r(48713),Nl={addSubRuleSimple:!0,delRuleGroup:!0,delRule:!0},zl={addSubRuleSimple:!0};(0,cl.v)();const _l={FluentUITextWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=e.placeholder,o=e.maxLength,i=t||"";return a.createElement(sl.A,{value:i,placeholder:l,disabled:n,onChange:function(e,t){""===t&&(t=void 0),r(t)},maxLength:o})},FluentUITextAreaWidget:function(e){var t=e.value,r=e.setValue,l=(e.config,e.readonly),o=e.placeholder,i=e.maxLength,u=e.maxRows,c=(e.fullWidth,e.customProps),s=t||"";return a.createElement(sl.A,(0,n.A)({readonly:l,multiline:!0,rows:u,maxLength:i,placeholder:o,value:s,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},c))},FluentUIDateWidget:function(e){var t=e.value,r=e.setValue,l=(e.config,e.valueFormat),o=e.dateFormat,i=e.readonly,u=e.customProps,c=e.placeholder,s=t?pl(t,l):void 0,d=s?s.toDate():void 0;return a.createElement(dl.l,(0,n.A)({disabled:i,value:d,onSelectDate:function(e){(""==e||e instanceof Date&&isNaN(e))&&(e=void 0);var t=e?pl(e).format(l):void 0;r(t)},style:{marginRight:"0.25rem",width:"150px"},placeholder:c,formatDate:function(e){return pl(e).format(o)}},u))},FluentUIDateTimeWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat),l=e.dateFormat,i=(e.timeFormat,e.use12Hours),u=e.readonly,c=(e.customProps,t?ml(t,n):void 0),s=c?c.toDate():void 0,d=(0,a.useState)(s),p=(0,o.A)(d,2),f=p[0],m=p[1],v=-1!=n.indexOf(":ss");return a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(dl.l,{disabled:u,value:s,formatDate:function(e){return ml(e).format(l)},onSelectDate:function(e){var t;if((""==e||e instanceof Date&&isNaN(e))&&(e=void 0),e){var l=ml(e);if(f){var o=ml(f);l.set("hour",o.get("hour")),l.set("minute",o.get("minute")),l.set("second",o.get("second"))}t=l.format(n)}t&&r(t)},style:{width:"150px"}}),a.createElement(fl.A,{useHour12:i,value:f,showSeconds:v,disabled:u,onChange:function(e,t){var l;(""==t||t instanceof Date&&isNaN(t))&&(t=void 0),m(t);var o=t?ml(t):void 0;if(c){var a=ml(c);o&&(a.set("hour",o.get("hour")),a.set("minute",o.get("minute")),a.set("second",o.get("second"))),l=a.format(n)}l&&r(l)},useComboBoxAsMenuWidth:!0,style:{marginRight:"5px"}}))},FluentUITimeWidget:function(e){var t=e.value,r=e.setValue,l=(e.config,e.valueFormat),o=e.use12Hours,i=e.readonly,u=e.customProps,c=t?vl(t,l):void 0,s=c?c.toDate():void 0,d=-1!=l.indexOf(":ss");return a.createElement(fl.A,(0,n.A)({styles:{optionsContainerWrapper:{height:"500px"}},useHour12:o,onChange:function(e,t){(""==t||t instanceof Date&&isNaN(t))&&(t=void 0);var n=t?vl(t).format(l):void 0;r(n)},disabled:i,allowFreeform:!0,showSeconds:d,value:s,useComboBoxAsMenuWidth:!0},u))},FluentUISelectWidget:function(e){var t=e.listValues,r=e.value,l=e.setValue,o=(e.allowCustomValues,e.readonly),i=e.customProps,u=e.placeholder,c=e.searchPlaceholder,s=e.showSearch,d=(0,a.useCallback)((function(e,t){void 0!==t.key&&l(t.key.toString())}),[l]),p=s?wl:gl.m,f=(0,a.useMemo)((function(){return{placeholder:c}}),[c]),m=Cl(Cl({},null!=i?i:{}),s?{searchProps:f}:{});return a.createElement(p,(0,n.A)({placeholder:u||"Select option",options:function(e){var t=[];return kl(e,(function(e){var r=e.title,n=e.value;t.push({key:n,text:r})})),t}(t),selectedKey:r,onChange:d,dropdownWidth:"auto",disabled:o},m))},FluentUINumberWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=e.min,o=e.max,i=e.step,u=e.placeholder;return a.createElement(sl.A,{type:"number",value:t,placeholder:u,disabled:n,min:l,max:o,step:i,onChange:function(e,t){var n;n=""===t||null==t?void 0:Number.isInteger(i)?parseInt(t):parseFloat(t),r(n)}})},FluentUISliderWidget:function(e){var t=e.config,r=e.placeholder,l=e.customProps,o=e.value,i=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=l||{},v=m.width,g=(0,se.A)(m,xl),h=g.input||{},y=g.slider||g,b=a.createElement(sl.A,(0,n.A)({type:"number",style:{width:"auto"},value:o,min:u,max:c,step:s,placeholder:r,disabled:p,onChange:function(e,t){t=""===t||null===t?void 0:Number(t),i(t)}},h)),E=a.createElement(Pl.A,(0,n.A)({min:u,max:c,step:s,value:o,disabled:p,marks:d,showValue:!1,onChange:function(e){e=""===e||null===e?void 0:Number(e),i(e)}},y)),A={width:v||f};return a.createElement("div",{style:{display:"flex",flexDirection:"row"}},b,a.createElement("div",{style:A},E))},FluentUIBooleanWidget:function(e){var t=e.value,r=e.setValue,n=e.labelYes,l=e.labelNo,o=e.readonly,i="string"==typeof n?n:"Yes",u="string"==typeof l?l:"No";return a.createElement(jl.l,{disabled:o,onText:i,offText:u,onChange:function(){return r(!t)}})},FluentUIMultiSelectWidget:function(e){var t=e.listValues,r=e.value,l=e.setValue,o=e.readonly,i=e.placeholder,u=e.searchPlaceholder,c=e.showSearch,s=e.customProps,d=(0,a.useCallback)((function(e,t){if(t){var n=null!=r?r:[],o=t.selected?[].concat((0,me.A)(n),[t.key]):n.filter((function(e){return e!==t.key}));l(o)}}),[r,l]),p=c?wl:gl.m,f=(0,a.useMemo)((function(){return{placeholder:u}}),[u]),m=Wl(Wl({},null!=s?s:{}),c?{searchProps:f}:{});return a.createElement(p,(0,n.A)({placeholder:i||"Select options",selectedKeys:r,onChange:d,multiSelect:!0,options:Fl(t,(function(e){var t=e.title;return{key:e.value,text:t}})),disabled:o},m))},FluentUIFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,l=e.placeholder,o=e.errorText;return a.createElement(gl.m,{placeholder:l,options:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],l=0;return Object.keys(t).map((function(o){var i={},u=t[o],c="  ".repeat(r),s=u.items,d=u.path,p=u.label,f=u.disabled;if(s){i.key=d,i.title=p,i.text=c+p,i.itemType=hl.W.Header;var m=e(s,r+1);n.push(i);var v,g=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Vl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(m);try{for(g.s();!(v=g.n()).done;){var h=v.value;n.push(h)}}catch(e){g.e(e)}finally{g.f()}n.push({key:"divider_"+l.toString(),text:"-",title:"",itemType:hl.W.Divider}),l+=1}else{var y=u.matchesType?a.createElement("b",null,c+p):c+p;i.key=d,i.title=p,i.text=y,i.disabled=f,n.push(i)}})),n}(t),selectedKey:n,onChange:function(e,t){void 0!==t.key&&r(t.key.toString())},onRenderTitle:function(e){var t=e[0];return a.createElement("div",null,a.createElement("span",null,t.title))},dropdownWidth:"auto",styles:{title:{color:o?"red":null}}})},FluentUIIcon:function(e){var t=e.type,r=e.readonly,n=e.renderBtn,l=e.renderDefaultButton;return Dl[t]||"drag"!==t?Dl[t]?n?n({iconProps:{iconName:Dl[t]}}):a.createElement(Ll.I,{key:t,disabled:r,iconName:Dl[t],color:"primary"}):l({}):a.createElement(Tl,null)},FluentUIButton:function(e){var t=e.type,r=e.label,l=e.onClick,o=e.readonly,i=e.renderIcon;return null==i?void 0:i({type:t,readonly:o,renderBtn:!r||Nl[t]?function(e){return a.createElement(Bl.K,(0,n.A)({key:t,onClick:l,disabled:o,color:"primary"},e))}:zl[t]?function(e){return a.createElement(Ml.r,(0,n.A)({key:t,onClick:l,disabled:o,text:r},e))}:function(e){return a.createElement(Il.z,(0,n.A)({key:t,onClick:l,disabled:o,text:r,color:"primary",styles:{root:{backgroundColor:"transparent"}}},e))},renderDefaultButton:function(e){return a.createElement(ql.Y,(0,n.A)({key:t,onClick:l,disabled:o,text:r,color:"primary"},e))}})},FluentUIButtonGroup:function(e){var t=e.children;return e.config,a.createElement(a.Fragment,null,t)},FluentUIConjs:function(e){var t=e.id,r=e.not,n=e.setNot,l=e.conjunctionOptions,o=e.setConjunction,i=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(l).length,f=i,m=c.settings.forceShowConj||p>1&&!f,v={backgroundColor:r?"#fed9cc":"#ffffff"},g=function(e){return o(e)};return a.createElement(a.Fragment,null,s&&(u&&!r?null:a.createElement(ql.Y,{toggle:n,checked:r,key:t,id:t+"__not",onClick:function(e){return n(e)}.bind(null,!r),disabled:u,text:d||"NOT",style:v})),m&&Object.keys(l).map((function(e){var t=l[e],r=t.id,n=(t.name,t.label),c=t.checked,s=o.isDummyFn?"__dummy":"";return!u&&!i||c?a.createElement(ql.Y,{toggle:o,checked:c,key:r+s,id:r+s,value:e,onClick:g.bind(null,e),disabled:u||i,text:n}):null})))},FluentUIValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc,n=(e.title,e.setValueSrc),l=(e.readonly,function(e,t){null!=t&&t.key&&n(t.key)});return a.createElement(Bl.K,{menuProps:function(e){var t=[];return e.map((function(e){var n=(0,o.A)(e,2),l=n[0],a=n[1];return t.push({key:l,text:a.label,checked:r==l||!r&&"value"==l,canCheck:!0})})),{onItemClick:l,items:t}}(t),text:"here",title:"ValueSource",onChange:l,iconProps:{iconName:"ChevronRight"},onRenderMenuIcon:function(){return a.createElement("div",null)}})},FluentUIConfirm:function(e){var t=e.onOk,r=(e.okText,e.cancelText,e.title);confirm(r)&&t()},FluentUIProvider:function(e){return e.config,e.children}};function Gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $l=Ul(Ul({},i.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.FluentUIConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.FluentUIButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.FluentUIIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.FluentUIButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.FluentUIValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.FluentUIValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.FluentUIProvider,e)},renderConfirm:function(e,t){return(0,t.W.FluentUIConfirm)(e)}}),Hl=Ul(Ul({},i.d$.widgets),{},{text:Ul(Ul({},i.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextWidget,e)}}),textarea:Ul(Ul({},i.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextAreaWidget,e)}}),number:Ul(Ul({},i.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUINumberWidget,e)}}),multiselect:Ul(Ul({},i.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIMultiSelectWidget,e)}}),select:Ul(Ul({},i.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISelectWidget,e)}}),slider:Ul(Ul({},i.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISliderWidget,e)}}),boolean:Ul(Ul({},i.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIBooleanWidget,e)}}),date:Ul(Ul({},i.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateWidget,e)}}),time:Ul(Ul({},i.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITimeWidget,e)}}),datetime:Ul(Ul({},i.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateTimeWidget,e)}})}),Yl=Ul({},i.d$.types),Kl=Ul(Ul({},i.d$.ctx),{},{W:Ul(Ul({},i.d$.ctx.W),_l)});const Ql=Ul(Ul({},i.d$),{},{ctx:Kl,types:Yl,widgets:Hl,settings:$l});var Jl=a.lazy((function(){return r.e(266).then(r.bind(r,42266))})),Xl=a.lazy((function(){return r.e(488).then(r.bind(r,35488))})),Zl={vanilla:Jl,mui:a.lazy((function(){return Promise.all([r.e(647),r.e(391)]).then(r.bind(r,79368))})),antd:Xl,material:a.lazy((function(){return r.e(567).then(r.bind(r,1567))})),bootstrap:a.lazy((function(){return Promise.all([r.e(983),r.e(948)]).then(r.bind(r,58654))})),fluent:a.lazy((function(){return r.e(31).then(r.bind(r,95031))}))},eo={vanilla:i.d$,antd:pr,material:Bn,mui:fr.WQ,bootstrap:ul,fluent:Ql};const to=function(e){var t=e.skin,r=Zl[t];return a.createElement(a.Suspense,{fallback:a.createElement(a.Fragment,null,"loading styles for ",t)},a.createElement(r,null))};var ro=r(12495),no=r.n(ro),lo=r(25287),oo=r(8305),ao=r(32417);function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var co=i.Aq.Autocomplete.simulateAsyncFetch;const so=function(e){var t=eo[e],r=co([{title:"A",value:"a"},{title:"AA",value:"aa"},{title:"AAA1",value:"aaa1"},{title:"AAA2",value:"aaa2"},{title:"B",value:"b"},{title:"C",value:"c"},{title:"D",value:"d"},{title:"E",value:"e"},{title:"F",value:"f"},{title:"G",value:"g"},{title:"H",value:"h"},{title:"I",value:"i"},{title:"J",value:"j"}],3),n=uo({},t.conjunctions),l=uo(uo({},t.operators.proximity),{},{valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],options:uo(uo({},t.operators.proximity.options),{},{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2},customProps:{}})}),o=uo(uo({},t.operators),{},{proximity:l,between:uo(uo({},t.operators.between),{},{valueLabels:["Value from","Value to"],textSeparators:["from","to"]})}),u=uo(uo({},t.widgets),{},{text:uo({},t.widgets.text),textarea:uo(uo({},t.widgets.textarea),{},{maxRows:3}),slider:uo({},t.widgets.slider),rangeslider:uo({},t.widgets.rangeslider),date:uo(uo({},t.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:uo(uo({},t.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:uo(uo({},t.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:uo(uo({},t.widgets.func),{},{customProps:{showSearch:!0}}),select:uo({},t.widgets.select),multiselect:uo(uo({},t.widgets.multiselect),{},{customProps:{width:"200px",input:{width:"100px"}}}),treeselect:uo(uo({},t.widgets.treeselect),{},{customProps:{showSearch:!0}})}),c=uo(uo({},t.types),{},{text:uo(uo({},t.types.text),{},{excludeOperators:["proximity"]}),boolean:no()({},t.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"},opProps:{equal:{label:"is"},not_equal:{label:"is not"}}}}})}),s={locale:{moment:"ru",antd:lo.A,material:oo.Fc,mui:ao.Fc},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:void 0,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",addSubGroupLabel:"Add sub group",delGroupLabel:void 0,notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger",cancelText:"Cancel"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger",cancelText:"Cancel"}},d=uo(uo(uo({},t.settings),s),{},{defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},fieldSources:["field","func"],keepInputOnChangeFieldSrc:!0,reverseOperatorsForNot:!0,canShortMongoQuery:!0,maxNesting:5,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,showErrorMessage:!0,removeEmptyGroupsOnLoad:!1,removeEmptyRulesOnLoad:!1,removeIncompleteRulesOnLoad:!1,customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{}}),p={user:{label:"User",tooltip:"Group of fields",type:"!struct",subfields:{firstName:{label2:"Username",type:"text",fieldSettings:{validateValue:function(e,t){return e.length<10}},mainWidgetProps:{valueLabel:"Name",valuePlaceholder:"Enter name"}},login:{type:"text",tableName:"t1",fieldSettings:{validateValue:function(e,t){return e.length<10&&(""===e||null!==e.match(/^[A-Za-z0-9_-]+$/))}},mainWidgetProps:{valueLabel:"Login",valuePlaceholder:"Enter login"}}}},bio:{label:"Bio",type:"text",preferWidgets:["textarea"],fieldSettings:{maxLength:1e3}},results:{label:"Results",type:"!group",subfields:{product:{type:"select",fieldSettings:{listValues:["abc","def","xyz"]},valueSources:["value"]},score:{type:"number",fieldSettings:{min:0,max:100},valueSources:["value"]}}},cars:{label:"Cars",type:"!group",mode:"array",conjunctions:["AND","OR"],showNot:!0,operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","some","all","none"],defaultOperator:"some",initialEmptyWhere:!0,fieldSettings:{validateValue:function(e){return e<10?null:{error:"Too many cars, see validateValue()",fixedValue:9}}},subfields:{vendor:{type:"select",fieldSettings:{listValues:["Ford","Toyota","Tesla"]},valueSources:["value"]},year:{type:"number",fieldSettings:{min:1990,max:2021},valueSources:["value"]}}},prox1:{label:"prox",tooltip:"Proximity search",type:"text",operators:["proximity"]},num:{label:"Number",type:"number",preferWidgets:["number"],fieldSettings:{min:-1,max:5},funcs:["number.LINEAR_REGRESSION"]},slider:{label:"Slider",type:"number",preferWidgets:["slider","rangeslider"],valueSources:["value","field"],fieldSettings:{min:0,max:100,step:1,marks:{0:a.createElement("strong",null,"0%"),100:a.createElement("strong",null,"100%")},validateValue:function(e,t){return e<50?null:{error:{key:"custom:INVALID_SLIDER_VALUE",args:{val:e}},fixedValue:49}}},widgets:{slider:{widgetProps:{valuePlaceholder:"..Slider"}},rangeslider:{widgetProps:{valueLabels:[{label:"Number from",placeholder:"from"},{label:"Number to",placeholder:"to"}]}}}},date:{label:"Date",type:"date",valueSources:["value"],fieldSettings:{dateFormat:"DD-MM-YYYY",validateValue:function(e,t){return Cr()(e,t.valueFormat).year()!=(new Date).getFullYear()?"Please use current year":null}}},time:{label:"Time",type:"time",valueSources:["value"],defaultOperator:"between"},datetime:{label:"DateTime",type:"datetime",valueSources:["value","func"]},datetime2:{label:"DateTime2",type:"datetime",valueSources:["field"]},color:{label:"Color",type:"select",valueSources:["value"],widgets:{select:{widgetProps:{valuePlaceholder:"Select color",searchPlaceholder:"Search color"}},multiselect:{widgetProps:{valuePlaceholder:"Select colors",searchPlaceholder:"Search colors"}}},fieldSettings:{showSearch:!0,listValues:[{value:"yellow",title:"Yellow"},{value:"green",title:"Green"},{value:"orange",title:"Orange"}]}},color2:{label:"Color2",type:"select",fieldSettings:{listValues:{yellow:"Yellow",green:"Green",orange:"Orange",purple:"Purple"}}},multicolor:{label:"Colors",type:"multiselect",fieldSettings:{showSearch:!0,listValues:{yellow:"Yellow",green:"Green",orange:"Orange"},allowCustomValues:!0}},selecttree:{label:"Color (tree)",type:"treeselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors"},{value:"2",title:"Red",parent:"1"},{value:"3",title:"Orange",parent:"1"},{value:"4",title:"Cool colors"},{value:"5",title:"Green",parent:"4"},{value:"6",title:"Blue",parent:"4"},{value:"7",title:"Sub blue",parent:"6"},{value:"8",title:"Sub sub blue and a long text",parent:"7"}]}},multiselecttree:{label:"Colors (tree)",type:"treemultiselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors",children:[{value:"2",title:"Red"},{value:"3",title:"Orange"}]},{value:"4",title:"Cool colors",children:[{value:"5",title:"Green"},{value:"6",title:"Blue",children:[{value:"7",title:"Sub blue",children:[{value:"8",title:"Sub sub blue and a long text"}]}]}]}]}},autocomplete:{label:"Autocomplete",type:"select",valueSources:["value"],fieldSettings:{asyncFetch:r,useAsyncSearch:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},autocompleteMultiple:{label:"AutocompleteMultiple",type:"multiselect",valueSources:["value"],fieldSettings:{asyncFetch:r,useAsyncSearch:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},stock:{label:"In stock",type:"boolean",defaultValue:!0,mainWidgetProps:{labelYes:"+",labelNo:"-"}}},f={string:{type:"!struct",label:"String",tooltip:"String functions",subfields:{LOWER:no()({},i.uu.LOWER,{tooltip:"Convert to lower case",allowSelfNesting:!0,validateValue:function(e){return e.length<=7?null:{error:"bad len",fixedValue:e.substring(0,7)}},args:{str:{validateValue:function(e){return e.length<=7?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,7)}}}}}),UPPER:no()({},i.uu.UPPER,{tooltip:"Convert to upper case",allowSelfNesting:!0,validateValue:function(e){return e.length<=6?null:{error:"bad len",fixedValue:e.substring(0,6)}},args:{str:{validateValue:function(e){return e.length<=6?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,6)}}}}})}},date:{type:"!struct",label:"Date",subfields:{NOW:i.uu.NOW,RELATIVE_DATETIME:no()({},i.uu.RELATIVE_DATETIME,{args:{date:{defaultValue:{func:"date.NOW",args:[]}}}})}},number:{type:"!struct",label:"Number",subfields:{LINEAR_REGRESSION:i.uu.LINEAR_REGRESSION}}};return{ctx:t.ctx,conjunctions:n,operators:o,widgets:u,types:c,settings:d,fields:p,funcs:f}};var po=function(e,t,r){var n=function(){!function(e,t){var r,n,l,o=[e.get("id")],a=(null===(r=e.get("children1"))||void 0===r?void 0:r.size)||0,u=null===(n=e.get("children1"))||void 0===n?void 0:n.first(),c=null===(l=e.get("children1"))||void 0===l?void 0:l.last(),s=[e.get("id"),null==u?void 0:u.get("id")],d=[e.get("id"),null==c?void 0:c.get("id")];t.setNot(o,!0),t.setConjunction(o,"OR"),a>1&&t.moveItem(s,d,"before"),a&&"rule"===u.get("type")&&(t.setFieldSrc(s,"field"),t.setField(s,"num"),t.setOperator(s,"between"),t.setValueSrc(s,0,"value"),t.setValue(s,0,2,"number"),t.setValue(s,1,4,"number")),a>1&&t.removeRule(d);var p=[e.get("id"),i.Aq.uuid()];t.addRule(o,{id:p[1],field:null,operator:null,value:[]}),t.setFieldSrc(p,"func"),t.setFuncValue(p,-1,[],null,"string.LOWER","string"),t.setFuncValue(p,-1,[],"str","aaa","string"),t.setValueSrc(p,0,"func"),t.setFuncValue(p,0,[],null,"string.LOWER","string"),t.setFuncValue(p,0,[],"str","AAA","string"),t.addRule(o,{field:"user.login",operator:"equal",value:["denis"],valueSrc:["value"],valueType:["text"]}),t.addRule(o,{field:"user.login",operator:"equal",value:["user.firstName"],valueSrc:["field"]}),t.addRule(o,{field:"cars",mode:"array",operator:"all"},"rule_group",[{type:"rule",properties:{field:"cars.year",operator:"equal",value:[2021]}}]),t.addGroup(o,{conjunction:"AND"},[{type:"rule",properties:{field:"slider",operator:"equal",value:[40]}},{type:"group",properties:{conjunction:"AND"},children1:[{type:"rule",properties:{field:"slider",operator:"less",value:[20]}}]}])}(e.tree,r.current.actions)};return{runActions:n,renderRunActions:function(){return a.createElement(a.Fragment,null,e.renderBocks.queryBuilder&&a.createElement("button",{onClick:n},"Run actions"))}}},fo=i.Aq.uuid,mo={id:fo(),type:"group"},vo={id:fo(),type:"switch_group"},go={"logic/complex":{and:[{"==":[{var:"user.login"},{toLowerCase:[{var:"user.firstName"}]}]},{"==":[{var:"stock"},!1]},{"==":[{var:"slider"},35]},{some:[{var:"results"},{and:[{"==":[{var:"product"},"abc"]},{">":[{var:"score"},8]}]}]},{">":[{reduce:[{filter:[{var:"cars"},{and:[{"==":[{var:"vendor"},"Toyota"]},{">=":[{var:"year"},2010]}]}]},{"+":[1,{var:"accumulator"}]},0]},2]}]},"logic/simple":{and:[{"==":[{var:"slider"},35]}]},"logic/with_not":{and:[{"!":{and:[{in:["abc3",{var:"user.firstName"}]}]}},{"!":{in:["xyz",{var:"user.firstName"}]}},{"!":{and:[{"<=":[1,{var:"num"},2]}]}},{"!":{"<=":[3,{var:"num"},4]}},{"!":{and:[{in:[{var:"color"},["yellow"]]}]}},{"!":{in:[{var:"color"},["green"]]}},{"!":{and:[{all:[{var:"multicolor"},{in:[{var:""},["yellow"]]}]}]}},{"!":{all:[{var:"multicolor"},{in:[{var:""},["yellow"]]}]}},{"!":{and:[{some:[{var:"multicolor"},{in:[{var:""},["green"]]}]}]}},{"!":{some:[{var:"multicolor"},{in:[{var:""},["green"]]}]}},{"==":[{var:"user.firstName"},null]}]},"logic/with_not_in_some":{and:[{some:[{var:"cars"},{in:[{var:"vendor"},["Ford","Toyota"]]}]},{all:[{var:"cars"},{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]},{all:[{var:"cars"},{"!":{and:[{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]}}]},{some:[{var:"cars"},{"!":{and:[{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]}}]},{some:[{var:"cars"},{"!":{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}}]},{some:[{var:"cars"},{"!":{"!":{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}}}]}]},"logic/with_func_in_lhs":{and:[{"!":{in:["Den",{toLowerCase:[{var:"user.firstName"}]}]}},{"!=":[{toLowerCase:[{toUpperCase:[{var:"user.login"}]}]},{toLowerCase:["user"]}]}]},"tree/complex":{type:"group",id:"9a99988a-0123-4456-b89a-b1607f326fd8",children1:[{id:"a98ab9b9-cdef-4012-b456-71607f326fd9",type:"rule",properties:{field:"user.login",operator:"equal",value:[{func:"string.LOWER",args:{str:{valueSrc:"field",value:"user.firstName"}}}],valueSrc:["func"],valueType:["text"],valueError:[null]}},{id:"98a8a9ba-0123-4456-b89a-b16e721c8cd0",type:"rule",properties:{field:"stock",operator:"equal",value:[!1],valueSrc:["value"],valueType:["boolean"],valueError:[null]}},{id:"aabbab8a-cdef-4012-b456-716e85c65e9c",type:"rule",properties:{field:"slider",operator:"equal",value:[35],valueSrc:["value"],valueType:["number"],valueError:[null]}},{id:"aaab8999-cdef-4012-b456-71702cd50090",type:"rule_group",properties:{conjunction:"AND",field:"results"},children1:[{id:"99b8a8a8-89ab-4cde-b012-31702cd5078b",type:"rule",properties:{field:"results.product",operator:"select_equals",value:["abc"],valueSrc:["value"],valueType:["select"],valueError:[null]}},{id:"88b9bb89-4567-489a-bcde-f1702cd53266",type:"rule",properties:{field:"results.score",operator:"greater",value:[8],valueSrc:["value"],valueType:["number"],valueError:[null]}}]},{id:"a99a9b9b-cdef-4012-b456-7175a7d54553",type:"rule_group",properties:{mode:"array",operator:"greater",valueType:["number"],value:[2],valueSrc:["value"],conjunction:"AND",valueError:[null],field:"cars"},children1:[{id:"99a9a9a8-89ab-4cde-b012-3175a7d55374",type:"rule",properties:{field:"cars.vendor",operator:"select_equals",value:["Toyota"],valueSrc:["value"],valueError:[null],valueType:["select"]}},{id:"988bbbab-4567-489a-bcde-f175a7d58793",type:"rule",properties:{field:"cars.year",operator:"greater_or_equal",value:[2010],valueSrc:["value"],valueError:[null],valueType:["number"]}}]}],properties:{conjunction:"AND",not:!1}},"tree/empty":mo,"tree/empty_switch":vo};function ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bo=function(e,t){var r,n=e.split("/")[0];if("logic"===n){var l=go[e];r=i.Aq.loadFromJsonLogic(l,t)}else{if("tree"!==n)throw new Error("Unknown file type ".concat(n));var o=go[e];r=i.Aq.loadTree(o)}return r},Eo="tree/complex",Ao={translateErrors:!0,includeStringifiedItems:!0,includeItemsPositions:!0},Oo={validation:!0,jsonlogic:!0,elasticSearch:!0,mongo:!0,jsTree:!0,spel:!0,strings:!0,sql:!0,actions:!1,withProfile:!1,queryBuilder:!0};function wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Po=r(99804),xo=r.n(Po);function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var To=JSON.stringify,Do={backgroundColor:"lightpink",margin:"10px",padding:"10px"},Bo=JSON.stringify,Mo={backgroundColor:"darkgrey",margin:"10px",padding:"10px"},Io={backgroundColor:"lightpink",margin:"10px",padding:"10px"};function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Go=JSON.stringify,Uo={backgroundColor:"lightpink",margin:"10px",padding:"10px"};function $o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i.Aq.i18n.addResources("en","custom",{INVALID_SLIDER_VALUE:"Invalid slider value {{val}} translated with i18next",BAD_LEN:"Bad length {{val}} translated with i18next"}),i.Aq.i18n.addResources("en","raqbvalidation",{INCOMPLETE_LHS:"Incomplete left-hand side",INCOMPLETE_RHS:"Incomplete right-hand side"});var Yo=so(window._initialSkin||"mui"),Ko=function(e,t,r){var n=bo(e,t),l=i.Aq.sanitizeTree(n,t,yo(yo({},null!=r?r:{}),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),o=l.fixedTree,a=l.fixedErrors,u=l.nonFixedErrors;return n=o,a.length&&console.warn("Fixed tree errors on load: ",a),u.length&&console.warn("Validation errors on load:",u),n}(window._initFile||Eo,Yo,Ao);!function(e,t){var r=new CustomEvent("update",{detail:{config:e,initTree:t}});window.dispatchEvent(r)}(Yo,Ko);const Qo=function(){var e=(0,a.useRef)({}),t=(0,a.useState)({tree:Ko,config:Yo,skin:"mui",spelStr:"",spelErrors:[],renderBocks:Oo,initFile:Eo}),r=(0,o.A)(t,2),u=r[0],s=r[1];!function(e){(0,a.useEffect)((function(){return window.addEventListener("update",t),function(){window.removeEventListener("update",t)}}));var t=function(t){var r=t.detail;console.log("Updating..."),e(r)}}((0,a.useCallback)((function(e){var t=e.config;s((function(e){return Ho(Ho({},e),{},{config:t})}))}),[]));var d=po(u,0,e).renderRunActions,p=function(e,t){var r=function(){var t=i.Aq.validateTree(e.tree,e.config,_o({},Ao));console.warn(">>> Utils.validateTree()",t)},n=function(){var r=i.Aq.sanitizeTree(e.tree,e.config,_o(_o({},Ao),{},{removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1})),n=r.fixedErrors,l=r.fixedTree,o=r.nonFixedErrors;n.length&&console.warn("> sanitizeTree fixed errors:",n),o.length&&console.warn("> sanitizeTree non-fixed validation errors:",o),t(_o(_o({},e),{},{tree:l}))},l=function(){var r=i.Aq.sanitizeTree(e.tree,e.config,_o(_o({},Ao),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1})),n=r.fixedTree,l=r.allErrors;l.length&&console.warn("> sanitizeTree validation errors:",l),t(_o(_o({},e),{},{tree:n}))},o=function(){var r=i.Aq.sanitizeTree(e.tree,e.config,_o(_o({},Ao),{},{forceFix:!0})),n=r.fixedErrors,l=r.fixedTree,o=r.nonFixedErrors;n.length&&console.warn("> sanitizeTree fixed errors:",n),o.length&&console.warn("> sanitizeTree non-fixed validation errors:",o),t(_o(_o({},e),{},{tree:l}))};return{renderValidationHeader:function(){return a.createElement(a.Fragment,null,a.createElement("button",{onClick:r},"Show errors in console"),a.createElement("button",{onClick:l},"Validate"),a.createElement("button",{onClick:n},"Sanitize"),a.createElement("button",{onClick:o},"Sanitize & fix"))},renderValidationBlock:function(){var t=e.tree,r=e.config;if(!e.renderBocks.validation)return null;var n=i.Aq.isValidTree(t,r),l=i.Aq.validateTree(t,r,_o({},Ao)).map((function(e){var t=e.errors,r=e.itemStr,n=e.itemPositionStr;return{errors:t.map((function(e){var t=e.side,r=e.delta,n=e.str,l=e.fixed;return"".concat(l?"* ":"").concat(t?"[".concat([t,r].filter((function(e){return null!=e})).join(" "),"] "):"").concat(n)})),itemStr:r,itemPositionStr:n}}));return a.createElement(a.Fragment,null,a.createElement("hr",null),n?null:a.createElement("pre",{style:Uo},"Tree has errors"),a.createElement("div",null,"Validation errors:",l.length>0?a.createElement("pre",{style:Uo},Go(l,void 0,2)):"no"))}}}(u,s),f=p.renderValidationHeader,m=p.renderValidationBlock,v=function(e,t,r){var n=po(e,0,r).runActions,o=function(){var t=e.tree,r=e.config,n=function(){i.Aq.validateTree(t,r,So({},Ao))};n(),e.renderBocks.withProfile&&console.profile(),console.time("validation");for(var l=e.renderBocks.withProfile?1:10,o=0;o<l;o++)n();console.timeEnd("validation"),e.renderBocks.withProfile&&console.profileEnd()},u=function(){var t=e.tree,r=e.config,n=function(){i.Aq._spelFormat(t,r),i.Aq._mongodbFormat(t,r),i.Aq._sqlFormat(t,r),i.Aq.jsonLogicFormat(t,r),i.Aq.elasticSearchFormat(t,r),i.Aq.queryString(t,r)};n(),e.renderBocks.withProfile&&console.profile(),console.time("export");for(var l=e.renderBocks.withProfile?1:10,o=0;o<l;o++)n();console.timeEnd("export"),e.renderBocks.withProfile&&console.profileEnd()},c=function(){var t=e.config,r=function(){for(var e in go)bo(e,t)};r(),e.renderBocks.withProfile&&console.profile(),console.time("import");for(var n=e.renderBocks.withProfile?1:10,l=0;l<n;l++)r();console.timeEnd("import"),e.renderBocks.withProfile&&console.profileEnd()},s=function(){e.renderBocks.withProfile&&console.profile(),console.time("actions"),n(),console.timeEnd("actions"),e.renderBocks.withProfile&&console.profileEnd()},d=function(r){t(So(So({},e),{},{renderBocks:So(So({},e.renderBocks),{},(0,l.A)({},r,!e.renderBocks[r]))}))};return{renderBenchmarkHeader:function(){return a.createElement(a.Fragment,null,a.createElement("button",{onClick:u},"Export"),a.createElement("button",{onClick:c},"Import"),a.createElement("button",{onClick:o},"Validation"),a.createElement("button",{onClick:s},"Actions"),a.createElement("button",{onClick:d.bind(null,"withProfile")},"with profile: ",e.renderBocks.withProfile?"on":"off"))}}}(u,s,e),g=v.renderBenchmarkHeader,h=function(e){return{renderOutput:function(){return a.createElement("div",null,a.createElement("hr",null),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.spel)return null;var n=i.Aq._spelFormat(t,r),l=(0,o.A)(n,2),u=l[0],c=l[1];return a.createElement(a.Fragment,null,a.createElement("div",null,"spelFormat:",c.length>0&&a.createElement("pre",{style:Io},Bo(c,void 0,2)),a.createElement("pre",{style:Mo},Bo(u,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.strings)return null;var n=i.Aq.queryString(t,r),l=i.Aq.queryString(t,r,!0);return a.createElement(a.Fragment,null,a.createElement("div",null,"stringFormat:",a.createElement("pre",{style:Mo},Bo(n,void 0,2))),a.createElement("hr",null),a.createElement("div",null,"humanStringFormat:",a.createElement("pre",{style:Mo},Bo(l,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.sql)return null;var n=i.Aq._sqlFormat(t,r),l=(0,o.A)(n,2),u=l[0],c=l[1];return a.createElement(a.Fragment,null,a.createElement("div",null,"sqlFormat:",c.length>0&&a.createElement("pre",{style:Io},Bo(c,void 0,2)),a.createElement("pre",{style:Mo},Bo(u,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.jsonlogic)return null;var n=i.Aq.jsonLogicFormat(t,r),l=n.logic,o=n.data,u=n.errors;return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("a",{href:"http://jsonlogic.com/play.html",target:"_blank",rel:"noopener noreferrer"},"jsonLogicFormat"),":",((null==u?void 0:u.length)||0)>0&&a.createElement("pre",{style:Io},Bo(u,void 0,2)),!!l&&a.createElement("pre",{style:Mo},"// Rule",":",a.createElement("br",null),Bo(l,void 0,2),a.createElement("br",null),a.createElement("hr",null),"// Data",":",a.createElement("br",null),Bo(o,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.mongo)return null;var n=i.Aq._mongodbFormat(t,r),l=(0,o.A)(n,2),u=l[0],c=l[1];return a.createElement(a.Fragment,null,a.createElement("div",null,"mongodbFormat:",c.length>0&&a.createElement("pre",{style:Io},Bo(c,void 0,2)),a.createElement("pre",{style:Mo},Bo(u,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree,r=e.config;if(!e.renderBocks.elasticSearch)return null;var n=i.Aq.elasticSearchFormat(t,r);return a.createElement(a.Fragment,null,a.createElement("div",null,"elasticSearchFormat:",a.createElement("pre",{style:Mo},Bo(n,void 0,2))),a.createElement("hr",null))}(e),function(e){var t=e.tree;if(e.config,!e.renderBocks.jsTree)return null;var r=i.Aq.getTree(t);return a.createElement(a.Fragment,null,a.createElement("div",null,"Tree:",a.createElement("pre",{style:Mo},Bo(r,void 0,2))),a.createElement("hr",null))}(e))}}}(u).renderOutput,y=function(e,t){var r=function(r){var n=r.target.value;t(Lo(Lo({},e),{},{spelStr:n}))},n=function(){var r=i.Aq.loadFromSpel(e.spelStr,e.config),n=(0,o.A)(r,2),l=n[0],a=n[1],u=i.Aq.sanitizeTree(l,e.config,Ao),c=u.fixedTree,s=u.fixedErrors;s.length&&console.warn("Fixed errors after import from SpEL:",s),t(Lo(Lo({},e),{},{tree:null!=c?c:e.tree,spelErrors:a}))};return{renderSpelInputBlock:function(){return e.renderBocks.spel?a.createElement("div",{className:"query-import-spel"},"SpEL:  ",a.createElement("input",{type:"text",size:150,value:e.spelStr,onChange:r}),a.createElement("button",{onClick:n},"import"),a.createElement("br",null),e.spelErrors.length>0&&a.createElement("pre",{style:Do},To(e.spelErrors,void 0,2))):null}}}(u,s),b=y.renderSpelInputBlock,E=function(e,t){var r=function(){var r=xo()(e.config);r.settings.showLock=!r.settings.showLock,t(Ro(Ro({},e),{},{config:r}))},n=function(){var r=xo()(e.config);r.settings.showErrorMessage=!r.settings.showErrorMessage,t(Ro(Ro({},e),{},{config:r}))};return{renderConfigChangeHeader:function(){return a.createElement(a.Fragment,null,a.createElement("button",{onClick:r},"show lock: ",e.config.settings.showLock?"on":"off"),a.createElement("button",{onClick:n},"show errors: ",e.config.settings.showErrorMessage?"on":"off"))}}}(u,s),A=E.renderConfigChangeHeader,O=function(e,t){var r=function(r){var n=r.target.value,l=bo(n,e.config);t(Fo(Fo({},e),{},{initFile:n,tree:l})),window._initFile=n},n=function(){var r=bo(e.initFile,e.config);t(Fo(Fo({},e),{},{tree:r}))};return{renderInitFilesHeader:function(){return a.createElement(a.Fragment,null,a.createElement("select",{value:e.initFile,onChange:r},Object.keys(go).map((function(e){return a.createElement("option",{key:e},e)}))),a.createElement("button",{onClick:n},"Reload"))}}}(u,s),w=O.renderInitFilesHeader,S=function(e,t){var r=function(r){var n=r.target.value,l=so(r.target.value),o=i.Aq.sanitizeTree(e.tree,l,No(No({},Ao),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),a=o.fixedTree,u=o.fixedErrors,c=o.nonFixedErrors;u.length&&console.warn("Fixed errors after change UI framework:",u),c.length&&console.warn("Not fixed errors after change UI framework:",c),t(No(No({},e),{},{skin:n,config:l,tree:a})),window._initialSkin=n};return{renderSkinSelector:function(){return a.createElement("select",{value:e.skin,onChange:r},a.createElement("option",{key:"vanilla"},"vanilla"),a.createElement("option",{key:"antd"},"antd"),a.createElement("option",{key:"material"},"material"),a.createElement("option",{key:"mui"},"mui"),a.createElement("option",{key:"bootstrap"},"bootstrap"),a.createElement("option",{key:"fluent"},"fluent"))}}}(u,s),C=S.renderSkinSelector,k=function(e,t){var r=function(r){t(ko(ko({},e),{},{renderBocks:ko(ko({},e.renderBocks),{},(0,l.A)({},r,!e.renderBocks[r]))}))};return{renderBlocksSwitcher:function(){return a.createElement(a.Fragment,null,a.createElement("button",{onClick:r.bind(null,"queryBuilder")},"Builder: ",e.renderBocks.queryBuilder?"on":"off"),a.createElement("button",{onClick:r.bind(null,"validation")},"Validation: ",e.renderBocks.validation?"on":"off"),a.createElement("button",{onClick:r.bind(null,"jsTree")},"Tree: ",e.renderBocks.jsTree?"on":"off"),a.createElement("button",{onClick:r.bind(null,"jsonlogic")},"JsonLogic: ",e.renderBocks.jsonlogic?"on":"off"),a.createElement("button",{onClick:r.bind(null,"spel")},"SpEL: ",e.renderBocks.spel?"on":"off"),a.createElement("button",{onClick:r.bind(null,"strings")},"Strings: ",e.renderBocks.strings?"on":"off"),a.createElement("button",{onClick:r.bind(null,"sql")},"SQL: ",e.renderBocks.sql?"on":"off"),a.createElement("button",{onClick:r.bind(null,"mongo")},"Mongo: ",e.renderBocks.mongo?"on":"off"),a.createElement("button",{onClick:r.bind(null,"elasticSearch")},"ElasticSearch: ",e.renderBocks.elasticSearch?"on":"off"),e.renderBocks.queryBuilder&&a.createElement("button",{onClick:r.bind(null,"actions")},"Actions in console: ",e.renderBocks.actions?"on":"off"))}}}(u,s),P=k.renderBlocksSwitcher,x=(0,a.useCallback)((function(e){return a.createElement("div",{className:"query-builder-container",style:{padding:"10px"}},a.createElement("div",{className:"query-builder qb-lite"},a.createElement(i.M$,e)))}),[]),j=(0,a.useCallback)((function(t,r,n,l){n&&u.renderBocks.actions&&console.info(n),e.current.immutableTree=t,e.current.config=r,e.current.actions=l,R()}),[u.renderBocks]),R=c()((function(){s((function(t){return Ho(Ho({},t),{},{tree:e.current.immutableTree,config:e.current.config})}))}),100);return a.createElement("div",null,a.createElement("div",null,"Settings:  ",C()," ",A()),a.createElement("div",null,"Output:  ",P()),a.createElement("div",null,"Data:  ",w(),a.createElement("button",{onClick:function(){s(Ho(Ho({},u),{},{tree:i.Aq.loadTree(mo)}))}},"Clear"),d()),a.createElement("div",null,"Validation:  ",f()),a.createElement("div",null,"Benchmark:  ",g()),a.createElement("br",null),b(),a.createElement(to,{skin:u.skin}),u.renderBocks.queryBuilder&&a.createElement(i.XK,(0,n.A)({},u.config,{value:u.tree,onInit:j,onChange:j,renderBuilder:x})),a.createElement("div",{className:"query-builder-result"},a.createElement("div",null,m(),h())))}},37354:()=>{}}]);
//# sourceMappingURL=977.bundle.js.map