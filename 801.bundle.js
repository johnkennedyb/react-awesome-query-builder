(self.webpackChunk_react_awesome_query_builder_examples=self.webpackChunk_react_awesome_query_builder_examples||[]).push([[801],{27260:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Cu});var n={};r.r(n),r.d(n,{loadFromSql:()=>vi});var o=r(42664),l=r(6467),a=r(12024),i=r(67308),u=r(76569),c=r(88823),s=r.n(c),d=r(12495),p=r.n(d),f=i.lazy((function(){return r.e(308).then(r.bind(r,34308))})),m=i.lazy((function(){return r.e(927).then(r.bind(r,3927))})),v={vanilla:f,mui:i.lazy((function(){return Promise.all([r.e(712),r.e(78)]).then(r.bind(r,5078))})),antd:m,material:i.lazy((function(){return r.e(187).then(r.bind(r,36187))})),bootstrap:i.lazy((function(){return Promise.all([r.e(615),r.e(664)]).then(r.bind(r,54410))})),fluent:i.lazy((function(){return r.e(450).then(r.bind(r,90450))}))},g=r(32645),h=r(30965),b=r(62662),y=r(63378),A=r(26477),E=r(5821),O=r.n(E),w=r(36759),C=r(74048).A;C.getMillisecond||(C.getMillisecond=function(e){return e.millisecond()},C.setMillisecond=function(e,t){return e.clone().millisecond(t)});const S=C,k="function"==typeof w.A.generatePicker?w.A.generatePicker(S):w.A;var x=r(93990);"function"==typeof x.A.generateCalendar?x.A.generateCalendar(S):x.A;var P=i.forwardRef((function(e,t){return i.createElement(k,(0,o.A)({},e,{picker:"time",mode:void 0,ref:t}))}));P.displayName="TimePicker";const j=P;function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}var T=k.RangePicker,R=u.Aq.moment,W=function(e){function t(e){var r,n,o,l;(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,F()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).isValidSingleValue=function(e){var t=r.props.valueFormat,n=e?R(e,t):null;return!n||n&&n.isValid()},r.isValidValue=function(e){return r.props.isSpecialRange?!e||e.map((function(e){return r.isValidSingleValue(e)})).reduce((function(e,t){return e&&t}),!0):r.isValidSingleValue(e)},r.getMomentSingleValue=function(e){var t=r.props.valueFormat,n=e?R(e,t):null;return n&&!n.isValid()&&(n=null),n},r.getMomentValue=function(e){return r.props.isSpecialRange?e?e.map((function(e){return r.getMomentSingleValue(e)})):[null,null]:r.getMomentSingleValue(e)},r.formatSingleValue=function(e){var t=r.props.valueFormat;return e&&e.isValid()?e.format(t):void 0},r.formatValue=function(e){return r.props.isSpecialRange?e?e.map((function(e){return r.formatSingleValue(e)})):[void 0,void 0]:r.formatSingleValue(e)},r.handleChange=function(e){var t=r.props.setValue;r.isValidValue(e)&&t(r.formatValue(e))};var a=e.value,i=e.setValue;return r.isValidValue(a)||i(r.formatValue(r.getMomentValue(a))),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.placeholders,n=e.customProps,l=e.value,a=e.dateFormat,u=e.config,c=e.readonly,s=e.isSpecialRange,d=u.settings.renderSize,p=this.getMomentValue(l);return s?i.createElement(T,(0,o.A)({disabled:c,key:"widget-date",placeholder:r,size:d,format:a,value:p,onChange:this.handleChange},n)):i.createElement(k,(0,o.A)({disabled:c,key:"widget-date",placeholder:t,size:d,format:a,value:p,onChange:this.handleChange},n))}}])}(i.PureComponent);function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}W.propTypes={setValue:O().func.isRequired,value:O().oneOfType([O().string,O().arrayOf(O().string)]),field:O().any,config:O().object.isRequired,placeholder:O().string,placeholders:O().arrayOf(O().string),customProps:O().object,readonly:O().bool,dateFormat:O().string,valueFormat:O().string},W.defaultProps={dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"};var V=u.Aq.moment,L=function(e){function t(e){var r,n,o,l;(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,D()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).handleChange=function(e){var t=r.props,n=t.setValue,o=t.valueFormat,l=e&&e.isValid()?e.format(o):void 0;(l||null===e)&&n(l)};var a=e.valueFormat,i=e.value,u=e.setValue,c=i?V(i,a):null;return c&&!c.isValid()&&u(null),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.customProps,n=e.value,l=e.valueFormat,a=e.dateFormat,u=e.timeFormat,c=e.use12Hours,s=e.config,d=e.readonly,p=s.settings.renderSize,f=n?V(n,l):null,m=a+" "+u;return i.createElement(k,(0,o.A)({disabled:d,key:"widget-datetime",use12Hours:c,showTime:{format:u},placeholder:t,size:p,format:m,value:f,onChange:this.handleChange},r))}}])}(i.PureComponent);function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}L.propTypes={setValue:O().func.isRequired,value:O().string,config:O().object.isRequired,field:O().any,placeholder:O().string,customProps:O().object,readonly:O().bool,timeFormat:O().string,dateFormat:O().string,valueFormat:O().string,use12Hours:O().bool},L.defaultProps={timeFormat:"HH:mm",dateFormat:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1};var B=u.Aq.moment,M=function(e){function t(e){var r,n,o,l;(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,q()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).handleChange=function(e){var t=r.props,n=t.setValue,o=t.valueFormat,l=t.timeFormat;e&&e.isValid()&&"HH:mm"==l&&e.set({second:0,millisecond:0});var a=e&&e.isValid()?e.format(o):void 0;(a||null===e)&&n(a)};var a=e.valueFormat,i=e.value,u=e.setValue,c=i?B(i,a):null;return c&&!c.isValid()&&u(null),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.customProps,n=e.value,l=e.valueFormat,a=e.timeFormat,u=e.use12Hours,c=e.config,s=e.readonly,d=c.settings.renderSize,p=n?B(n,l):null;return i.createElement(j,(0,o.A)({disabled:s,use12Hours:u,key:"widget-time",size:d,placeholder:t,format:a,value:p,onChange:this.handleChange},r))}}])}(i.PureComponent);M.propTypes={setValue:O().func.isRequired,value:O().string,config:O().object.isRequired,field:O().any,placeholder:O().string,customProps:O().object,readonly:O().bool,timeFormat:O().string,valueFormat:O().string,use12Hours:O().bool},M.defaultProps={timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1};var I=r(6838),N=48,_={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'Helvetica Neue', Helvetica, Arial, sans-serif",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"14px";if("undefined"!=typeof document){var n=document.createElement("div");n.innerText=e;var o={position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden","font-size":r,"font-family":t};for(var l in o)n.style[l]=o[l];var a=(n=document.body.appendChild(n)).offsetWidth;return document.body.removeChild(n),a}},z=r(64234),$=r.n(z);function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var H=u.Aq.ReactUtils.useOnPropsChanged,Y=u.Aq.ListUtils.mapListValues,K=I.A.Option,J={value:"value",title:"children",groupTitle:"grouplabel"},Q=function(e){function t(e){var r,n,o,l;return(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,G()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).handleChange=function(e){r.props.setValue(e)},r.filterOption=function(e,t){return r.props.config.settings.listKeysForSearch.map((function(e){return J[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},H(r),r.onPropsChanged(e),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=0;Y(t,(function(e){var t=e.title;e.value,r=Math.max(r,U(t,null))})),!isNaN(r)&&r&&(this.optionsMaxWidth=r),this.options=Y(t,(function(e){var t=e.title,r=e.value;return i.createElement(K,{key:r+"",value:r+""},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.readonly,u=t.settings.renderSize,c=U(r),s=this.optionsMaxWidth?this.optionsMaxWidth+N:null,d=l?s:c?c+N:null,p=null!=l?l+"":void 0,f=$()(n,[""]);return i.createElement(I.A,(0,o.A)({disabled:a,style:{width:d},key:"widget-select",popupMatchSelectWidth:!1,placeholder:r,size:u,value:p,onChange:this.handleChange,filterOption:this.filterOption},f),this.options)}}])}(i.Component);Q.propTypes={setValue:O().func.isRequired,config:O().object.isRequired,field:O().any,value:O().oneOfType([O().string,O().number]),customProps:O().object,fieldDefinition:O().object,readonly:O().bool,listValues:O().oneOfType([O().object,O().array])};var Z=r(70502),X=r(99904);function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,ee()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).handleChange=function(t){var r=t.target.value,n=""===r?void 0:r;e.props.setValue(n)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.readonly,u=e.maxLength,c=t.settings.renderSize,s=null!=l?l:null;return i.createElement(Z.A,null,i.createElement(X.A,(0,o.A)({disabled:a,key:"widget-text",size:c,type:"text",value:s,placeholder:r,maxLength:u,onChange:this.handleChange},n)))}}])}(i.PureComponent);function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}te.propTypes={setValue:O().func.isRequired,placeholder:O().string,config:O().object.isRequired,value:O().string,field:O().any,readonly:O().bool,customProps:O().object,maxLength:O().number};var ne=X.A.TextArea,oe=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,re()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).handleChange=function(t){var r=t.target.value,n=""===r?void 0:r;e.props.setValue(n)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.readonly,u=e.maxLength,c=e.maxRows,s=(e.fullWidth,t.settings),d=s.renderSize,p=s.defaultMaxRows,f=null!=l?l:null;return i.createElement(Z.A,null,i.createElement(ne,(0,o.A)({autoSize:{minRows:1,maxRows:c||p},maxLength:u,disabled:a,key:"widget-textarea",size:d,value:f,placeholder:r,onChange:this.handleChange},n)))}}])}(i.PureComponent);oe.propTypes={setValue:O().func.isRequired,placeholder:O().string,config:O().object.isRequired,value:O().string,field:O().any,readonly:O().bool,customProps:O().object,maxLength:O().number,maxRows:O().number};var le=r(7179);function ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ae=function(){return!!e})()}var ie=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,ae()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).handleChange=function(t){""!==t&&null!==t||(t=void 0),e.props.setValue(t)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.min,u=e.max,c=e.step,s=e.readonly,d=t.settings.renderSize,p=null!=l?l:void 0;return i.createElement(Z.A,null,i.createElement(le.A,(0,o.A)({disabled:s,key:"widget-number",size:d,value:p,min:a,max:u,step:c,placeholder:r,onChange:this.handleChange},n)))}}])}(i.PureComponent);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}ie.propTypes={setValue:O().func.isRequired,placeholder:O().string,config:O().object.isRequired,field:O().any,value:O().oneOfType([O().string,O().number]),customProps:O().object,fieldDefinition:O().object,readonly:O().bool,min:O().number,max:O().number,step:O().number},ie.defaultProps={min:void 0,max:void 0,step:void 0};var se=u.Aq.NumberFormat,de=se.getNumberFormatProps,pe=se.numericFormatter,fe=se.numericParser,me=se.addLeadingZeros,ve=se.addTrailingZeros,ge=r(13631),he=r(9885),be=["width"],ye=i.memo((function(e){var t=e.setValue,r=e.placeholder,n=e.config,l=(e.field,e.value),a=e.customProps,u=(e.fieldDefinition,e.readonly),c=(e.errorMessage,e.min),s=e.max,d=e.step,p=e.marks,f=n.settings,m=f.renderSize,v=(f.showErrorMessage,f.defaultSliderWidth),g=a||{},h=g.width,b=(0,he.A)(g,be),y=(0,i.useMemo)((function(){return b.input||{}}),[a]),A=(0,i.useMemo)((function(){return b.slider||b}),[a]),E=(0,i.useCallback)((function(e){return null!=e?e.toString():void 0}),[]),O=(0,i.useMemo)((function(){return{formatter:E}}),[E]),w=(0,i.useCallback)((function(e){""===e&&(e=void 0),t(e)}),[t]),C=l;null==C&&(C=null);var S=null==C&&c?c:C;return i.createElement(Z.A,{style:{display:"inline-flex",flexWrap:"wrap"}},i.createElement(Z.A,{key:"col-number",style:{float:"left",marginRight:"5px"}},i.createElement(le.A,(0,o.A)({key:"input-number",disabled:u,size:m,value:C,min:c,max:s,step:d,placeholder:r,onChange:w},y))),i.createElement(Z.A,{key:"col-slider",style:{float:"left",width:h||v}},i.createElement(ge.A,(0,o.A)({key:"input-slider",disabled:u,value:S,tooltip:O,min:c,max:s,included:!0,step:d,marks:p,onChange:w},A))),i.createElement(Z.A,{key:"col-clear",style:{clear:"both"}}))}));ye.displayName="SliderWidget",ye.propTypes={setValue:O().func.isRequired,placeholder:O().string,config:O().object.isRequired,field:O().any,value:O().number,customProps:O().object,fieldDefinition:O().object,readonly:O().bool,min:O().number,max:O().number,step:O().number,marks:O().object};const Ae=ye;var Ee=r(73188),Oe=["width"];function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var Ce=function(e){function t(e){var r,n,o,l;(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,we()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).state={},r.handleChange=function(e){r.props.setValue(e)},r.handleChangeFrom=function(e){var t=r.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,Ee.A)(t))[0]=e,r.props.setValue(t)},r.handleChangeTo=function(e){var t=r.props.value||[void 0,void 0];""!==e&&null!=e||(e=void 0),(t=(0,Ee.A)(t))[1]=e,r.props.setValue(t)},r.tipFormatter=function(e){return null!=e?e.toString():""};var i=e.value||[null,null],u=(0,a.A)(i,2);return u[0],u[1],e.value,r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholders,n=e.customProps,l=e.value,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.textSeparators,f=e.readonly,m=t.settings,v=m.renderSize,g=m.defaultSliderWidth,h=n||{},b=h.width,y=(0,he.A)(h,Oe),A=y.input||{},E=y.slider||y,O=null!=l?l:void 0,w=O||[null,null],C=(0,a.A)(w,2),S=C[0],k=C[1];return i.createElement(Z.A,{style:{display:"inline-flex",flexWrap:"wrap"}},i.createElement(Z.A,{style:{float:"left",marginRight:"5px"}},i.createElement(le.A,(0,o.A)({disabled:f,size:v,key:"numFrom",value:S,min:u,max:c,step:s,placeholder:r[0],onChange:this.handleChangeFrom},A))),i.createElement(Z.A,{style:{float:"left",marginRight:"5px",lineHeight:"20px"}},i.createElement("span",null,p[1])),i.createElement(Z.A,{style:{float:"left",marginRight:"5px"}},i.createElement(le.A,(0,o.A)({disabled:f,size:v,key:"numTo",value:k,min:u,max:c,step:s,placeholder:r[1],onChange:this.handleChangeTo},A))),i.createElement(Z.A,{style:{float:"left",width:b||g}},i.createElement(ge.A,(0,o.A)({disabled:f,value:O,tooltip:{formatter:this.tipFormatter},min:u,max:c,step:s,marks:d,included:!0,range:!0,onChange:this.handleChange},E))),i.createElement(Z.A,{style:{clear:"both"}}))}}])}(i.PureComponent);Ce.propTypes={setValue:O().func.isRequired,placeholder:O().string,placeholders:O().array,textSeparators:O().array,config:O().object.isRequired,field:O().any,value:O().array,customProps:O().object,fieldDefinition:O().object,readonly:O().bool,min:O().number,max:O().number,step:O().number,marks:O().object},Ce.defaultProps={min:0,max:100,step:1,marks:void 0};var Se=r(43068);function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ke=function(){return!!e})()}var xe=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,ke()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).handleChange=function(t){e.props.setValue(t)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.customProps,r=e.value,n=e.labelYes,l=e.labelNo,a=e.readonly,u=e.config.settings.renderSize;return i.createElement(Se.A,(0,o.A)({checkedChildren:n||null,unCheckedChildren:l||null,checked:r||null,onChange:this.handleChange,disabled:a,size:u},t))}}])}(i.PureComponent);function Pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pe=function(){return!!e})()}xe.propTypes={setValue:O().func.isRequired,value:O().bool,config:O().object.isRequired,field:O().any,customProps:O().object,readonly:O().bool,labelYes:O().string,labelNo:O().string},xe.defaultProps={labelYes:null,labelNo:null};var je=u.Aq.ReactUtils.useOnPropsChanged,Fe=u.Aq.ListUtils.mapListValues,Te=I.A.Option,Re=function(e){function t(e){var r,n,o,l;return(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,Pe()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).handleChange=function(e){e&&!e.length&&(e=void 0),r.props.setValue(e)},r.filterOption=function(e,t){return(t.children||t.value).toLowerCase().indexOf(e.toLowerCase())>=0},je(r),r.onPropsChanged(e),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=0;Fe(t,(function(e){var t=e.title;e.value,r=Math.max(r,U(t,null))})),!isNaN(r)&&r&&(this.optionsMaxWidth=r),this.options=Fe(t,(function(e){var t=e.title,r=e.value;return i.createElement(Te,{key:r,value:r},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.allowCustomValues,l=e.customProps,a=e.value,u=e.readonly,c=t.settings.renderSize,s=U(r),d=s?s+N:null,p=a&&a.length?a:void 0,f=p?null:d,m=this.optionsMaxWidth?this.optionsMaxWidth+N:null,v=$()(l,["showCheckboxes"]);return i.createElement(I.A,(0,o.A)({disabled:u,mode:n?"tags":"multiple",style:{minWidth:f,width:f},dropdownStyle:{width:m},key:"widget-multiselect",popupMatchSelectWidth:!1,placeholder:r,size:c,value:p,onChange:this.handleChange,filterOption:this.filterOption},v),this.options)}}])}(i.Component);Re.propTypes={setValue:O().func.isRequired,config:O().object.isRequired,value:O().array,field:O().any,placeholder:O().string,customProps:O().object,fieldDefinition:O().object,readonly:O().bool,listValues:O().oneOfType([O().object,O().array]),allowCustomValues:O().bool};var We=r(36234),De=r(8691),Ve=r(33012),Le=r(80920),qe=r.n(Le);function Be(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw l}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ie=u.Aq.Autocomplete.fixListValuesGroupOrder,Ne=u.Aq.ListUtils.makeCustomListValue,_e=u.Rj.W,Ue={value:"value",title:"label",groupTitle:"grouplabel"},ze=r(3224),$e=r(2716);function Ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return He(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw l}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ye=u.Aq.ListUtils,Ke=Ye.getItemInListValues,Je=Ye.listValuesToArray,Qe=u.Aq.OtherUtils.isObjectOrArray,Ze={id:"value",pId:"parent",rootPId:void 0},Xe=function(e,t){var r=Ze,n=Ke(e,t),o=n?n[r.pId]:void 0,l=o?e.find((function(e){return e[r.id]===o})):void 0;return l?[l.value].concat((0,Ee.A)(Xe(e,l.value))):[]},et=function(e,t){var r=Ze,n=Ke(e,t);return n?e.filter((function(e){return e[r.pId]===n[r.id]})).map((function(e){return e.value})):[]};function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tt=function(){return!!e})()}var rt=u.Aq.ReactUtils.useOnPropsChanged,nt=u.Aq.ListUtils,ot=nt.getTitleInListValues,lt=nt.mapListValues,at=function(e){function t(e){var r,n,o,l;return(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,tt()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).handleChange=function(e){r.props.treeMultiple?!e||e.length?("object"==(0,$e.A)(e[0])&&void 0!==e[0].value&&(e=e.map((function(e){return e.value}))),r.props.setValue(e)):r.props.setValue(void 0):r.props.setValue(e)},r.filterTreeNode=function(e,t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0},rt(r),r.onPropsChanged(e),r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.listValues,r=e.treeValues,n=e.treeMultiple,o=0,l=n?46:24;lt(r||t,(function(e){var t=e.title,r=(e.value,e.path);o=Math.max(o,U(t,null)+10+20*(r?r.length:0)+l)})),!isNaN(o)&&o&&(this.optionsMaxWidth=o)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.placeholder,n=e.customProps,l=void 0===n?{}:n,a=e.value,u=e.treeMultiple,c=e.listValues,s=e.treeValues,d=e.treeExpandAll,p=e.readonly,f=s||c,m=l.treeCheckStrictly||!1,v=t.settings.renderSize,g=U(r),h=null!=a?a:void 0;m&&void 0!==h&&u&&(h=h.map((function(e){return{value:e,label:ot(f,e)}})));var b=h||!g?null:g+N+6;return Math.max(100,Math.min(800,this.optionsMaxWidth)),i.createElement(ze.A,(0,o.A)({disabled:p,style:{minWidth:b,width:b},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:u,treeCheckable:u,key:"widget-treeselect",popupMatchSelectWidth:!1,placeholder:r,size:v,treeData:f,treeDataSimpleMode:Ze,filterTreeNode:this.filterTreeNode,value:h,onChange:this.handleChange,treeDefaultExpandAll:d},l))}}])}(i.Component);at.propTypes={setValue:O().func.isRequired,config:O().object.isRequired,value:O().oneOfType([O().string,O().array]),field:O().any,placeholder:O().string,customProps:O().object,fieldDefinition:O().object,readonly:O().bool,treeMultiple:O().bool,listValues:O().oneOfType([O().object,O().array]),treeValues:O().oneOfType([O().object,O().array])};var it=I.A.Option,ut=I.A.OptGroup,ct={key:"_value2",path:"value",label:"label",altLabel:"title",tooltip:"_tooltip",grouplabel:"grouplabel",fullLabel:"_fullLabel"},st=function(e){var t=e.setField,r=e.config,n=e.customProps,l=e.items,u=e.placeholder,c=e.selectedKey,s=e.selectedLabel,d=(e.selectedOpts,e.selectedAltLabel),p=e.selectedFullLabel,f=e.readonly,m=e.errorText,v=(n||{}).showSearch,g=(0,i.useState)(!1),h=(0,a.A)(g,2),b=h[0],y=h[1],A=(0,i.useState)(""),E=(0,a.A)(A,2),O=E[0],w=E[1],C=U(s||u),S=!!c,k=r.settings.dropdownPlacement,x=k?_[k]:void 0,P=S&&!v||!C?null:C+N,j=d||p;j==s&&(j=null);var F=(0,i.useMemo)((function(){return{width:P}}),[P]),T=(0,i.useCallback)((function(e){t(e)}),[t]),R=(0,i.useCallback)((function(e){w(e)}),[w]),W=(0,i.useCallback)((function(e,t){return r.settings.fieldItemKeysForSearch.map((function(e){return ct[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0}),[r.settings.fieldItemKeysForSearch]),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){var r=e.items,n=e.key,o=e.path,l=e.label,a=e.fullLabel,u=e.altLabel,c=e.tooltip,s=e.grouplabel,d=e.disabled,p=e.matchesType,f=t>0?"  ".repeat(t):"",m=t>1?"  ".repeat(t-1):"",v=o||n;if(r){var g=r.filter((function(e){return!e.items})),h=r.filter((function(e){return!!e.items})),b=h.length?D(h,t+1):[],y=g.length?D(g,t+1):[],A=f+l;return c&&(A=i.createElement(Ve.A,{title:c},A)),[i.createElement(ut,{key:v,label:A},y)].concat((0,Ee.A)(b))}var E=p?i.createElement("b",null,m+l):m+l,O=c?i.createElement(Ve.A,{title:c},E):E;return i.createElement(it,{key:v,value:v,title:u,grouplabel:s,label:l,disabled:d,_fullLabel:a,_tooltip:c,_value2:n},O)})).flat(1/0)},V=D(l),L=i.createElement(I.A,(0,o.A)({open:b,onDropdownVisibleChange:y,dropdownAlign:x,popupMatchSelectWidth:!1,style:F,placeholder:u,size:r.settings.renderSize,onChange:T,value:c||void 0,optionLabelProp:"label",filterOption:W,disabled:f,status:m&&"error",showSearch:!!v,searchValue:O,onSearch:v?R:void 0},n),V);return j&&(L=i.createElement(Ve.A,{title:b?null:j},L)),L};st.displayName="FieldSelect";const dt=st;var pt=r(80034),ft=r(93975),mt=r(45440),vt=r(85733);function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gt=function(){return!!e})()}var ht=mt.A.SubMenu,bt=mt.A.Item,yt=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,gt()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).onChange=function(t){var r=t.key;t.keyPath,e.props.setField(r)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"renderMenuItems",value:function(e){var t=this;return e.map((function(e){var r=e.items,n=e.key,o=e.path,l=e.label,a=(e.fullLabel,e.altLabel,e.tooltip),u=e.disabled,c=o||n,s=e.matchesType?i.createElement("b",null,l):l,d=a?i.createElement(Ve.A,{title:a},s):s;return r?i.createElement(ht,{key:c,title:i.createElement("span",null,d,"     ")},t.renderMenuItems(r)):i.createElement(bt,{key:c,disabled:u},d)}))}},{key:"renderMenuToggler",value:function(e,t,r,n,o){var l=i.createElement(ft.Ay,{size:r.settings.renderSize,disabled:n,danger:!!o},e," ",i.createElement(vt.A,null));return t&&(l=i.createElement(Ve.A,{placement:"top",title:t},l)),l}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.items,l=e.placeholder,a=e.errorText,u=e.selectedKeys,c=e.selectedLabel,s=(e.selectedOpts,e.readonly),d=e.selectedAltLabel,p=e.selectedFullLabel,f=this.renderMenuItems(n),m=i.createElement(mt.A,(0,o.A)({selectedKeys:u,onClick:this.onChange},$()(r,["showSearch"])),f),v=d||c||l,g=p;g==c&&(g=null);var h=this.renderMenuToggler(v,g,t,s,a);return s?h:i.createElement(pt.A,{overlay:m,trigger:["click"],placement:t.settings.dropdownPlacement},h)}}])}(i.PureComponent);yt.propTypes={config:O().object.isRequired,customProps:O().object,errorText:O().string,items:O().array.isRequired,placeholder:O().string,selectedKey:O().string,selectedKeys:O().array,selectedPath:O().array,selectedLabel:O().string,selectedAltLabel:O().string,selectedFullLabel:O().string,selectedOpts:O().object,readonly:O().bool,setField:O().func.isRequired};var At=r(49139);function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wt=function(){return!!e})()}var Ct=u.Aq.ReactUtils.useOnPropsChanged,St=u.Aq.ConfigUtils.getFieldParts,kt={key:"key",path:"_path",label:"_label",altLabel:"altLabel",tooltip:"tooltip",grouplabel:"grouplabel",fullLabel:"fullLabel"},xt=function(e){function t(e){var r,n,o,l;return(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,wt()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).setOpen=function(e){r.setState({open:e})},r.onChange=function(e){var t=r.props.parentField,n=t?t.split("."):[];r.props.setField([].concat((0,Ee.A)(n),(0,Ee.A)(e)))},r.filterOption=function(e,t){var n,o=r.props.config.settings.fieldItemKeysForSearch.map((function(e){return kt[e]}));return n=t[t.length-1],o.map((function(e){return"string"==typeof n[e]?n[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},Ct(r),r.onPropsChanged(e),r.state={open:!1},r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items;this.items=this.getItems(t)}},{key:"getItems",value:function(e){var t=this;return e.map((function(e){var r=e.items,n=e.matchesType,o=e.label,l=e.key,a=e.path,u=e.tooltip,c=n?i.createElement("b",null,o):o;return u&&(c=i.createElement(Ve.A,{title:u},c)),Ot(Ot({},e),{},r?{key:l,_path:a,items:t.getItems(r),label:c,_label:o}:{key:l,_path:a,label:c,_label:o})}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=(e.items,e.placeholder),l=e.errorText,a=e.selectedPath,u=e.selectedLabel,c=e.selectedOpts,s=e.selectedAltLabel,d=(e.selectedFullLabel,e.readonly),p=(e.selectedField,e.parentField),f=this.state.open,m=Ot({},r);m.showSearch&&(m.showSearch={filter:this.filterOption}),t.settings.fieldSeparator;var v=function(e,t){if(!e)return e;for(var r=!0,n=0;n<t.length;n++){var o=t[n];if(void 0===e[n]||o!=e[n]){r=!1;break}}return r?e.slice(t.length):e}(a,St(p,t)),g=i.createElement(At.A,(0,o.A)({open:f,onDropdownVisibleChange:this.setOpen,status:l&&"error",fieldNames:{label:"label",value:"key",children:"items"},options:this.items,value:v,onChange:this.onChange,allowClear:!1,placeholder:n,size:t.settings.renderSize,disabled:d},m)),h=c.tooltip||s;return h==u&&(h=null),h&&(g=i.createElement(Ve.A,{title:f?null:h},g)),g}}])}(i.Component);function Pt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pt=function(){return!!e})()}xt.propTypes={config:O().object.isRequired,customProps:O().object,errorText:O().string,items:O().array.isRequired,placeholder:O().string,selectedKey:O().string,selectedKeys:O().array,selectedPath:O().array,selectedLabel:O().string,selectedAltLabel:O().string,selectedFullLabel:O().string,selectedOpts:O().object,readonly:O().bool,setField:O().func.isRequired};var jt=u.Aq.ReactUtils.useOnPropsChanged,Ft={key:"_value2",path:"value",label:"label",altLabel:"altLabel",tooltip:"_tooltip",grouplabel:"_grouplabel",fullLabel:"fullLabel"},Tt=function(e){function t(e){var r,n,o,l;return(0,g.A)(this,t),n=this,o=t,l=[e],o=(0,y.A)(o),(r=(0,b.A)(n,Pt()?Reflect.construct(o,l||[],(0,y.A)(n).constructor):o.apply(n,l))).setOpen=function(e){r.setState({open:e})},r.onChange=function(e){r.props.setField(e)},r.filterTreeNode=function(e,t){return r.props.config.settings.fieldItemKeysForSearch.map((function(e){return Ft[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0},jt(r),r.onPropsChanged(e),r.state={open:!1},r}return(0,A.A)(t,e),(0,h.A)(t,[{key:"onPropsChanged",value:function(e){var t=e.items,r=e.config.settings.fieldSeparator,n=0;this.treeData=this.getTreeData(t,(function(e){var t=e.label,o=e.path;n=Math.max(n,U(t,null)+10+20*(o.split(r).length-1)+24)})),!isNaN(n)&&n&&(this.optionsMaxWidth=n)}},{key:"getTreeData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((function(e){var n=e.items,o=e.key,l=e.path,a=e.label,u=e.fullLabel,c=e.altLabel,s=e.tooltip,d=e.disabled,p=e.grouplabel,f=e.matchesType;r&&r(e);var m=l||o,v=f?i.createElement("b",null,a):a,g=s?i.createElement(Ve.A,{title:s},v):v;return n?{value:m,title:g,children:t.getTreeData(n,r),selectable:!1,altLabel:c,fullLabel:u,label:a,disabled:d,_value2:o,_tooltip:s,_grouplabel:p}:{value:m,title:g,altLabel:c,fullLabel:u,label:a,disabled:d,_value2:o,_tooltip:s,_grouplabel:p}}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=void 0===r?{}:r,l=e.placeholder,a=e.errorText,u=e.selectedKey,c=e.selectedLabel,s=e.selectedOpts,d=e.selectedAltLabel,p=e.selectedFullLabel,f=e.readonly,m=this.state.open,v=t.settings,g=v.renderSize,h=v.fieldSeparator,b=d||p;b==c&&(b=null);var y=u?u.split(h):null,A=y&&y.length>1?y.slice(0,-1).map((function(e,t){return y.slice(0,t+1).join(h)})):null,E=U(l),O=!!u,w=E?E+N+6:null,C=(Math.max(100,Math.min(800,this.optionsMaxWidth)),i.createElement(ze.A,(0,o.A)({open:m,onDropdownVisibleChange:this.setOpen,status:a&&"error",onChange:this.onChange,value:u||void 0,style:{minWidth:w,width:O?null:w},dropdownStyle:{width:"auto",paddingRight:"10px"},multiple:!1,treeCheckable:!1,treeDataSimpleMode:!1,treeData:this.treeData,size:g,placeholder:l,filterTreeNode:this.filterTreeNode,treeDefaultExpandedKeys:A,popupMatchSelectWidth:!1,disabled:f},n)));return b&&!s.tooltip&&(C=i.createElement(Ve.A,{title:m?null:b},C)),C}}])}(i.Component);Tt.propTypes={config:O().object.isRequired,customProps:O().object,errorText:O().string,items:O().array.isRequired,placeholder:O().string,selectedKey:O().string,selectedKeys:O().array,selectedPath:O().array,selectedLabel:O().string,selectedAltLabel:O().string,selectedFullLabel:O().string,selectedOpts:O().object,readonly:O().bool,setField:O().func.isRequired};var Rt=r(31067),Wt=r(32871),Dt=r(47231),Vt=r(65386),Lt=u.Aq.DragIcon,qt={addRule:i.createElement(Rt.A,null),addGroup:i.createElement(Wt.A,null),delRule:i.createElement(Dt.A,null),delGroup:i.createElement(Dt.A,null),delRuleGroup:i.createElement(Dt.A,null),addSubRuleSimple:i.createElement(Rt.A,null),addSubRule:i.createElement(Rt.A,null),addSubGroup:i.createElement(Wt.A,null),drag:i.createElement(Vt.A,null)},Bt={addSubRuleSimple:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},Mt={addRule:"action action--ADD-RULE",addGroup:"action action--ADD-GROUP",delRule:"action action--DELETE",delGroup:"action action--DELETE",delRuleGroup:"action action--DELETE",addSubRuleSimple:"action action--ADD-RULE",addSubRule:"action action--ADD-RULE",addSubGroup:"action action--ADD-GROUP"},It={delRule:"text"},Nt={delRule:!0,delGroup:!0,delRuleGroup:!0},_t=ft.Ay.Group,Ut=r(99629),zt=r.n(Ut);function $t(e,t,r){return t=(0,y.A)(t),(0,b.A)(e,Gt()?Reflect.construct(t,r||[],(0,y.A)(e).constructor):t.apply(e,r))}function Gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gt=function(){return!!e})()}var Ht=ft.Ay.Group,Yt=function(e){function t(){var e;(0,g.A)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=$t(this,t,[].concat(n))).onClick=function(t){var r=e.props;(0,r.setConjunction)(r.item.key)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.item;return i.createElement(ft.Ay,{disabled:t,type:r.checked?"primary":null,onClick:this.onClick},r.label)}}])}(i.PureComponent),Kt=function(e){function t(){var e;(0,g.A)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=$t(this,t,[].concat(n))).setNot=function(t){var r=e.props,n=r.setNot,o=r.not;n&&n(!o)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.readonly,r=e.disabled,n=e.not,o=e.conjunctionOptions,l=e.config,a=e.setConjunction,u=e.notLabel,c=e.showNot,s=Object.keys(o).length,d=r,p=l.settings,f=p.forceShowConj,m=p.renderSize,v=f||s>1&&!d;return i.createElement(Ht,{key:"group-conjs-buttons",size:m,disabled:r||t},c&&(!t||n)&&i.createElement(ft.Ay,{key:"group-not",onClick:this.setNot,type:n?"primary":"text",disabled:t,danger:!0},u),v&&zt()(o,(function(e,n){return!t&&!r||e.checked?i.createElement(Yt,{key:e.id,item:e,disabled:r||t,setConjunction:a}):null})))}}])}(i.PureComponent),Jt=r(93849),Qt=r(67317),Zt=r(30041),Xt=r(44657),er=r(64962);function tr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tr=function(){return!!e})()}var rr=Xt.Ay.Button,nr=Xt.Ay.Group,or=function(e){function t(){var e,r,n,o;(0,g.A)(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];return r=this,n=t,o=[].concat(a),n=(0,y.A)(n),(e=(0,b.A)(r,tr()?Reflect.construct(n,o||[],(0,y.A)(r).constructor):n.apply(r,o))).onChange=function(t){(0,e.props.setValueSrc)(t.target.value)},e}return(0,A.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.valueSources,n=e.valueSrc,o=e.readonly,l=e.title,u=i.createElement(nr,{value:n||"value",size:t.settings.renderSize,onChange:this.onChange,disabled:o},r.map((function(e){var t=(0,a.A)(e,2),r=t[0],n=t[1];return i.createElement(rr,{key:r,value:r},n.label)})));return i.createElement("span",null,i.createElement(Zt.A,{content:u,title:l},i.createElement(er.A,null)))}}])}(i.PureComponent),lr=r(13601),ar=["confirmFn"],ir=r(66861),ur=r(92857),cr=r(2691),sr=r.n(cr);function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fr=u.Aq.OtherUtils,mr=(fr.logger,fr.isTruthy),vr=u.Aq.ColorUtils,gr=(vr.setColorOpacity,vr.generateCssVarsForLevels),hr=(vr.chroma,vr.isDarkColor),br=(vr.isColor,function(e){return function(e){return sr()(e,(function(e,t){return"colorPrimary"===t||["colorInfo","colorSuccess","colorWarning","colorError","colorLink"].includes(t)||t.startsWith("boxShadow")||t.startsWith("font")||t.startsWith("lineType")||t.startsWith("motion")||"string"!=typeof e}))}(e)}),yr=function(e,t){var r,n,o,l,a,i,u,c=hr(e.colorBgBase),s=t.settings.renderSize,d=null!==(r=null===(n=t.settings.designSettings)||void 0===n?void 0:n.useThickLeftBorderOnHoverItem)&&void 0!==r&&r,p=null!==(o=null===(l=t.settings.designSettings)||void 0===l?void 0:l.useShadowOnHoverItem)&&void 0!==o&&o;switch(s){case"large":u=null!==(a=null==e?void 0:e.borderRadiusLG)&&void 0!==a?a:null==e?void 0:e.borderRadius;break;case"small":u=null!==(i=null==e?void 0:e.borderRadiusSM)&&void 0!==i?i:null==e?void 0:e.borderRadius;break;default:u=null==e?void 0:e.borderRadius}var f=pr(pr(pr(pr(pr(pr({"--main-background":e.colorBgContainer,"--rule-background":e.colorBgElevated},gr(c,"--group-background",e.colorBgContainer)),gr(c,"--rulegroup-background",e.colorBgContainer)),gr(c,"--rulegroupext-background",e.colorBgContainer)),gr(c,"--switch-background",e.colorBgContainer)),gr(c,"--case-background",e.colorBgContainer)),{},{"--rule-border-color":e.colorBorderSecondary,"--group-border-color":e.colorBorder,"--rulegroup-border-color":e.colorBorder,"--rulegroupext-border-color":e.colorBorder,"--switch-border-color":e.colorBorderSecondary,"--case-border-color":e.colorBorder,"--treeline-color":e.colorPrimaryHover,"--treeline-switch-color":e.colorInfo,"--treeline-disabled-color":e.colorFillSecondary,"--main-text-color":e.colorText,"--main-font-family":e.fontFamily,"--main-font-size":e.fontSize+"px","--item-radius":u+"px","--conjunctions-radius":u+"px"});return d&&(f=pr(pr({},f),{},{"--rule-border-left-width-hover":"2px","--group-border-left-width-hover":"2px","--rulegroup-border-left-width-hover":"2px","--rulegroupext-border-left-width-hover":"2px"})),p&&(f=pr(pr({},f),{},{"--rule-shadow-hover":e.boxShadowTertiary,"--group-shadow-hover":e.boxShadowTertiary,"--rulegroup-shadow-hover":e.boxShadowTertiary,"--rulegroupext-shadow-hover":e.boxShadowTertiary})),f},Ar=function(e){var t,r,n=e.children,o=e.config,l=i.createRef(),a=null!==(t=o.settings.themeMode)&&void 0!==t?t:"light",u=!!o.settings.compactMode,c=o.settings.renderSize,s=o.settings.liteMode,d=!(null===(r=o.settings.designSettings)||void 0===r||!r.generateCssVarsFromThemeLibrary),p=ur.A.useToken(),f=p.token,m=p.theme;return i.useEffect((function(){var e=l.current,t={};if(d){var r,n,a=null!==(r=null===(n=o.settings.designSettings)||void 0===n||null===(n=n.generateCssVars)||void 0===n?void 0:n.antd)&&void 0!==r?r:yr;for(var i in t=a.call(o.ctx,f,o))null!=t[i]&&(null==e||e.style.setProperty(i,t[i]))}return function(){for(var r in t)null==e||e.style.removeProperty(r)}}),[a,c,l,m.id,o,d]),i.createElement("div",{ref:l,className:"qb-antd qb-".concat(a," ").concat(u?"qb-compact":""," ").concat(s?"qb-lite":"")},n)},Er={DateWidget:W,DateTimeWidget:L,TimeWidget:M,SelectWidget:Q,TextWidget:te,TextAreaWidget:oe,NumberWidget:ie,PriceWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=e.placeholder,a=e.config,u=e.min,c=e.max,s=e.step,d=e.customProps,p=e.prefix,f=e.suffix,m=ce(ce({},de(e,["prefix","suffix"])),{},{min:u,max:c}),v=JSON.stringify(m),g=a.settings.renderSize,h=null!=t?t:void 0,b=(0,i.useRef)(void 0),y=(0,i.useCallback)((function(e){var t,r,n,o=parseFloat(e),l=b.current,a=pe(e,m);return(null==l?void 0:l.num)===o&&(null!=l&&l.extraLeadingZeros&&(r=l.extraLeadingZeros,a=me(a,r)),null!=l&&l.trailingZeros&&(n=l.trailingZeros,a=ve(a,n))),a!==(null===(t=b.current)||void 0===t?void 0:t.str)&&(b.current={num:o,str:a,extraLeadingZeros:r,trailingZeros:n}),a}),[v]),A=(0,i.useCallback)((function(e){var t=b.current,r=null==t?void 0:t.str,n=null==t?void 0:t.num,o=fe(e,m,r,n);return e!==r&&(b.current=o),o.num}),[v]),E=(0,i.useCallback)((function(e){""!==e&&null!==e||(e=void 0),r(e)}),[r]);return i.createElement(le.A,(0,o.A)({formatter:y,parser:A,size:g,value:h,placeholder:l,disabled:n,onChange:E,min:u,max:c,step:s,prefix:p,suffix:f,style:{width:"150px"}},d))},SliderWidget:Ae,RangeWidget:Ce,BooleanWidget:xe,MultiSelectWidget:Re,AutocompleteWidget:function(e){var t,r,n=e.config,l=e.placeholder,a=e.allowCustomValues,u=e.customProps,c=e.value,s=e.readonly,d=e.multiple,p=e.useAsyncSearch,f=_e(e,{debounceTimeout:100,multiple:d,uif:"antd"}),m=f.open,v=f.onDropdownVisibleChange,g=f.onChange,h=f.isSpecialValue,b=(f.onSearch,f.inputValue),y=f.options,A=(f.isInitialLoading,f.isLoading),E=f.aPlaceholder,O=f.extendOptions,w=f.getOptionDisabled,C=f.getOptionIsCustom,S=f.getOptionLabel,k=f.onInputChange,x=O(y);if(d&&a&&null!=c&&c.length){var P,j=Be(c);try{var F=function(){var e=P.value;C(e)&&!y.find((function(t){return t.value===e}))&&x.push(Ne(e))};for(j.s();!(P=j.n()).done;)F()}catch(e){j.e(e)}finally{j.f()}}var T=(0,i.useMemo)((function(){return x.reduce((function(e,t){return Math.max(e,U(t.title,null))}),0)}),[y]),R=n.settings,W=R.defaultSelectWidth,D=(R.defaultSearchWidth,R.renderSize),V=U(l),L=(d?null!=c&&c.length:c)?c:d?[]:void 0,q=L||!V?null:V+N,B=T&&!isNaN(T)?T+N:null,M=q||W,_=i.useRef(!1),z={width:d?void 0:M,minWidth:M},$={width:B},G=d?(null==u?void 0:u.mode)||(a&&null!=u&&u.tokenSeparators?"tags":"multiple"):void 0,H=s?"":E,Y=function(e){var t=e.tooltip,r=S(e);return t&&(r=i.createElement(Ve.A,{title:t},r)),r},K=function(e){var t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=Ie(t));var r,n=[],o=Be(t);try{for(o.s();!(r=o.n()).done;){var l=r.value,a=l.groupTitle;if(delete l.groupTitle,a){l.grouplabel=a;var i=void 0,u=n[n.length-1];null!=u&&u.options&&u.label===a?i=u:(i={label:a,options:[]},n.push(i)),i.options.push(l)}else n.push(l)}}catch(e){o.e(e)}finally{o.f()}return n}(null==x?void 0:x.filter((function(e){return!e.specialValue})).map((function(e){return{label:C(e)?i.createElement("span",{className:"customSelectOption"},S(e)):Y(e),value:e.value,groupTitle:e.groupTitle,disabled:w(e)}}))),J=null==x?void 0:x.filter((function(e){return!!e.specialValue})).map((function(e){return i.createElement("a",{style:{padding:"5px 10px",display:"block",cursor:"pointer"},key:e.specialValue,disabled:w(e),onClick:(t=e.specialValue,function(){var e=x.find((function(e){return e.specialValue==t}));g(null,t,e)})},S(e));var t})),Q=function(){var e=(0,De.A)(qe().mark((function e(t,r){return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!r.props||void 0!==r.value||void 0!==r.label){e.next=3;break}return e.abrupt("return");case 3:if(!h(r)){e.next=8;break}return e.next=6,g(null,t,r);case 6:e.next=11;break;case 8:if(!d){e.next=11;break}return e.next=11,g(null,t,r);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=(0,De.A)(qe().mark((function e(t,r){var n,o;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d&&t.length&&t.length>L.length&&t[t.length-1]==b,o=h(r)||"tags"===G&&n||_.current&&b,_.current=!1,o){e.next=6;break}return e.next=6,g(null,t,r);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=(0,De.A)(qe().mark((function e(t){return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.current&&(_.current=!1),e.next=3,k(null,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=(0,i.useCallback)((function(e){return i.createElement("div",null,e,J.length>0&&i.createElement(i.Fragment,null,i.createElement(We.A,{style:{margin:"0px"}}),i.createElement("div",{style:{display:"flex",flexDirection:"column"}},J)))}),[x]),te=(0,i.useCallback)((function(e,t){return n.settings.listKeysForSearch.map((function(e){return Ue[e]})).map((function(e){return"string"==typeof t[e]?t[e]:""})).join("\0").toLowerCase().indexOf(e.toLowerCase())>=0}),[n]);return i.createElement(I.A,(0,o.A)({filterOption:!p&&te,dropdownRender:ee,allowClear:!0,notFoundContent:A?null!==(t=n.settings.loadingLabel)&&void 0!==t?t:"Loading...":null!==(r=n.settings.notFoundLabel)&&void 0!==r?r:"Not found",disabled:s,mode:G,style:(null==u?void 0:u.style)||z,dropdownStyle:(null==u?void 0:u.dropdownStyle)||$,key:"widget-autocomplete",popupMatchSelectWidth:(null==u?void 0:u.popupMatchSelectWidth)||(null==u?void 0:u.dropdownMatchSelectWidth)||!1,placeholder:(null==u?void 0:u.placeholder)||H,onDropdownVisibleChange:v,onChange:Z,onClear:function(){m&&(_.current=!0)},onSelect:Q,onSearch:X,showSearch:!0,size:D,loading:A,value:L,searchValue:b,open:m,options:K},u))},TreeSelectWidget:at,FieldSelect:dt,FieldDropdown:yt,FieldCascader:xt,FieldTreeSelect:Tt,Icon:function(e){var t=e.type,r=qt[t]||null;return r||"drag"!==t||(r=i.createElement(Lt,null)),r},Button:function(e){var t=e.type,r=e.onClick,n=e.label,o=e.readonly,l=e.config,a=e.renderIcon,u=l.settings.renderSize,c=null==a?void 0:a({type:t,readonly:o,config:l}),s=Bt[t]?"":n;return i.createElement(ft.Ay,{danger:!0===Nt[t],key:t,type:It[t]||"default",icon:c,className:Mt[t],onClick:r,size:u,disabled:o},s)},ButtonGroup:function(e){var t=e.children,r=e.config.settings.renderSize;return i.createElement(_t,{size:r},t)},Conjs:Kt,Switch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,l=e.hideLabel,a=e.id,u=e.config,c=e.type,s=u.settings.renderSize,d=(0,i.useCallback)((function(e){return r(e)}),[r]),p=(0,i.useCallback)((function(){return r(!t)}),[r,t]),f=c,m=l?null:t&&o||n;return"lock"===c?i.createElement(ft.Ay,{key:a+f,type:t?"danger":void 0,icon:t?i.createElement(Jt.A,null):i.createElement(Qt.A,null),onClick:p,checked:!!t,size:s},m):i.createElement(Se.A,{key:a+f,checkedChildren:o||n,unCheckedChildren:t&&o||n,onChange:d,checked:!!t,size:s})},ValueSources:or,useConfirm:function(){return function(e){lr.A.confirm(e)}},Confirm:function(e){(0,e.confirmFn)((0,he.A)(e,ar))},Provider:function(e){var t,r,n,o=e.config,l=e.children,a=o.settings.themeMode,u="dark"===a,c=!!o.settings.compactMode,s=null===(t=o.settings.theme)||void 0===t?void 0:t.antd,d=null===(r=o.settings.locale)||void 0===r?void 0:r.antd,p=!!s||d||u||c,f=ur.A.useToken(),m=f.token,v=f.theme,g=null!==(n=o.settings.designSettings)&&void 0!==n&&n.canInheritThemeFromOuterProvider?m:void 0,h=i.useMemo((function(){return function(e,t){return{algorithms:[e&&ur.A.darkAlgorithm,t&&ur.A.compactAlgorithm].filter(mr)}}(u,c)}),[u,c]).algorithms,b=i.useMemo((function(){return p?function(e,t,r,n){var o=function(e){if(e)return hr(e.colorBgBase)?"dark":"light"}(t),l=!e||!t||e==o,a=t?br(t):void 0;return pr(pr(pr({},n.length?{algorithm:n}:{}),t?{token:a}:{}),{},{inherit:l},r||{})}(a,g,s,h):void 0}),[h,s,v.id,a,p]),y=i.createElement(Ar,{config:o},l);return p?i.createElement(ir.Ay,{locale:d,theme:b},y):y}};const Or=Er;function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sr=Cr(Cr({},u.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.Conjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.Switch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.Button,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.Icon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.ButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.ValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.Provider,e)},useConfirm:function(e){return(0,e.W.useConfirm)()},renderConfirm:function(e,t){return(0,t.W.Confirm)(e)},locale:Cr({},u.d$.settings.locale),removeInvalidMultiSelectValuesOnLoad:!1,normalizeListValues:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils.normalizeListValues).call.apply(e,[null].concat(r))}}),kr=Cr(Cr({},u.d$.widgets),{},{text:Cr(Cr({},u.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextWidget,e)}}),textarea:Cr(Cr({},u.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.TextAreaWidget,e)}}),number:Cr(Cr({},u.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.NumberWidget,e)}}),price:Cr(Cr({},u.d$.widgets.price),{},{factory:function(e,t){return(0,t.RCE)(t.W.PriceWidget,e)}}),multiselect:Cr(Cr({},u.d$.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.AutocompleteWidget,l=n.MultiSelectWidget;return e.asyncFetch||e.showSearch?r(o,Cr(Cr({},e),{},{multiple:!0})):r(l,e)}}),select:Cr(Cr({},u.d$.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.AutocompleteWidget,l=n.SelectWidget;return e.asyncFetch||e.showSearch||e.allowCustomValues?r(o,e):r(l,e)}}),slider:Cr(Cr({},u.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.SliderWidget,e)}}),boolean:Cr(Cr({},u.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BooleanWidget,e)}}),date:Cr(Cr({},u.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateWidget,e)}}),time:Cr(Cr({},u.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.TimeWidget,e)}}),datetime:Cr(Cr({},u.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.DateTimeWidget,e)}}),rangeslider:Cr(Cr({},u.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.RangeWidget,e)}}),treeselect:Cr(Cr({},u.d$.widgets.treeselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,e)}}),treemultiselect:Cr(Cr({},u.d$.widgets.treemultiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.TreeSelectWidget,Cr(Cr({},e),{},{treeMultiple:!0}))}})}),xr=Cr({},u.d$.types),Pr=Cr(Cr({},u.d$.ctx),{},{utils:Cr(Cr({},u.d$.ctx.utils),{},{normalizeListValues:function(e,t,r){var n=["treeselect","treemultiselect"].includes(t),o=["multiselect","treemultiselect"].includes(t);return n&&(e=function(e,t,r){var n,o=Ge(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.path=Xe(e,l.value),0!=t.treeSelectOnlyLeafs){var a=et(e,l.value);r||(l.selectable=0==a.length)}}}catch(e){o.e(e)}finally{o.f()}return e}(e=function(e){var t,r,n=Ze,o=function(e,l,a){if(e.children){1==a&&(e[n.pId]=n.rootPId);var i,u=e.children.length,c=Ge(e.children);try{for(c.s();!(i=c.n()).done;){var s=i.value;s[n.pId]=e[n.id],t++,l.splice(t,0,s),r++,o(s,l,a+1)}}catch(e){c.e(e)}finally{c.f()}delete e.children,0==u&&(l.splice(t,1),t--,r--)}};if(Array.isArray(e))for(r=e.length,t=0;t<r;t++){var l=e[t];Qe(l)&&(void 0!==l[n.pId]&&l[n.pId]!=n.rootPId||o(l,e,1))}return e}(e=Je(e)),r,o)),e}}),W:Cr(Cr({},u.d$.ctx.W),Or),generateCssVars:yr}),jr=Cr(Cr({},u.d$),{},{ctx:Pr,types:xr,widgets:kr,settings:Sr});const Fr=jr=u.Aq.ConfigMixins.addMixins(jr,["rangeslider","treeselect","treemultiselect","rangeable__date"]);var Tr=r(1783),Rr=r(76147),Wr=r(32861),Dr=r(60169),Vr=r(34982),Lr=r(77421),qr=r(12543),Br=r(5866),Mr=r.n(Br),Ir=r(98697),Nr=r(97306),_r=u.Aq.ListUtils.mapListValues,Ur=r(30827),zr=u.Aq.NumberFormat,$r=zr.NumericFormat,Gr=zr.getNumberFormatProps,Hr=r(63326),Yr=["width"],Kr=["width"],Jr=r(51343),Qr=r(20327),Zr=r(5721),Xr=r(25856),en=r(91043),tn=u.Aq.ListUtils.mapListValues,rn=r(87050),nn=r(25775),on=r(2455),ln=r(30460),an=r(62649),un=r(17337),cn=r(49159),sn=r(93755),dn=["width"];function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mn=u.Rj.W,vn=i.createElement(cn.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),gn=i.createElement(sn.A,{fontSize:"small",style:{marginRight:10,marginTop:4}}),hn=[];const bn=function(e){var t=e.allowCustomValues,r=e.multiple,n=e.disableClearable,l=e.value,a=e.customProps,u=e.readonly,c=e.config,s=e.filterOptionsConfig,d=e.errorText,p={stringify:(0,i.useCallback)((function(e){return c.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[c])},f=(0,rn.Z)(s||p),m=mn(e,{debounceTimeout:100,multiple:r,uif:"mui"}),v=m.open,g=m.onOpen,h=m.onClose,b=m.onChange,y=m.onInputChange,A=m.inputValue,E=m.options,O=m.isInitialLoading,w=m.isLoading,C=m.aPlaceholder,S=m.extendOptions,k=m.getOptionSelected,x=m.getOptionDisabled,P=m.getOptionIsCustom,j=m.getOptionLabel,F=m.selectedListValue,T=c.settings,R=T.defaultSelectWidth,W=T.defaultSearchWidth,D=a||{},V=D.width,L=(0,he.A)(D,dn),q=L.input||{},B=q.width||W;q=$()(q,["width"]);var M=$()(L,["showSearch","showCheckboxes"]),I=!0,N=V||R,_={width:r?void 0:N,minWidth:N},U=u?"":C,z=U||c.settings.fieldPlaceholder,G=null!=l?l:r?hn:null,H=(0,un.A)((function(e){return{input:{minWidth:B+" !important"}}})),Y=(0,un.A)((function(e){return{root:{height:"auto"},label:{marginTop:"3px",marginBottom:"3px"}}}))(),K=H();return i.createElement(Dr.A,{fullWidth:I},i.createElement(nn.Ay,(0,o.A)({disableClearable:n,disableCloseOnSelect:r,fullWidth:I,multiple:r,style:_,classes:K,freeSolo:t,loading:O,open:v,onOpen:g,onClose:h,inputValue:A,onInputChange:y,label:U,onChange:b,value:G,getOptionSelected:k,disabled:u,readOnly:u,options:E,groupBy:function(e){return null==e?void 0:e.groupTitle},getOptionLabel:j,getOptionDisabled:x,renderInput:function(e){var t,n=!r&&!v,l=null!==(t=null==F?void 0:F.title)&&void 0!==t?t:"",a=n?l:r&&!v?"":null!=A?A:"";return i.createElement(Wr.A,(0,o.A)({},e,{inputProps:fn(fn({},e.inputProps),{},{value:a,"aria-label":z}),InputProps:fn(fn({},e.InputProps),{},{readOnly:u,endAdornment:i.createElement(i.Fragment,null,w?i.createElement(on.A,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:u,placeholder:U,"aria-label":U,error:!!d},q))},renderTags:function(e,t){return e.map((function(e,r){var n=P(e)?"customSelectOption":void 0,l=i.createElement("span",{className:n},j(e));return i.createElement(ln.A,(0,o.A)({key:e.value,classes:Y,label:l,size:"small"},t({index:r})))}))},renderOption:function(e,t){var n=t.selected,o=e.title,l=e.renderTitle,a=(e.value,e.specialValue),u=e.isHidden,c=P(e)?"customSelectOption":void 0,s=i.createElement("span",{className:c},l||o);return u?null:r?a?i.createElement(an.A,null,l||o):i.createElement(an.A,null,n?gn:vn,s):a?i.createElement(i.Fragment,null,l||o):i.createElement(i.Fragment,null,s)},filterOptions:function(e,t){var r=f(e,t);return S(r)}},M)))};var yn=r(89881),An=["items","selectedKey","setField","isValueField"];function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wn={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},Cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){var r=e.items,n=e.path,o=e.key,l=e.label,a=e.altLabel,u=e.disabled,c=e.grouplabel,s=e.matchesType,d=e.tooltip,p="  ".repeat(t);return r?Cn(r,t+1):{title:l,renderTitle:s?i.createElement("b",null,p+l):p+l,value:n,disabled:u,groupTitle:t>0?p+c:null,tooltip:d,_value2:o,_altLabel:a}})).flat(1/0)},Sn=r(81553),kn=r(14143),xn=r(38314),Pn=r(27553),jn=u.Aq.DragIcon,Fn={delGroup:i.createElement(Sn.A,null),delRuleGroup:i.createElement(Sn.A,null),delRule:i.createElement(Sn.A,null),addSubRuleSimple:i.createElement(kn.A,null),addSubRule:i.createElement(kn.A,null),addSubGroup:i.createElement(kn.A,null),addRule:i.createElement(kn.A,null),addGroup:i.createElement(kn.A,null),drag:i.createElement(xn.A,null)},Tn={drag:"inherit"},Rn=r(41639),Wn=r(77545),Dn={addSubRuleSimple:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},Vn={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"},Ln=r(88393),qn=r(15481),Bn=r(1009),Mn=r(30089),In=r(17827),Nn=r(71773),_n=r(68417),Un=r(42151),zn=r(5429),$n=(0,un.A)((function(e){return{paper:{padding:e.spacing(1)}}})),Gn=r(32641),Hn=r(65861),Yn=r(79040),Kn=r(6277),Jn=r(95957),Qn=r(39847),Zn=r.n(Qn);function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var to=u.Aq.ColorUtils,ro=(to.setColorOpacity,to.generateCssVarsForLevels),no=to.chroma,oo=(u.Aq.OtherUtils.logger,function(e,t){var r,n,o=e.settings.themeMode,l=null===(r=e.settings.theme)||void 0===r?void 0:r.material,a=null===(n=e.settings.locale)||void 0===n?void 0:n.material,i=!!l||o||a,u=null==t?void 0:t.palette.type;if(!i)return null;var c,s,d,p,f=void 0;if(null!=(d=l)&&d.shadows&&null!=d&&null!==(p=d.palette)&&void 0!==p&&p.type)f=l;else{var m=o&&t&&o!=u?(c=t,s=$()(c.palette,["background","text","divider","action"]),eo(eo({},c),{},{palette:s})):t;f=Zn()({},null!=m?m:{},null!=l?l:{},o&&{palette:{type:o}})}return(0,Jn.A)(f,null!=a?a:{})}),lo=function(e,t){var r,n,o,l,a=e.palette,i=e.typography,u=e.shadows,c=e.shape,s="dark"===a.type,d=null!==(r=null===(n=t.settings.designSettings)||void 0===n?void 0:n.useThickLeftBorderOnHoverItem)&&void 0!==r&&r,p=null!==(o=null===(l=t.settings.designSettings)||void 0===l?void 0:l.useShadowOnHoverItem)&&void 0!==o&&o,f=eo(eo(eo(eo(eo(eo({"--main-background":a.background.paper,"--rule-background":a.background.paper},ro(s,"--group-background",a.background.paper)),ro(s,"--rulegroup-background",a.background.paper)),ro(s,"--rulegroupext-background",a.background.paper)),ro(s,"--switch-background",a.background.paper)),ro(s,"--case-background",a.background.paper)),{},{"--rule-border-color":s?a.divider:no(a.divider).brighten(3).hex(),"--group-border-color":a.divider,"--rulegroup-border-color":a.divider,"--rulegroupext-border-color":a.divider,"--switch-border-color":a.divider,"--case-border-color":a.divider,"--treeline-color":a.primary.main,"--treeline-switch-color":a.secondary.main,"--main-text-color":a.text.primary,"--main-font-family":i.fontFamily,"--main-font-size":i.fontSize+"px","--item-radius":c.borderRadius+"px"});return d&&(f=eo(eo({},f),{},{"--rule-border-left-width-hover":"2px","--group-border-left-width-hover":"2px","--rulegroup-border-left-width-hover":"2px","--rulegroupext-border-left-width-hover":"2px"})),p&&(f=eo(eo({},f),{},{"--rule-shadow-hover":u[1],"--group-shadow-hover":u[1],"--rulegroup-shadow-hover":u[1],"--rulegroupext-shadow-hover":u[1]})),f},ao=function(e){var t,r,n=e.children,o=e.config,l=i.createRef(),a=null!==(t=o.settings.themeMode)&&void 0!==t?t:"light",u=o.settings.compactMode,c=o.settings.liteMode,s=!(null===(r=o.settings.designSettings)||void 0===r||!r.generateCssVarsFromThemeLibrary),d=(0,Gn.A)();return i.useEffect((function(){var e=l.current,t={};if(s){var r,n,a=null!==(r=null===(n=o.settings.designSettings)||void 0===n||null===(n=n.generateCssVars)||void 0===n?void 0:n.material)&&void 0!==r?r:lo;for(var i in t=a.call(o.ctx,d,o))null!=t[i]&&(null==e||e.style.setProperty(i,t[i]))}return function(){for(var r in t)null==e||e.style.removeProperty(r)}}),[a,d,o,s]),i.createElement("div",{ref:l,className:"qb-material qb-".concat(a," ").concat(u?"qb-compact":""," ").concat(c?"qb-lite":"")},n)};const io={MaterialTextWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.placeholder,a=e.customProps,u=e.maxLength,c=t||"";return i.createElement(Dr.A,null,i.createElement(Wr.A,(0,o.A)({value:c,placeholder:n?"":l,InputProps:{readOnly:n},inputProps:{maxLength:u},disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},a)))},MaterialTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,l=e.readonly,a=e.placeholder,u=e.customProps,c=e.maxLength,s=e.maxRows,d=e.fullWidth,p=n.settings.defaultMaxRows,f=t||"";return i.createElement(Dr.A,{fullWidth:d},i.createElement(Wr.A,(0,o.A)({fullWidth:d,maxRows:s||p,multiline:!0,value:f,placeholder:l?"":a,InputProps:{readOnly:l},inputProps:{maxLength:c},disabled:l,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},u)))},MaterialDateWidget:function(e){var t,r,n,l=e.value,a=e.setValue,u=e.readonly,c=e.customProps,s=e.dateFormat,d=e.valueFormat,p=e.placeholder,f=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(n=window).matchMedia)||void 0===r?void 0:r.call(n,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Vr.s:Vr.l;return i.createElement(Dr.A,null,i.createElement(f,(0,o.A)({readOnly:u,disabled:u,placeholder:u?"":p,format:s,value:l||null,onChange:function(e){a(function(e){return e&&e.isValid()?e.format(d):void 0}(e))}},c)))},MaterialDateTimeWidget:function(e){var t,r,n,l=e.value,a=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.dateFormat,p=e.timeFormat,f=e.valueFormat,m=e.customProps,v=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(n=window).matchMedia)||void 0===r?void 0:r.call(n,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?Lr.d:Lr.K,g=d+" "+p;return i.createElement(Dr.A,null,i.createElement(v,(0,o.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:g,value:l||null,onChange:function(e){a(function(e){return e&&e.isValid()?e.format(f):void 0}(e))}},m)))},MaterialTimeWidget:function(e){var t,r,n,l=e.value,a=e.setValue,u=e.use12Hours,c=e.readonly,s=e.placeholder,d=e.timeFormat,p=e.valueFormat,f=e.customProps,m=(null!==(t=window)&&void 0!==t&&t.matchMedia?null===(r=(n=window).matchMedia)||void 0===r?void 0:r.call(n,"(pointer:fine), (pointer:none)").matches:e.useKeyboard)?qr.n:qr.A,v=-1!=d.indexOf(":ss"),g=l?Mr()(l,d):null;return i.createElement(Dr.A,null,i.createElement(m,(0,o.A)({readOnly:c,disabled:c,ampm:!!u,placeholder:c?"":s,format:d,value:g||null,onChange:function(e){a(function(e){return e&&e.isValid()?e.format(p):void 0}(e))},views:v?["hours","minutes","seconds"]:["hours","minutes"]},f)))},MaterialSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,l=(e.allowCustomValues,e.readonly),a=e.placeholder,u=e.customProps,c=null!=r;return i.createElement(Dr.A,null,i.createElement(Ir.A,(0,o.A)({autoWidth:!0,displayEmpty:!0,label:l?"":a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:c?r:"",disabled:l,readOnly:l,renderValue:function(e){return l||null!=e?function(e){return _r(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()}(e):a}},$()(u,["showSearch","input"])),_r(t,(function(e){var t=e.title,r=e.value;return i.createElement(Nr.A,{key:r,value:r},t)}))))},MaterialNumberWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.min,a=e.max,u=e.step,c=e.placeholder,s=e.customProps,d=null==t?"":t;return i.createElement(Dr.A,null,i.createElement(Wr.A,(0,o.A)({type:"number",value:d,placeholder:n?"":c,InputProps:{readOnly:n},inputProps:{min:l,max:a,step:u},disabled:n,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s)))},MaterialPriceWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=(e.min,e.max,e.step,e.placeholder),a=e.customProps,u=e.prefix,c=e.suffix,s=Gr(e,["prefix","suffix"]),d=null==t?"":t,p=(0,i.useMemo)((function(){return{readOnly:n,startAdornment:null!=u?i.createElement(Ur.A,{position:"start"},u):void 0,endAdornment:null!=c?i.createElement(Ur.A,{position:"end"},c):void 0}}),[n]);return i.createElement($r,(0,o.A)({size:"small",customInput:Wr.A,value:d,placeholder:n?"":l,InputProps:p,disabled:n,onValueChange:function(e){var t=e.floatValue;r(void 0===t?null:t)},variant:"standard"},a,s))},MaterialSliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=n||{},v=m.width,g=(0,he.A)(m,Yr),h=g.input||{},b=g.slider||g,y="number"==typeof l?l:"",A="number"==typeof l?l:null,E=!!d&&Object.keys(d).map((function(e){return{value:e,label:d[e]}})),O=i.createElement(Wr.A,(0,o.A)({type:"number",value:y,placeholder:r,InputProps:{readOnly:p},inputProps:{min:u,max:c,step:s},disabled:p,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),a(t)},onBlur:function(){l<u?a(u):l>c&&a(c)}},h)),w=i.createElement(Hr.A,(0,o.A)({value:A,onChange:function(e,t){a(t)},disabled:p,min:u,max:c,step:s,marks:E,valueLabelDisplay:"auto"},b)),C={marginLeft:"5px",paddingLeft:"12px",marginBottom:E&&"-16px",width:v||f};return i.createElement(Dr.A,null,i.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},i.createElement("div",{style:{marginLeft:"5px"}},O),i.createElement("div",{style:C},w)))},MaterialRangeWidget:function(e){var t=e.config,r=e.placeholders,n=e.customProps,l=e.value,u=e.setValue,c=e.min,s=e.max,d=e.step,p=e.marks,f=e.readonly,m=e.textSeparators,v=t.settings.defaultSliderWidth;(0,i.useEffect)((function(){var t=e.value||[void 0,void 0],r=(0,a.A)(t,2);r[0],r[1],e.value}),[]);var g=function(){l&&(l[0]<c?u([c,l[1]]):l[1]>s&&u([l[0],s]))},h=n||{},b=h.width,y=(0,he.A)(h,Kr),A=y.input||{},E=y.slider||y,O=!!p&&Object.keys(p).map((function(e){return{value:e,label:p[e]}})),w=l?(0,Ee.A)(l):[void 0,void 0],C=(0,a.A)(w,2),S=C[0],k=C[1];null==S&&(S="",w[0]=0),null==k&&(k="",w[1]=0);var x=i.createElement(Wr.A,(0,o.A)({type:"number",value:S,placeholder:r[0],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?(0,Ee.A)(e.value):[void 0,void 0];n[0]=r,u(n)},onBlur:g},A)),P=i.createElement(Wr.A,(0,o.A)({type:"number",value:k,placeholder:r[1],InputProps:{readOnly:f},inputProps:{min:c,max:s,step:d},disabled:f,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?(0,Ee.A)(e.value):[void 0,void 0];n[1]=r,u(n)},onBlur:g},A)),j=i.createElement(Hr.A,(0,o.A)({value:w,onChange:function(e,t){u(t)},disabled:f,min:c,max:s,step:d,marks:O,valueLabelDisplay:"auto"},E)),F={marginLeft:"5px"},T={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:b||v};return i.createElement(Dr.A,null,i.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},i.createElement("div",{style:F},x),i.createElement("div",{className:"widget--sep"},i.createElement("span",null,m[1])),i.createElement("div",{style:F},P),i.createElement("div",{style:T},j)))},MaterialBooleanWidget:function(e){var t=e.customProps,r=e.value,n=e.setValue,l=e.labelYes,a=e.labelNo,u=e.readonly;return i.createElement(Dr.A,null,i.createElement(Zr.A,{component:"div"},i.createElement(Qr.A,{component:"label",container:!0,alignItems:"center",spacing:0},i.createElement(Qr.A,{item:!0,component:"span"},a),i.createElement(Qr.A,{item:!0,component:"span"},i.createElement(Jr.A,(0,o.A)({checked:!!r,onChange:function(){n(!r)},disabled:u},t))),i.createElement(Qr.A,{item:!0,component:"span"},l))))},MaterialMultiSelectWidget:function(e){var t,r=e.listValues,n=e.value,l=e.setValue,a=(e.allowCustomValues,e.readonly),u=e.placeholder,c=e.customProps,s=null!=n&&n.length>0;return i.createElement(Dr.A,null,i.createElement(Ir.A,(0,o.A)({multiple:!0,autoWidth:!0,displayEmpty:!0,label:a?"":u,onChange:function(e){void 0!==e.target.value&&l(e.target.value)},value:s?n:[],disabled:a,readOnly:a,renderValue:function(e){if(!a&&!e.length)return u;var t=tn(r,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return t.join(", ")}},$()(c,["showSearch","input","showCheckboxes"])),(t=s?n:[],tn(r,(function(e){var r=e.title,n=e.value;return i.createElement(Nr.A,{key:n,value:n},i.createElement(Xr.A,{checked:t.indexOf(n)>-1}),i.createElement(en.A,{primary:r}))})))))},MaterialAutocompleteWidget:bn,MaterialFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,l=e.placeholder,a=e.errorText,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){var r=e.items,n=e.path,o=e.label,l=e.disabled,a=e.matchesType,c="  ".repeat(t);return r?[i.createElement(yn.A,{disabled:l,key:n,disableSticky:!0},c&&i.createElement("span",null,c),o),u(r,t+1)]:i.createElement(Nr.A,{disabled:l,key:n,value:n},c&&i.createElement("span",null,c),a?i.createElement("b",null,o):o)}))},c=null!=n;return i.createElement(Dr.A,null,i.createElement(Ir.A,{error:!!a,autoWidth:!0,displayEmpty:!0,label:l,onChange:function(e){void 0!==e.target.value&&r(e.target.value)},value:c?n:"",disabled:o,renderValue:function(e){if(!o&&!e)return l;var r=function(t){return t.map((function(t){return t.items?r(t.items):t.path===e?t.label:null}))};return r(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop()}},u(t)))},MaterialFieldAutocomplete:function(e){return i.createElement(bn,function(e,t){var r=e.items,n=e.selectedKey,o=e.setField,l=e.isValueField,a=(0,he.A)(e,An),u=Cn(r),c=n,s={stringify:(0,i.useCallback)((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return wn[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return On(On({},a),{},{listValues:u,setValue:function(e,t){if(e||l)return o(e)},filterOptionsConfig:s,allowCustomValues:!1,multiple:!1,disableClearable:!l,value:c,isFieldAutocomplete:!0})}(e,e.config))},MaterialIcon:function(e){var t=e.type,r=e.readonly,n=Fn[t]||null;return n||"drag"!==t?"drag"===t?i.createElement(Pn.A,{size:"small",disabled:r,color:Tn[t]},n):n:i.createElement(jn,null)},MaterialButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,l=e.renderIcon,a=e.config,u=null==l?void 0:l({type:t,readonly:o,config:a});return!r||Dn[t]?i.createElement(Wn.A,{size:"small",disabled:o,onClick:n,color:Vn[t],"aria-label":r},u):i.createElement(Rn.A,{size:"small",disabled:o,onClick:n,color:Vn[t],startIcon:u},r)},MaterialButtonGroup:function(e){var t=e.children;return e.config,i.createElement(i.Fragment,null,t)},MaterialConjs:function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,l=e.setConjunction,a=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(o).length,f=a,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return l(e)};return i.createElement(Dr.A,null,i.createElement(Ln.A,{disableElevation:!0,variant:"contained",size:"small",disabled:u},s&&(u&&!r?null:i.createElement(Rn.A,{key:t,id:t+"__not",color:r?"secondary":"default",onClick:function(e){return n(e)}.bind(null,!r),disabled:u},d||"NOT")),m&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n=(t.name,t.label),c=t.checked,s=l.isDummyFn?"__dummy":"";return!u&&!a||c?i.createElement(Rn.A,{key:r+s,id:r+s,color:c?"primary":"default",value:e,onClick:v.bind(null,e),disabled:u||a},n):null}))))},MaterialSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,l=e.hideLabel,a=e.id,u=e.config,c=e.type,s=(u.settings.renderSize,function(){return r(!t)}),d=c,p=t&&o||n,f=t?i.createElement(Mn.A,null):i.createElement(Bn.A,null);return"lock"==c?l?i.createElement(Wn.A,{key:a+d,onClick:s,size:"small"},f):i.createElement(Rn.A,{key:a+d,onClick:s,size:"small",startIcon:f},p):i.createElement(qn.A,{control:i.createElement(Jr.A,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:p})},MaterialValueSources:function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,o=e.setValueSrc,l=(e.readonly,i.useState(null)),u=(0,a.A)(l,2),c=u[0],s=u[1],d=$n(),p=function(){s(null)},f=Boolean(c);return i.createElement("div",null,i.createElement(Wn.A,{size:"small",onClick:function(e){c?p():function(e){s(e.currentTarget)}(e)}},i.createElement(In.A,null)),i.createElement(Nn.Ay,{open:f,anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:p,classes:{paper:d.paper},disablePortal:!0},i.createElement(Dr.A,{component:"fieldset"},i.createElement(zn.A,{component:"legend"},n),i.createElement(Un.A,{value:r||"value",onChange:function(e){void 0!==e.target.value&&(o(e.target.value),p())}},function(e){return e.map((function(e){var t=(0,a.A)(e,2),n=t[0],o=t[1];return i.createElement(qn.A,{key:n,value:n,checked:r==n||!r&&"value"==n,control:i.createElement(_n.A,null),label:o.label})}))}(t)))))},MaterialConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,o=e.title;(0,e.confirmFn)({description:o||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MaterialUseConfirm:Rr.S,MaterialProvider:function(e){var t,r=e.config,n=e.children,o=(0,Gn.A)(),l=null!==(t=r.settings.designSettings)&&void 0!==t&&t.canInheritThemeFromOuterProvider?o:void 0,a=i.useMemo((function(){return oo(r,l)}),[r,l]),u=i.createElement(Yn.M,{utils:Kn.A},i.createElement(Rr.a,null,i.createElement(ao,{config:r},n)));return a?i.createElement(Hn.A,{theme:a},u):u}};function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var so=co(co({},u.d$.settings),{},{renderField:function(e,t){var r,n=t.RCE,o=t.W,l=o.MaterialFieldAutocomplete,a=o.MaterialFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(l,e):n(a,e)},renderOperator:function(e,t){var r,n=t.RCE,o=t.W,l=o.MaterialFieldAutocomplete,a=o.MaterialFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(l,e):n(a,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MaterialFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MaterialConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MaterialSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MaterialButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MaterialIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MaterialButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MaterialValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MaterialProvider,e)},renderConfirm:function(e,t){return(0,t.W.MaterialConfirm)(e)},useConfirm:function(e){return(0,e.W.MaterialUseConfirm)()}}),po=co(co({},u.d$.widgets),{},{text:co(co({},u.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextWidget,e)}}),textarea:co(co({},u.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTextAreaWidget,e)}}),number:co(co({},u.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialNumberWidget,e)}}),price:co(co({},u.d$.widgets.price),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialPriceWidget,e)}}),multiselect:co(co({},u.d$.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MaterialAutocompleteWidget,l=n.MaterialMultiSelectWidget;return e.asyncFetch||e.showSearch||e.allowCustomValues?r(o,co(co({},e),{},{multiple:!0})):r(l,e)}}),select:co(co({},u.d$.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MaterialAutocompleteWidget,l=n.MaterialSelectWidget;return e.asyncFetch||e.showSearch||e.allowCustomValues?r(o,e):r(l,e)}}),slider:co(co({},u.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialSliderWidget,e)}}),boolean:co(co({},u.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialBooleanWidget,e)}}),date:co(co({},u.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateWidget,e)}}),time:co(co({},u.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialTimeWidget,e)}}),datetime:co(co({},u.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialDateTimeWidget,e)}}),rangeslider:co(co({},u.d$.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MaterialRangeWidget,e)}})}),fo=co({},u.d$.types),mo=co(co({},u.d$.ctx),{},{W:co(co({},u.d$.ctx.W),io),generateCssVars:lo}),vo=co(co({},u.d$),{},{ctx:mo,types:fo,widgets:po,settings:so});const go=vo=u.Aq.ConfigMixins.addMixins(vo,["rangeslider"]);var ho=r(76292),bo=u.Aq.moment,yo=r(72696),Ao=r(80352),Eo=r(75846),Oo=r(47203),wo=u.Aq.ListUtils.mapListValues,Co=u.Aq.NumberFormat,So=Co.NumericFormat,ko=Co.getNumberFormatProps,xo=r(90395),Po=r(77647),jo=r(11511),Fo=r(64255),To=u.Aq.uuid,Ro=u.Aq.ListUtils.mapListValues,Wo=u.Aq.DragIcon,Do={delGroup:Fo.BeE,delRuleGroup:Fo.BeE,delRule:Fo.BeE,addSubRuleSimple:Fo.QLR,addSubRule:Fo.QLR,addSubGroup:Fo.QLR,addRule:Fo.QLR,addGroup:Fo.QLR,drag:Fo.t6y},Vo={addSubRuleSimple:!0,delRuleGroup:!0,delRule:!0},Lo={addRule:"primary",addGroup:"primary",delGroup:"danger",delRuleGroup:"danger",delRule:"danger"},qo=r(29033),Bo=r(20665),Mo=r(36678),Io=["confirmFn"],No=(0,i.createContext)({showModal:function(){},closeModal:function(){}}),_o=function(e){var t=e.children,r=i.useState(null),n=(0,a.A)(r,2),o=n[0],l=n[1],u=i.useState(!1),c=(0,a.A)(u,2),s=c[0],d=c[1];return i.createElement(No.Provider,{value:{showModal:function(e){d(!0),l(e)},closeModal:function(){d(!1),setTimeout((function(){l(null)}),300)}}},t,o&&i.createElement(o,{modalOpened:s}))};function Uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $o=u.Aq.ColorUtils,Go=($o.setColorOpacity,$o.generateCssVarsForLevels,$o.chroma,u.Aq.OtherUtils.logger,function(e,t){var r,n,o,l,a=null!==(r=null===(n=t.settings.designSettings)||void 0===n?void 0:n.useThickLeftBorderOnHoverItem)&&void 0!==r&&r,i=(null===(o=t.settings.designSettings)||void 0===o?void 0:o.useShadowOnHoverItem,null===(l=t.settings)||void 0===l||l.themeMode,{});return a&&(i=zo(zo({},i),{},{"--rule-border-left-width-hover":"2px","--group-border-left-width-hover":"2px","--rulegroup-border-left-width-hover":"2px","--rulegroupext-border-left-width-hover":"2px"})),i}),Ho=function(e){var t,r,n=e.children,o=e.config,l=i.createRef(),a=null!==(t=o.settings.themeMode)&&void 0!==t?t:"light",u=!!o.settings.compactMode,c=o.settings.liteMode,s=!(null===(r=o.settings.designSettings)||void 0===r||!r.generateCssVarsFromThemeLibrary);return i.useEffect((function(){var e=l.current,t={};if(s){var r,n,a=null!==(r=null===(n=o.settings.designSettings)||void 0===n||null===(n=n.generateCssVars)||void 0===n?void 0:n.bootstrap)&&void 0!==r?r:Go;for(var i in t=a.call(o.ctx,{},o))null!=t[i]&&(null==e||e.style.setProperty(i,t[i]))}return function(){for(var r in t)null==e||e.style.removeProperty(r)}}),[a,o,l,s]),i.createElement("div",{ref:l,className:"qb-bootstrap qb-".concat(a," ").concat(u?"qb-compact":""," ").concat(c?"qb-lite":"")},n)};const Yo={BootstrapTextWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,l=e.placeholder,a=e.maxLength,u="dark"===n.settings.themeMode,c=t||"";return i.createElement(ho.A,{type:"text",bsSize:"sm",value:c,placeholder:l,disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:a,className:u?"bg-dark text-light border-dark placeholder-light":void 0})},BootstrapTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,l=e.placeholder,a=e.maxLength,u=(e.maxRows,e.fullWidth),c="dark"===n.settings.themeMode,s=t||"";return i.createElement(ho.A,{type:"textarea",bsSize:"sm",value:s,placeholder:l,disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:a,style:{width:u?"100%":void 0},className:c?"bg-dark text-light border-dark  placeholder-light":void 0})},BootstrapDateWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=(e.valueFormat,e.readonly),l="dark"===n.settings.themeMode;return i.createElement(ho.A,{type:"date",bsSize:"sm",value:t||"",disabled:o,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)},className:l?"bg-dark text-light border-dark color-scheme-dark":void 0})},BootstrapDateTimeWidget:function(e){var t,r=e.value,n=e.setValue,o=e.config,l=e.valueFormat,a=(e.use12Hours,e.readonly),u="dark"===o.settings.themeMode;return t=r?bo(r).format("YYYY-MM-DDTHH:mm"):"",i.createElement(ho.A,{type:"datetime-local",bsSize:"sm",value:t,disabled:a,onChange:function(e){var t=e.target.value;t=""==t?void 0:bo(new Date(t)).format(l),n(t)},className:u?"bg-dark text-light border-dark color-scheme-dark":void 0})},BootstrapTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=(e.valueFormat,e.use12Hours,e.readonly),l="dark"===n.settings.themeMode;return i.createElement(ho.A,{type:"time",bsSize:"sm",value:t||"",disabled:o,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)},className:l?"bg-dark text-light border-dark  color-scheme-dark":void 0})},BootstrapSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,o=(e.allowCustomValues,e.readonly),l=e.placeholder,u="dark"===e.config.settings.themeMode,c=function(e){void 0!==e.target.value&&n(e.target.value)},s=null!=r,d=(0,i.useState)(!1),p=(0,a.A)(d,2),f=p[0],m=p[1];return i.createElement(Ao.A,{isOpen:!o&&f,onClick:function(){return m(!f)},disabled:o,toggle:function(){return m(!f)}},i.createElement(Eo.A,{tag:u?void 0:"button",caret:u,className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:u?"dark":"transparent",disabled:o},s?function(e){return o||null!=e?function(e){return wo(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()}(e):l}(r):i.createElement("span",null," ")),i.createElement(Oo.A,{container:"body",style:{},dark:u},!s&&i.createElement(yo.A,{disabled:!0,value:""}),wo(t,(function(e){var t=e.title,n=e.value;return i.createElement(yo.A,{key:n,onClick:c,value:n,active:r==n},t)}))))},BootstrapNumberWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,l=e.min,a=e.max,u=e.step,c=e.placeholder,s="dark"===n.settings.themeMode,d=null==t?"":t;return i.createElement(ho.A,{type:"number",bsSize:"sm",value:d,placeholder:c,disabled:o,min:l,max:a,step:u,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},className:s?"bg-dark text-light border-dark placeholder-light color-scheme-dark":void 0})},BootstrapPriceWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=e.placeholder,a=e.min,u=e.max,c=e.customProps,s=ko(e),d=null==t?"":t,p=null!=t&&(null==u||t<=u)&&(null==a||t>=a);return i.createElement(So,(0,o.A)({bsSize:"sm",invalid:null!=t&&!p,customInput:ho.A,value:d,placeholder:l,disabled:n,onValueChange:function(e){var t=e.floatValue;r(void 0===t?null:t)}},c,s))},BootstrapSliderWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,l=e.min,a=e.max,u=e.step,c=e.placeholder,s="dark"===n.settings.themeMode,d=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},p=null==t?"":t;return i.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},i.createElement(ho.A,{key:"number",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto"},type:"number",value:p,placeholder:c,disabled:o,min:l,max:a,step:u,onChange:d,className:s?"bg-dark text-light border-dark placeholder-light color-scheme-dark":void 0}),i.createElement(ho.A,{key:"range",bsSize:"sm",style:{marginLeft:"5px",display:"inline-flex",width:"auto",minWidth:"150px"},type:"range",value:p,disabled:o,min:l,max:a,step:u,onChange:d,className:s?"color-scheme-dark":void 0}))},BootstrapBooleanWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.labelYes,e.labelNo,e.readonly),o=function(e){return r("true"==e.target.value)},l=To(),a=To();return i.createElement(i.Fragment,null,i.createElement(xo.A,null,i.createElement(Po.A,{id:l,value:!0,checked:!!t,disabled:n,color:!0===t?"success":"secondary",onClick:o,size:"sm"},i.createElement(jo.g,{icon:Fo.e68})),i.createElement(Po.A,{id:a,value:!1,checked:!t,disabled:n,color:!1===t?"danger":"secondary",onClick:o,size:"sm"},i.createElement(jo.g,{icon:Fo.GRI}))))},BootstrapMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,o=(e.allowCustomValues,e.placeholder),l=e.readonly,u="dark"===e.config.settings.themeMode,c=(0,i.useState)(!1),s=(0,a.A)(c,2),d=s[0],p=s[1],f=(0,i.useState)(null!=r?r:[]),m=(0,a.A)(f,2),v=m[0],g=m[1],h=function(e){var r=b(e.target.value,t);0==r.length&&(r=void 0),n(r)},b=function(e,t){if(!e)return v;var r=[];return v.includes(e)?(r=v.filter((function(t){return t!==e})),g(r)):(r=[].concat((0,Ee.A)(v),[e]),g(r)),r};return i.createElement(Ao.A,{isOpen:!l&&d,onClick:function(){return p(!d)},disabled:l,toggle:function(){return p(!d)}},i.createElement(Eo.A,{tag:u?void 0:"button",caret:u,className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:u?"dark":"transparent",disabled:l},v.length?function(e){if(!l&&!e.length)return o;var r=Ro(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")}(v):i.createElement("span",null," ")),i.createElement(Oo.A,{container:"body",style:{},dark:u},Ro(t,(function(e){var t=e.title,r=e.value;return i.createElement(yo.A,{key:r,onClick:h,value:r,active:v.some((function(e){return e===r}))},t)}))))},BootstrapFieldSelect:function(e){var t,r=e.items,n=e.setField,o=e.selectedKey,l=e.readonly,u=e.placeholder,c=e.errorText,s="dark"===e.config.settings.themeMode,d=(0,i.useState)(!1),p=(0,a.A)(d,2),f=p[0],m=p[1],v=function(e){void 0!==e.target.value&&n(e.target.value)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(e).map((function(n){var l=e[n],a=l.items,u=l.path,c=l.label,s=l.disabled,d=l.matchesType,p=r>0?"  ".repeat(r):"",f=r>1?"  ".repeat(r-1):"";if(a)return i.createElement("div",{key:"dropdown-itemGroup-".concat(u)},i.createElement(yo.A,{header:!0,key:"".concat(u,"-header"),onClick:v,value:u},p+c),g(a,!0,r+1));var m=d?i.createElement("b",null,f+c):f+c;return i.createElement(yo.A,{disabled:s,key:u,onClick:v,value:u,className:t?"px-4":void 0,active:o==u},m)}))},h=null!=o;return i.createElement(Ao.A,{isOpen:!l&&f,onClick:function(){return m(!f)},disabled:l,toggle:function(){return m(!f)}},i.createElement(Eo.A,{tag:s?void 0:"button",caret:s,className:"form-select",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:s?"dark":"transparent",disabled:l},h?function(e,t){var r;if(!l&&!t)return u;var n=function(e){for(var r in e){var o=e[r];if(o.path===t)return o;if(o.items){var l=n(o.items);if(l)return l}}};return(null===(r=n(e))||void 0===r?void 0:r.label)||t}(r,o):(t=u||c||"&nbsp;",c?i.createElement("span",{style:{color:"red"}},t):i.createElement("span",null,t))),i.createElement(Oo.A,{container:"body",style:{overflowY:"auto",maxHeight:"400px"},dark:s},!h&&i.createElement(yo.A,{key:"body",disabled:!0,value:""}),g(r)))},BootstrapIcon:function(e){var t=e.type,r=Do[t]&&i.createElement(jo.g,{icon:Do[t]})||null;return r||"drag"!==t||(r=i.createElement(Wo,null)),r},BootstrapButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.renderIcon,l=e.readonly,a=e.config,u=(null==o?void 0:o({type:t,readonly:l,config:a}))||null,c=Vo[t]||!r;return n?i.createElement(Po.A,{size:"sm",color:Lo[t],onClick:n},u,!c&&r):u},BootstrapButtonGroup:function(e){var t=e.children;return e.config,i.createElement(xo.A,null,t)},BootstrapConjs:function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,l=e.setConjunction,a=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(o).length,f=a,m=c.settings.forceShowConj||p>1&&!f,v=function(e){return l(e)};return i.createElement(xo.A,{size:"sm",disabled:u},s&&(u&&!r?null:i.createElement(Po.A,{key:t,id:t+"__not",size:"sm",color:r?"danger":"secondary",onClick:function(e){return n(e)}.bind(null,!r),disabled:u},d||"NOT")),m&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n=(t.name,t.label),c=t.checked,s=l.isDummyFn?"__dummy":"";return!u&&!a||c?i.createElement(Po.A,{key:r+s,id:r+s,size:"sm",color:c?"primary":"secondary",value:e,onClick:v.bind(null,e),disabled:u||a},n):null})))},BootstrapValueSources:function(e){var t=e.config,r=e.valueSources,n=e.valueSrc,o=(e.title,e.setValueSrc),l=e.readonly,u="dark"===t.settings.themeMode,c=(0,i.useState)(!1),s=(0,a.A)(c,2),d=s[0],p=s[1],f=function(e){void 0!==e.target.value&&o(e.target.value)};return i.createElement(Ao.A,{isOpen:d,onClick:function(){return p(!d)},disabled:l,toggle:function(){return p(!d)}},i.createElement(Eo.A,{tag:"span",className:"btn",style:{lineHeight:"105%",minHeight:"1.7rem",paddingBottom:"0.45rem"},color:u?"dark":"transparent",disabled:l},i.createElement(jo.g,{icon:Fo.vaG})),i.createElement(Oo.A,{container:"body",style:{},dark:u},function(e){return e.map((function(e){var t=(0,a.A)(e,2),r=t[0],o=t[1];return i.createElement(yo.A,{key:r,onClick:f,value:r,active:n==r},o.label||r)}))}(r)))},BootstrapConfirm:function(e){var t=e.confirmFn,r=(0,he.A)(e,Io);null==t||t(r)},BootstrapUseConfirm:function(){var e=function(){var e=(0,i.useContext)(No);if(!e)throw new Error("useBootstrapConfirm must be used within a BootstrapConfirmProvider");return e}(),t=e.showModal,r=e.closeModal;return function(e){var n=e.title,o=e.okText,l=e.cancelText,a=e.onOk,u=function(){r(),null==a||a()},c=function(){r()};t((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).modalOpened;return i.createElement(qo.A,{isOpen:void 0===e||e,toggle:r},i.createElement(Bo.A,null,n),i.createElement(Mo.A,null,i.createElement(Po.A,{color:"danger",onClick:u},o),i.createElement(Po.A,{color:"secondary",onClick:c},l)))}}))}},BootstrapProvider:function(e){var t=e.config,r=e.children;return i.createElement(_o,null,i.createElement(Ho,{config:t},r))}};function Ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qo=Jo(Jo({},u.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.BootstrapFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.BootstrapConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.BootstrapButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.BootstrapIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.BootstrapButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.BootstrapValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.BootstrapProvider,e)},renderConfirm:function(e,t){return(0,t.W.BootstrapConfirm)(e)},useConfirm:function(e){return(0,e.W.BootstrapUseConfirm)()}}),Zo=Jo(Jo({},u.d$.widgets),{},{text:Jo(Jo({},u.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextWidget,e)}}),textarea:Jo(Jo({},u.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTextAreaWidget,e)}}),number:Jo(Jo({},u.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapNumberWidget,e)}}),price:Jo(Jo({},u.d$.widgets.price),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapPriceWidget,e)}}),multiselect:Jo(Jo({},u.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapMultiSelectWidget,e)}}),select:Jo(Jo({},u.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSelectWidget,e)}}),slider:Jo(Jo({},u.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapSliderWidget,e)}}),boolean:Jo(Jo({},u.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapBooleanWidget,e)}}),date:Jo(Jo({},u.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateWidget,e)}}),time:Jo(Jo({},u.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapTimeWidget,e)}}),datetime:Jo(Jo({},u.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.BootstrapDateTimeWidget,e)}})}),Xo=Jo({},u.d$.types),el=Jo(Jo({},u.d$.ctx),{},{W:Jo(Jo({},u.d$.ctx.W),Yo),generateCssVars:Go});const tl=Jo(Jo({},u.d$),{},{ctx:el,types:Xo,widgets:Zo,settings:Qo});var rl=r(506);function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ll=u.Aq.ColorUtils,al=(ll.setColorOpacity,ll.generateCssVarsForLevels),il=ll.chroma,ul=ll.isDarkColor,cl=u.Aq.OtherUtils,sl=(cl.logger,cl.isTruthy),dl={palette:{neutralLighterAlt:"#282828",neutralLighter:"#313131",neutralLight:"#3f3f3f",neutralQuaternaryAlt:"#484848",neutralQuaternary:"#4f4f4f",neutralTertiaryAlt:"#6d6d6d",neutralTertiary:"#c8c8c8",neutralSecondary:"#d0d0d0",neutralPrimaryAlt:"#dadada",neutralPrimary:"#ffffff",neutralDark:"#f4f4f4",black:"#f8f8f8",white:"#1f1f1f",themePrimary:"#3a96dd",themeLighterAlt:"#020609",themeLighter:"#091823",themeLight:"#112d43",themeTertiary:"#235a85",themeSecondary:"#3385c3",themeDarkAlt:"#4ba0e1",themeDark:"#65aee6",themeDarker:"#8ac2ec",accent:"#3a96dd"}},pl=function(e,t){var r,n,o,l,a,i,u=e.fonts,c=e.effects,s=e.semanticColors,d=null!==(r=null!==(n=ul(s.bodyBackground))&&void 0!==n?n:ul(s.inputBackground))&&void 0!==r&&r,p=null!==(o=null===(l=t.settings.designSettings)||void 0===l?void 0:l.useThickLeftBorderOnHoverItem)&&void 0!==o&&o,f=null!==(a=null===(i=t.settings.designSettings)||void 0===i?void 0:i.useShadowOnHoverItem)&&void 0!==a&&a,m=ol(ol(ol(ol(ol(ol({"--main-background":s.bodyBackground,"--rule-background":s.cardStandoutBackground},al(d,"--group-background",s.defaultStateBackground)),al(d,"--rulegroup-background",s.defaultStateBackground)),al(d,"--rulegroupext-background",s.defaultStateBackground)),al(d,"--switch-background",s.defaultStateBackground)),al(d,"--case-background",s.defaultStateBackground)),{},{"--rule-border-color":s.variantBorder,"--group-border-color":il(s.inputBorder).alpha(.3).hex(),"--rulegroup-border-color":s.disabledBorder,"--rulegroupext-border-color":s.disabledBorder,"--switch-border-color":s.disabledBorder,"--case-border-color":s.buttonBorder,"--treeline-color":s.accentButtonBackground,"--treeline-switch-color":s.inputBackgroundCheckedHovered,"--main-text-color":s.bodyText,"--main-font-family":u.medium.fontFamily,"--main-font-size":u.medium.fontSize,"--item-radius":c.roundedCorner2});return f&&(m=ol(ol({},m),{},{"--rule-shadow-hover":c.elevation4,"--group-shadow-hover":c.elevation4,"--rulegroup-shadow-hover":c.elevation4,"--rulegroupext-shadow-hover":c.elevation4})),p&&(m=ol(ol({},m),{},{"--rule-border-left-width-hover":"2px","--group-border-left-width-hover":"2px","--rulegroup-border-left-width-hover":"2px","--rulegroupext-border-left-width-hover":"2px"})),m},fl=r(20795),ml=r(51671);var vl=r(67656),gl=u.Aq.moment,hl=r(72430),bl=u.Aq.moment,yl=u.Aq.moment,Al=r(70046),El=r(60455),Ol=r(1453),wl=["options","customProps","searchProps"],Cl=["searchProps"];function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xl=function(e){var t=e.options,r=e.customProps,n=e.searchProps,l=(0,he.A)(e,wl),u=null!=r?r:{},c=u.searchProps,s=(0,he.A)(u,Cl),d=(0,i.useState)(""),p=(0,a.A)(d,2),f=p[0],m=p[1],v=(0,i.useCallback)((function(e,t){return m(t)}),[m]),g=(0,i.useCallback)((function(e){return e.itemType===El.W.Header&&"FilterHeader"===e.key?i.createElement(Ol.G,(0,o.A)({onChange:v,underlined:!0,placeholder:null==n?void 0:n.placeholder},null!=c?c:{})):i.createElement(i.Fragment,null,e.text)}),[Ol.G,v,c,n]),h=(0,i.useCallback)((function(){return m("")}),[m]),b=(0,i.useMemo)((function(){return[{key:"FilterHeader",text:"-",itemType:El.W.Header},{key:"divider_filterHeader",text:"-",itemType:El.W.Divider}].concat((0,Ee.A)(t.map((function(e){return!e.disabled&&e.text.toLowerCase().indexOf(f.toLowerCase())>-1?e:kl(kl({},e),{},{hidden:!0})}))))}),[t,f]);return i.createElement(Al.m,(0,o.A)({options:b,calloutProps:{shouldRestoreFocus:!1,setInitialFocus:!1},onRenderOption:g,onDismiss:h},l,s))};function Pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fl=u.Aq.ListUtils.mapListValues;var Tl=u.Aq.NumberFormat,Rl=Tl.NumericFormat,Wl=Tl.getNumberFormatProps;var Dl=r(85936),Vl=["width"],Ll=r(11977);function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ml=u.Aq.ListUtils.mapListValues;function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Nl=r(14819),_l=u.Aq.DragIcon,Ul={addSubRuleSimple:"CirclePlus",addSubRule:"Add",addSubGroup:"CirclePlus",addRule:"Add",addGroup:"CirclePlus",delGroup:"Delete",delRuleGroup:"Delete",delRule:"Delete",drag:"GripperBarHorizontal"};var zl=r(82296),$l=r(75521),Gl=r(45138),Hl=r(48713),Yl={addSubRuleSimple:!0,delRuleGroup:!0,delRule:!0},Kl={addSubRuleSimple:!0};var Jl=r(22162);var Ql=r(64497),Zl=r(59032),Xl=r(95817),ea=r(88013),ta=["confirmFn"],ra=(0,i.createContext)({showModal:function(){},closeModal:function(){}}),na=function(e){var t=e.children,r=i.useState(null),n=(0,a.A)(r,2),o=n[0],l=n[1],u=i.useState(!1),c=(0,a.A)(u,2),s=c[0],d=c[1];return i.createElement(ra.Provider,{value:{showModal:function(e){d(!0),l(e)},closeModal:function(){d(!1),setTimeout((function(){l(null)}),300)}}},t,o&&i.createElement(o,{modalOpened:s}))},oa=r(28979),la=function(e){var t,r,n=e.children,o=e.config,l=i.createRef(),a=null!==(t=o.settings.themeMode)&&void 0!==t?t:"light",u=!!o.settings.compactMode,c=o.settings.liteMode,s=!(null===(r=o.settings.designSettings)||void 0===r||!r.generateCssVarsFromThemeLibrary),d=(0,Jl.D)();return i.useEffect((function(){var e=l.current,t={};if(s){var r,n,a=null!==(r=null===(n=o.settings.designSettings)||void 0===n||null===(n=n.generateCssVars)||void 0===n?void 0:n.fluent)&&void 0!==r?r:pl;for(var i in t=a.call(o.ctx,d,o))null!=t[i]&&(null==e||e.style.setProperty(i,t[i]))}return function(){for(var r in t)null==e||e.style.removeProperty(r)}}),[a,l,d,o,s]),i.createElement("div",{ref:l,className:"qb-fluent qb-".concat(a," ").concat(u?"qb-compact":""," ").concat(c?"qb-lite":"")},n)};(0,fl.v)();const aa={FluentUITextWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,o=e.placeholder,l=e.maxLength,a=t||"";return i.createElement(ml.A,{value:a,placeholder:o,readOnly:n,disabled:n,onChange:function(e,t){""===t&&(t=void 0),r(t)},maxLength:l})},FluentUITextAreaWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.readonly),l=e.placeholder,a=e.maxLength,u=e.maxRows,c=(e.fullWidth,e.customProps),s=t||"";return i.createElement(ml.A,(0,o.A)({readOnly:n,multiline:!0,rows:u,maxLength:a,placeholder:l,value:s,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}},c))},FluentUIDateWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat),l=e.dateFormat,a=e.readonly,u=e.customProps,c=e.placeholder,s=t?gl(t,n):void 0,d=s?s.toDate():void 0;return i.createElement(vl.l,(0,o.A)({disabled:a,value:d,onSelectDate:function(e){(""==e||e instanceof Date&&isNaN(e))&&(e=void 0);var t=e?gl(e).format(n):void 0;r(t)},style:{marginRight:"0.25rem",width:"150px"},placeholder:c,formatDate:function(e){return gl(e).format(l)}},u))},FluentUIDateTimeWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat),o=e.dateFormat,l=(e.timeFormat,e.use12Hours),u=e.readonly,c=(e.customProps,t?bl(t,n):void 0),s=c?c.toDate():void 0,d=(0,i.useState)(s),p=(0,a.A)(d,2),f=p[0],m=p[1],v=-1!=n.indexOf(":ss");return i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement(vl.l,{disabled:u,value:s,formatDate:function(e){return bl(e).format(o)},onSelectDate:function(e){var t;if((""==e||e instanceof Date&&isNaN(e))&&(e=void 0),e){var o=bl(e);if(f){var l=bl(f);o.set("hour",l.get("hour")),o.set("minute",l.get("minute")),o.set("second",l.get("second"))}t=o.format(n)}t&&r(t)},style:{width:"150px"}}),i.createElement(hl.A,{useHour12:l,value:f,showSeconds:v,disabled:u,onChange:function(e,t){var o;(""==t||t instanceof Date&&isNaN(t))&&(t=void 0),m(t);var l=t?bl(t):void 0;if(c){var a=bl(c);l&&(a.set("hour",l.get("hour")),a.set("minute",l.get("minute")),a.set("second",l.get("second"))),o=a.format(n)}o&&r(o)},useComboBoxAsMenuWidth:!0,style:{marginRight:"5px"}}))},FluentUITimeWidget:function(e){var t=e.value,r=e.setValue,n=(e.config,e.valueFormat),l=e.use12Hours,a=e.readonly,u=e.customProps,c=t?yl(t,n):void 0,s=c?c.toDate():void 0,d=-1!=n.indexOf(":ss");return i.createElement(hl.A,(0,o.A)({styles:{optionsContainerWrapper:{height:"500px"}},useHour12:l,onChange:function(e,t){(""==t||t instanceof Date&&isNaN(t))&&(t=void 0);var o=t?yl(t).format(n):void 0;r(o)},disabled:a,allowFreeform:!0,showSeconds:d,value:s,useComboBoxAsMenuWidth:!0},u))},FluentUISelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,l=(e.allowCustomValues,e.readonly),a=e.customProps,u=e.placeholder,c=e.searchPlaceholder,s=e.showSearch,d=(0,i.useCallback)((function(e,t){void 0!==t.key&&n(t.key.toString())}),[n]),p=s?xl:Al.m,f=(0,i.useMemo)((function(){return{placeholder:c}}),[c]),m=jl(jl({},null!=a?a:{}),s?{searchProps:f}:{});return i.createElement(p,(0,o.A)({placeholder:u||"Select option",options:function(e){var t=[];return Fl(e,(function(e){var r=e.title,n=e.value;t.push({key:n,text:r})})),t}(t),selectedKey:r,onChange:d,dropdownWidth:"auto",disabled:l},m))},FluentUINumberWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,o=e.min,l=e.max,a=e.step,u=e.placeholder;return i.createElement(ml.A,{type:"number",value:t,placeholder:u,readOnly:n,disabled:n,min:o,max:l,step:a,onChange:function(e,t){var n;n=""===t||null==t?void 0:Number.isInteger(a)?parseInt(t):parseFloat(t),r(n)}})},FluentUIPriceWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,l=e.placeholder,a=e.min,u=e.max,c=e.customProps,s=e.prefix,d=e.suffix,p=Wl(e,["prefix","suffix"]),f=null==t?"":t,m=null!=t&&(null==u||t<=u)&&(null==a||t>=a);return i.createElement(Rl,(0,o.A)({value:f,invalid:null!=t&&!m,readOnly:n,placeholder:l,customInput:ml.A,onValueChange:function(e){var t=e.floatValue;r(void 0===t?null:t)},prefix:s,suffix:d},c,p))},FluentUISliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,l=e.value,a=e.setValue,u=e.min,c=e.max,s=e.step,d=e.marks,p=e.readonly,f=t.settings.defaultSliderWidth,m=n||{},v=m.width,g=(0,he.A)(m,Vl),h=g.input||{},b=g.slider||g,y=i.createElement(ml.A,(0,o.A)({type:"number",style:{width:"auto"},value:l,min:u,max:c,step:s,placeholder:r,disabled:p,onChange:function(e,t){t=""===t||null===t?void 0:Number(t),a(t)}},h)),A=i.createElement(Dl.A,(0,o.A)({min:u,max:c,step:s,value:l,disabled:p,marks:d,showValue:!1,onChange:function(e){e=""===e||null===e?void 0:Number(e),a(e)}},b)),E={width:v||f};return i.createElement("div",{style:{display:"flex",flexDirection:"row"}},y,i.createElement("div",{style:E},A))},FluentUIBooleanWidget:function(e){var t=e.value,r=e.setValue,n=e.labelYes,o=e.labelNo,l=e.readonly,a="string"==typeof n?n:"Yes",u="string"==typeof o?o:"No";return i.createElement(Ll.l,{disabled:l,onText:a,offText:u,onChange:function(){return r(!t)}})},FluentUIMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue,l=e.readonly,a=e.placeholder,u=e.searchPlaceholder,c=e.showSearch,s=e.customProps,d=(0,i.useCallback)((function(e,t){if(t){var o=null!=r?r:[],l=t.selected?[].concat((0,Ee.A)(o),[t.key]):o.filter((function(e){return e!==t.key}));n(l)}}),[r,n]),p=c?xl:Al.m,f=(0,i.useMemo)((function(){return{placeholder:u}}),[u]),m=Bl(Bl({},null!=s?s:{}),c?{searchProps:f}:{});return i.createElement(p,(0,o.A)({placeholder:a||"Select options",selectedKeys:r,onChange:d,multiSelect:!0,options:Ml(t,(function(e){var t=e.title;return{key:e.value,text:t}})),disabled:l},m))},FluentUIFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.placeholder,l=e.errorText;return i.createElement(Al.m,{placeholder:o,options:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],o=0;return Object.keys(t).map((function(l){var a={},u=t[l],c="  ".repeat(r),s=u.items,d=u.path,p=u.label,f=u.disabled;if(s){a.key=d,a.title=p,a.text=c+p,a.itemType=El.W.Header;var m=e(s,r+1);n.push(a);var v,g=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Il(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Il(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw l}}}}(m);try{for(g.s();!(v=g.n()).done;){var h=v.value;n.push(h)}}catch(e){g.e(e)}finally{g.f()}n.push({key:"divider_"+o.toString(),text:"-",title:"",itemType:El.W.Divider}),o+=1}else{var b=u.matchesType?i.createElement("b",null,c+p):c+p;a.key=d,a.title=p,a.text=b,a.disabled=f,n.push(a)}})),n}(t),selectedKey:n,onChange:function(e,t){void 0!==t.key&&r(t.key.toString())},onRenderTitle:function(e){var t=e[0];return i.createElement("div",null,i.createElement("span",null,t.title))},dropdownWidth:"auto",styles:{title:{color:l?"red":null}}})},FluentUIIcon:function(e){var t=e.type,r=e.readonly,n=e.renderBtn,o=e.renderDefaultButton;return Ul[t]||"drag"!==t?Ul[t]?n?n({iconProps:{iconName:Ul[t]}}):i.createElement(Nl.I,{key:t,disabled:r,iconName:Ul[t],color:"primary"}):o({}):i.createElement(_l,null)},FluentUIButton:function(e){var t=e.type,r=e.label,n=e.onClick,l=e.readonly,a=e.renderIcon,u=e.config;return null==a?void 0:a({type:t,readonly:l,config:u,renderBtn:!r||Yl[t]?function(e){return i.createElement(zl.K,(0,o.A)({key:t,onClick:n,disabled:l,color:"primary"},e))}:Kl[t]?function(e){return i.createElement($l.r,(0,o.A)({key:t,onClick:n,disabled:l,text:r},e))}:function(e){return i.createElement(Gl.z,(0,o.A)({key:t,onClick:n,disabled:l,text:r,color:"primary",styles:{root:{backgroundColor:"transparent"}}},e))},renderDefaultButton:function(e){return i.createElement(Hl.Y,(0,o.A)({key:t,onClick:n,disabled:l,text:r,color:"primary"},e))}})},FluentUIButtonGroup:function(e){var t=e.children;return e.config,i.createElement(i.Fragment,null,t)},FluentUIConjs:function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,l=e.setConjunction,a=e.disabled,u=e.readonly,c=e.config,s=e.showNot,d=e.notLabel,p=Object.keys(o).length,f=a,m=c.settings.forceShowConj||p>1&&!f,v=(0,Jl.D)(),g="dark"===c.settings.themeMode,h={backgroundColor:r?g?v.palette.redDark:"#fed9cc":void 0},b=function(e){return l(e)};return i.createElement(i.Fragment,null,s&&(u&&!r?null:i.createElement(Hl.Y,{toggle:n,checked:r,key:t,id:t+"__not",onClick:function(e){return n(e)}.bind(null,!r),disabled:u,text:d||"NOT",style:h})),m&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n=(t.name,t.label),c=t.checked,s=l.isDummyFn?"__dummy":"";return!u&&!a||c?i.createElement(Hl.Y,{toggle:l,checked:c,primary:c,key:r+s,id:r+s,value:e,onClick:b.bind(null,e),disabled:u||a,text:n}):null})))},FluentUIValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc,n=(e.title,e.setValueSrc),o=(e.readonly,function(e,t){null!=t&&t.key&&n(t.key)});return i.createElement(zl.K,{menuProps:function(e){var t=[];return e.map((function(e){var n=(0,a.A)(e,2),o=n[0],l=n[1];return t.push({key:o,text:l.label,checked:r==o||!r&&"value"==o,canCheck:!0})})),{onItemClick:o,items:t}}(t),text:"here",title:"ValueSource",onChange:o,iconProps:{iconName:"ChevronRight"},onRenderMenuIcon:function(){return i.createElement("div",null)}})},FluentUIConfirm:function(e){var t=e.confirmFn,r=(0,he.A)(e,ta);null==t||t(r)},FluentUIUseConfirm:function(){var e=function(){var e=(0,i.useContext)(ra);if(!e)throw new Error("useFluentUIConfirm must be used within a FluentUIConfirmProvider");return e}(),t=e.showModal,r=e.closeModal;return function(e){var n=e.title,o=e.okText,l=e.cancelText,a=e.onOk,u=function(){r(),null==a||a()},c=function(){r()};t((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).modalOpened;return i.createElement(Ql.l,{hidden:void 0!==e&&!e,onDismiss:c,dialogContentProps:{type:Zl.h.normal,title:null!=n?n:"Are you sure?",styles:{title:{fontSize:"1.5rem"},inner:{paddingBottom:0,marginTop:"20px"}}}},i.createElement(Xl.E,null,i.createElement(ea.j,{onClick:u,text:o}),i.createElement(Hl.Y,{onClick:c,text:l})))}}))}},FluentUIProvider:function(e){var t,r=e.config,n=e.children,o=(0,Jl.D)(),l=function(e,t){var r,n=e.settings.themeMode,o="dark"===n,l=null===(r=e.settings.theme)||void 0===r?void 0:r.fluent,a=function(e){if(e)return ul(e.semanticColors.inputBackground)?"dark":"light"}(t);if(l||o){var i,u="dark"===n?dl:void 0;return[t?ol({},$()(t,["id"])):void 0,u&&a&&a!=n?ol(ol({},i=u),{},{palette:ol({},$()(i.palette,["themePrimary","themeSecondary","themeTertiary","themeLighterAlt","themeLighter","themeLight","themeDarkAlt","themeDark","themeDarker"]))}):void 0,l].filter(sl).reduce((function(e,t){return e?(0,rl.z)(e,t):t}),void 0)}}(r,null!==(t=r.settings.designSettings)&&void 0!==t&&t.canInheritThemeFromOuterProvider?o:void 0),a=i.createElement(na,null,i.createElement(la,{config:r},n));return l?i.createElement(oa.N,{theme:l},a):a}};function ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ca=ua(ua({},u.d$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.FluentUIFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.FluentUIConjs,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.FluentUIButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.FluentUIIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.FluentUIButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.FluentUIValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.FluentUIProvider,e)},renderConfirm:function(e,t){return(0,t.W.FluentUIConfirm)(e)},useConfirm:function(e){return(0,e.W.FluentUIUseConfirm)()}}),sa=ua(ua({},u.d$.widgets),{},{text:ua(ua({},u.d$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextWidget,e)}}),textarea:ua(ua({},u.d$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITextAreaWidget,e)}}),number:ua(ua({},u.d$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUINumberWidget,e)}}),price:ua(ua({},u.d$.widgets.price),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIPriceWidget,e)}}),multiselect:ua(ua({},u.d$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIMultiSelectWidget,e)}}),select:ua(ua({},u.d$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISelectWidget,e)}}),slider:ua(ua({},u.d$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUISliderWidget,e)}}),boolean:ua(ua({},u.d$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIBooleanWidget,e)}}),date:ua(ua({},u.d$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateWidget,e)}}),time:ua(ua({},u.d$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUITimeWidget,e)}}),datetime:ua(ua({},u.d$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.FluentUIDateTimeWidget,e)}})}),da=ua({},u.d$.types),pa=ua(ua({},u.d$.ctx),{},{W:ua(ua({},u.d$.ctx.W),aa),generateCssVars:pl});const fa=ua(ua({},u.d$),{},{ctx:pa,types:da,widgets:sa,settings:ca});var ma={vanilla:u.d$,antd:Fr,material:go,mui:Tr.WQ,bootstrap:tl,fluent:fa},va=function(e){var t=e.skin,r=v[t];return i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null,"loading styles for ",t)},i.createElement(r,null))},ga=r(34695),ha=r(8305),ba=r(89601);function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ea=u.Aq.Autocomplete.simulateAsyncFetch;const Oa=function(e){var t=ma[e],r=Ea([{title:"A",value:"a"},{title:"AA",value:"aa"},{title:"AAA1",value:"aaa1"},{title:"AAA2",value:"aaa2"},{title:"B",value:"b"},{title:"C",value:"c"},{title:"D",value:"d"},{title:"E",value:"e"},{title:"F",value:"f"},{title:"G",value:"g"},{title:"H",value:"h"},{title:"I",value:"i"},{title:"J",value:"j"}],3),n=Aa({},t.conjunctions),o=Aa(Aa({},t.operators.proximity),{},{valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],options:Aa(Aa({},t.operators.proximity.options),{},{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2},customProps:{}})}),l=Aa(Aa({},t.operators),{},{proximity:o,between:Aa(Aa({},t.operators.between),{},{valueLabels:["Value from","Value to"],textSeparators:["from","to"]})}),a=Aa(Aa({},t.widgets),{},{text:Aa({},t.widgets.text),textarea:Aa(Aa({},t.widgets.textarea),{},{maxRows:3}),slider:Aa({},t.widgets.slider),price:Aa({},t.widgets.price),rangeslider:Aa({},t.widgets.rangeslider),date:Aa(Aa({},t.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:Aa(Aa({},t.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:Aa(Aa({},t.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:Aa(Aa({},t.widgets.func),{},{customProps:{showSearch:!0}}),select:Aa({},t.widgets.select),multiselect:Aa(Aa({},t.widgets.multiselect),{},{customProps:{width:"200px",input:{width:"100px"}}}),treeselect:Aa(Aa({},t.widgets.treeselect),{},{customProps:{showSearch:!0}})}),c=Aa(Aa({},t.types),{},{text:Aa(Aa({},t.types.text),{},{excludeOperators:["proximity"]}),boolean:p()({},t.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"},opProps:{equal:{label:"is"},not_equal:{label:"is not"}}}}})}),s={locale:{moment:"ru",antd:ga.A,material:ha.Fc,mui:ba.Fc},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:void 0,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",addSubGroupLabel:"Add sub group",delGroupLabel:void 0,notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger",cancelText:"Cancel"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger",cancelText:"Cancel"},loadMoreLabel:"Load more...",loadingMoreLabel:"Loading more...",typeToSearchLabel:"Type to search",loadingLabel:"Loading...",notFoundLabel:"Not found"},d=Aa(Aa(Aa({},t.settings),s),{},{theme:{},designSettings:Aa(Aa({},t.settings.designSettings),{},{useThickLeftBorderOnHoverItem:!0,useShadowOnHoverItem:!1,generateCssVarsFromThemeLibrary:!0,generateCssVars:{mui:function(e,t){var r,n,o;return Aa(Aa({},null!==(r=null===(n=(o=t.ctx).generateCssVars)||void 0===n?void 0:n.call(o,e,t))&&void 0!==r?r:{}),{},{"--item-offset":"8px"})}}}),defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},fieldSources:["field","func"],keepInputOnChangeFieldSrc:!0,reverseOperatorsForNot:!0,canShortMongoQuery:!0,fixJsonLogicDateCompareOp:!0,exportPreserveGroups:!1,maxNesting:5,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,showErrorMessage:!0,removeEmptyGroupsOnLoad:!1,removeEmptyRulesOnLoad:!1,removeIncompleteRulesOnLoad:!1,customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},caseValueField:{type:"number",fieldSettings:{min:0,max:10},valueSources:["value","field","func"]}}),f={user:{label:"User",tooltip:"Group of fields",type:"!struct",subfields:{firstName:{label2:"Username",type:"text",fieldSettings:{validateValue:function(e,t){return e.length<10}},mainWidgetProps:{valueLabel:"Name",valuePlaceholder:"Enter name"}},login:{type:"text",tableName:"t1",fieldSettings:{validateValue:function(e,t){return e.length<10&&(""===e||null!==e.match(/^[A-Za-z0-9_-]+$/))}},mainWidgetProps:{valueLabel:"Login",valuePlaceholder:"Enter login"}}}},bio:{label:"Bio",type:"text",preferWidgets:["textarea"],fieldSettings:{maxLength:1e3}},results:{label:"Results (group)",type:"!group",subfields:{product:{type:"select",fieldSettings:{listValues:["abc","def","xyz"]},valueSources:["value"]},score:{type:"number",fieldSettings:{min:0,max:100},valueSources:["value"]},interviewer:{type:"!group",mode:"struct",subfields:{level:{type:"select",fieldSettings:{listValues:["jun","mid","sen"]},valueSources:["value"]}}},questions:{type:"!group",mode:"array",conjunctions:["AND","OR"],showNot:!1,initialEmptyWhere:!0,defaultOperator:"equal",subfields:{answered:{type:"boolean",valueSources:["value"]}}}}},cars:{label:"Cars (list)",type:"!group",mode:"array",conjunctions:["AND","OR"],showNot:!1,operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","some","all","none"],defaultOperator:"some",initialEmptyWhere:!0,fieldSettings:{validateValue:function(e){return e<10?null:{error:"Too many cars, see validateValue()",fixedValue:9}}},subfields:{vendor:{type:"select",fieldSettings:{listValues:["Ford","Toyota","Tesla"]},valueSources:["value"]},year:{type:"number",fieldSettings:{min:1990,max:2021},valueSources:["value"]},model:{type:"text",valueSources:["value"]},class:{type:"!group",mode:"struct",subfields:{type:{type:"select",fieldSettings:{listValues:["sedan","hatchback","minivan"]},valueSources:["value"]}}},items:{type:"!group",mode:"array",conjunctions:["AND","OR"],showNot:!1,defaultOperator:"greater_or_equal",initialEmptyWhere:!0,subfields:{color:{type:"select",listValues:[{value:"yellow",title:"Yellow"},{value:"green",title:"Green"},{value:"orange",title:"Orange"}],valueSources:["value"]}}}}},prox1:{label:"prox",tooltip:"Proximity search",type:"text",operators:["proximity"]},num:{label:"Number",type:"number",preferWidgets:["number"],fieldSettings:{min:-1,max:5},funcs:["number.LINEAR_REGRESSION"]},price:{label:"Price",type:"number",preferWidgets:["price"],fieldSettings:{valuePlaceholder:"Enter your Price",thousandSeparator:",",decimalSeparator:".",prefix:"$",decimalScale:3,min:20,max:3e4}},slider:{label:"Slider",type:"number",preferWidgets:["slider","rangeslider"],valueSources:["value","field"],fieldSettings:{min:0,max:100,step:1,marks:{0:i.createElement("strong",null,"0%"),100:i.createElement("strong",null,"100%")},validateValue:function(e,t){return e<50?null:{error:{key:"custom:INVALID_SLIDER_VALUE",args:{val:e}},fixedValue:49}}},widgets:{slider:{widgetProps:{valuePlaceholder:"..Slider"}},rangeslider:{widgetProps:{valueLabels:[{label:"Number from",placeholder:"from"},{label:"Number to",placeholder:"to"}]}}}},date:{label:"Date",type:"date",valueSources:["value","func"],fieldSettings:{dateFormat:"DD-MM-YYYY",validateValue:function(e,t){return Mr()(e,t.valueFormat).year()!=(new Date).getFullYear()?"Please use current year":null}}},time:{label:"Time",type:"time",valueSources:["value"],defaultOperator:"between"},datetime:{label:"DateTime",type:"datetime",valueSources:["value","func"]},datetime2:{label:"DateTime2",type:"datetime",valueSources:["field"]},color:{label:"Color",type:"select",valueSources:["value"],widgets:{select:{widgetProps:{valuePlaceholder:"Select color",searchPlaceholder:"Search color"}},multiselect:{widgetProps:{valuePlaceholder:"Select colors",searchPlaceholder:"Search colors"}}},fieldSettings:{showSearch:!0,listValues:[{value:"yellow",title:"Yellow"},{value:"green",title:"Green"},{value:"orange",title:"Orange"}]}},color2:{label:"Color2",type:"select",fieldSettings:{listValues:{yellow:"Yellow",green:"Green",orange:"Orange",purple:"Purple"}}},multicolor:{label:"Colors",type:"multiselect",fieldSettings:{showSearch:!0,listValues:{yellow:"Yellow",green:"Green",orange:"Orange"},allowCustomValues:!0},mainWidgetProps:{customProps:{tokenSeparators:[","]}}},selecttree:{label:"Color (tree)",type:"treeselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors"},{value:"2",title:"Red",parent:"1"},{value:"3",title:"Orange",parent:"1"},{value:"4",title:"Cool colors"},{value:"5",title:"Green",parent:"4"},{value:"6",title:"Blue",parent:"4"},{value:"7",title:"Sub blue",parent:"6"},{value:"8",title:"Sub sub blue and a long text",parent:"7"}]}},multiselecttree:{label:"Colors (tree)",type:"treemultiselect",fieldSettings:{treeExpandAll:!0,treeValues:[{value:"1",title:"Warm colors",children:[{value:"2",title:"Red"},{value:"3",title:"Orange"}]},{value:"4",title:"Cool colors",children:[{value:"5",title:"Green"},{value:"6",title:"Blue",children:[{value:"7",title:"Sub blue",children:[{value:"8",title:"Sub sub blue and a long text"}]}]}]}]}},autocomplete:{label:"Autocomplete",type:"select",valueSources:["value"],fieldSettings:{asyncFetch:r,useAsyncSearch:!0,fetchSelectedValuesOnInit:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},autocompleteMultiple:{label:"AutocompleteMultiple",type:"multiselect",valueSources:["value"],fieldSettings:{asyncFetch:r,useAsyncSearch:!0,fetchSelectedValuesOnInit:!0,useLoadMore:!0,forceAsyncSearch:!1,allowCustomValues:!1}},stock:{label:"In stock",type:"boolean",defaultValue:!0,mainWidgetProps:{labelYes:"+",labelNo:"-"}}},m={string:{type:"!struct",label:"String",tooltip:"String functions",subfields:{LOWER:p()({},u.uu.LOWER,{tooltip:"Convert to lower case",allowSelfNesting:!0,validateValue:function(e){return e.length<=7?null:{error:"bad len",fixedValue:e.substring(0,7)}},args:{str:{validateValue:function(e){return e.length<=7?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,7)}}}}}),UPPER:p()({},u.uu.UPPER,{tooltip:"Convert to upper case",allowSelfNesting:!0,validateValue:function(e){return e.length<=6?null:{error:"bad len",fixedValue:e.substring(0,6)}},args:{str:{validateValue:function(e){return e.length<=6?null:{error:{key:"custom:BAD_LEN",args:{val:e}},fixedValue:e.substring(0,6)}}}}})}},datetime:{type:"!struct",label:"Datetime",subfields:{NOW:u.uu.NOW,START_OF_TODAY:u.uu.START_OF_TODAY,TRUNCATE_DATETIME:p()({},u.uu.TRUNCATE_DATETIME,{args:{date:{defaultValue:{func:"datetime.NOW",args:[]}}}}),RELATIVE_DATETIME:p()({},u.uu.RELATIVE_DATETIME,{args:{date:{defaultValue:{func:"datetime.NOW",args:[]}}}})}},date:{type:"!struct",label:"Date",subfields:{TODAY:u.uu.TODAY,RELATIVE_DATE:p()({},u.uu.RELATIVE_DATE,{args:{date:{defaultValue:{func:"date.TODAY",args:[]}}}})}},number:{type:"!struct",label:"Math",subfields:{LINEAR_REGRESSION:u.uu.LINEAR_REGRESSION}}};return{ctx:t.ctx,conjunctions:n,operators:l,widgets:a,types:c,settings:d,fields:f,funcs:m}};var wa=function(e,t,r){var n=function(){!function(e,t){var r,n,o,l=[e.get("id")],a=(null===(r=e.get("children1"))||void 0===r?void 0:r.size)||0,i=null===(n=e.get("children1"))||void 0===n?void 0:n.first(),c=null===(o=e.get("children1"))||void 0===o?void 0:o.last(),s=[e.get("id"),null==i?void 0:i.get("id")],d=[e.get("id"),null==c?void 0:c.get("id")];t.setNot(l,!0),t.setConjunction(l,"OR"),a>1&&t.moveItem(s,d,"before"),a&&"rule"===i.get("type")&&(t.setFieldSrc(s,"field"),t.setField(s,"num"),t.setOperator(s,"between"),t.setValueSrc(s,0,"value"),t.setValue(s,0,2,"number"),t.setValue(s,1,4,"number")),a>1&&t.removeRule(d);var p=[e.get("id"),u.Aq.uuid()];t.addRule(l,{id:p[1],field:null,operator:null,value:[]}),t.setFieldSrc(p,"func"),t.setFuncValue(p,-1,[],null,"string.LOWER","string"),t.setFuncValue(p,-1,[],"str","aaa","string"),t.setValueSrc(p,0,"func"),t.setFuncValue(p,0,[],null,"string.LOWER","string"),t.setFuncValue(p,0,[],"str","AAA","string"),t.addRule(l,{field:"user.login",operator:"equal",value:["denis"],valueSrc:["value"],valueType:["text"]}),t.addRule(l,{field:"user.login",operator:"equal",value:["user.firstName"],valueSrc:["field"]}),t.addRule(l,{field:"cars",mode:"array",operator:"all"},"rule_group",[{type:"rule",properties:{field:"cars.year",operator:"equal",value:[2021]}}]),t.addGroup(l,{conjunction:"AND"},[{type:"rule",properties:{field:"slider",operator:"equal",value:[40]}},{type:"group",properties:{conjunction:"AND"},children1:[{type:"rule",properties:{field:"slider",operator:"less",value:[20]}}]}])}(e.tree,r.current.actions)};return{runActions:n,renderRunActions:function(){return i.createElement(i.Fragment,null,e.renderBocks.queryBuilder&&i.createElement("button",{onClick:n},"Run actions"))}}},Ca=u.Aq.uuid,Sa={id:Ca(),type:"group"},ka={id:Ca(),type:"switch_group"},xa={"logic/complex":{and:[{"==":[{var:"user.login"},{toLowerCase:[{var:"user.firstName"}]}]},{"==":[{var:"stock"},!1]},{"==":[{var:"slider"},35]},{some:[{var:"results"},{and:[{"==":[{var:"product"},"abc"]},{">":[{var:"score"},8]}]}]},{">":[{reduce:[{filter:[{var:"cars"},{and:[{"==":[{var:"vendor"},"Toyota"]},{">=":[{var:"year"},2010]}]}]},{"+":[1,{var:"accumulator"}]},0]},2]}]},"logic/simple":{and:[{"==":[{var:"slider"},35]}]},"logic/with_not":{and:[{"!":{and:[{in:["abc3",{var:"user.firstName"}]}]}},{"!":{in:["xyz",{var:"user.firstName"}]}},{"!":{and:[{"<=":[1,{var:"num"},2]}]}},{"!":{"<=":[3,{var:"num"},4]}},{"!":{and:[{in:[{var:"color"},["yellow"]]}]}},{"!":{in:[{var:"color"},["green"]]}},{"!":{and:[{all:[{var:"multicolor"},{in:[{var:""},["yellow"]]}]}]}},{"!":{all:[{var:"multicolor"},{in:[{var:""},["yellow"]]}]}},{"!":{and:[{some:[{var:"multicolor"},{in:[{var:""},["green"]]}]}]}},{"!":{some:[{var:"multicolor"},{in:[{var:""},["green"]]}]}},{"==":[{var:"user.firstName"},null]}]},"logic/with_not_in_some":{and:[{some:[{var:"cars"},{in:[{var:"vendor"},["Ford","Toyota"]]}]},{all:[{var:"cars"},{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]},{all:[{var:"cars"},{"!":{and:[{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]}}]},{some:[{var:"cars"},{"!":{and:[{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}]}}]},{some:[{var:"cars"},{"!":{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}}]},{some:[{var:"cars"},{"!":{"!":{"!":{in:[{var:"vendor"},["Ford","Toyota"]]}}}}]}]},"logic/with_func_in_lhs":{and:[{"!":{in:["Den",{toLowerCase:[{var:"user.firstName"}]}]}},{"!=":[{toLowerCase:[{toUpperCase:[{var:"user.login"}]}]},{toLowerCase:["user"]}]}]},"logic/autocomplete":{and:[{"==":[{var:"autocomplete"},"jjj"]},{"==":[{var:"autocomplete"},"c"]},{all:[{var:"autocompleteMultiple"},{in:[{var:""},["ggg","jjjj","aa","b"]]}]}]},"logic/with_group_some_in_any":{and:[{some:[{var:"cars"},{in:[{var:"vendor"},["Ford"]]}]}]},"logic/with_group_some_in_like":{and:[{some:[{var:"cars"},{in:["toyo",{var:"model"}]}]}]},"logic/switch_with_2_cases":{if:[{"!=":[{var:"slider"},null]},{var:"slider"},{var:"num"}]},"logic/switch_with_default_case_field":{var:"num"},"logic/switch_with_default_case_func":{"+":[{"*":[1,{var:"num"}]},0]},"tree/complex":{type:"group",id:"9a99988a-0123-4456-b89a-b1607f326fd8",children1:[{id:"a98ab9b9-cdef-4012-b456-71607f326fd9",type:"rule",properties:{field:"user.login",operator:"equal",value:[{func:"string.LOWER",args:{str:{valueSrc:"field",value:"user.firstName"}}}],valueSrc:["func"],valueType:["text"],valueError:[null]}},{id:"98a8a9ba-0123-4456-b89a-b16e721c8cd0",type:"rule",properties:{field:"stock",operator:"equal",value:[!1],valueSrc:["value"],valueType:["boolean"],valueError:[null]}},{id:"aabbab8a-cdef-4012-b456-716e85c65e9c",type:"rule",properties:{field:"slider",operator:"equal",value:[35],valueSrc:["value"],valueType:["number"],valueError:[null]}},{id:"aaab8999-cdef-4012-b456-71702cd50090",type:"rule_group",properties:{conjunction:"AND",field:"results"},children1:[{id:"99b8a8a8-89ab-4cde-b012-31702cd5078b",type:"rule",properties:{field:"results.product",operator:"select_equals",value:["abc"],valueSrc:["value"],valueType:["select"],valueError:[null]}},{id:"88b9bb89-4567-489a-bcde-f1702cd53266",type:"rule",properties:{field:"results.score",operator:"greater",value:[8],valueSrc:["value"],valueType:["number"],valueError:[null]}}]},{id:"a99a9b9b-cdef-4012-b456-7175a7d54553",type:"rule_group",properties:{mode:"array",operator:"greater",valueType:["number"],value:[2],valueSrc:["value"],conjunction:"AND",valueError:[null],field:"cars"},children1:[{id:"99a9a9a8-89ab-4cde-b012-3175a7d55374",type:"rule",properties:{field:"cars.vendor",operator:"select_equals",value:["Toyota"],valueSrc:["value"],valueError:[null],valueType:["select"]}},{id:"988bbbab-4567-489a-bcde-f175a7d58793",type:"rule",properties:{field:"cars.year",operator:"greater_or_equal",value:[2010],valueSrc:["value"],valueError:[null],valueType:["number"]}}]}],properties:{conjunction:"AND",not:!1}},"tree/empty":Sa,"tree/empty_switch":ka,"sql/simple":"LOWER(user.firstName) = UPPER('gg') AND (DATE_ADD(NOW(), INTERVAL 2 DAY) > TO_DATE('2024-07-26 00:00:00.000', 'yyyy-mi-dd hh:mm:ss.mmm') OR DATE_SUB(NOW(), INTERVAL 4 MONTH ) > '2024-05-10 00:00:00.000') AND num <> 2 AND bio = 'Long\\nText'"},Pa=r(7262),ja=r(9919),Fa=Pa.Aq.OtherUtils.logger,Ta=[],Ra=["some","all","none"],Wa={single_quote_string:"text",double_quote_string:"text",backticks_quote_string:"text",var_string:"text",natural_string:"text",hex_string:"text",full_hex_string:"text",bit_string:"text",string:"text",regex_string:"text",number:"number",null:"null",bool:"boolean",boolean:"boolean"},Da=function(e,t,r){if(null!=e&&e.children&&["TO_DATE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_UTC_TIMESTAMP_TZ"].includes(e.func)&&e.children.length>=1){var n,o=e.children,l=(0,a.A)(o,2),i=l[0];if(l[1],null!=i&&null!==(n=i.valueType)&&void 0!==n&&n.endsWith("_quote_string")){var u=t,c=this.utils.moment(i.value);return c.isValid()?{value:c.format(null==u?void 0:u.valueFormat)}:{value:null,error:"Invalid date"}}}};function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qa=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var n;if("function"===e.type)n=Ga(e,t,r);else if("binary_expr"===e.type)n=["AND","OR"].includes(e.operator)?Ba(e,t,r):Ia(e,t,r);else if("unary_expr"===e.type)if("NOT"===e.operator){var o=e.expr;(n=qa(o,t,!r))&&(n.parentheses=!0)}else t.errors.push("Unexpected unary operator ".concat(e.operator));else"expr_list"===e.type?n=_a(e,t,r):"case"===e.type?n=Ma(e,t,r):"column_ref"===e.type?n=$a(e,t,r):"interval"===e.type?n=Ua(e,t,r):void 0!==e.value?n=za(e,t,r):t.errors.push("Unexpected logic type ".concat(e.type));return n}},Ba=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.parentheses,o=e.operator,l=[qa(e.left,t),qa(e.right,t)].filter((function(e){return!!e})).reduce((function(e,t){var r,n=(null==t?void 0:t.conj)!==o||t.parentheses||t.not?[t]:null!==(r=t.children)&&void 0!==r?r:[];return[].concat((0,Ee.A)(e),(0,Ee.A)(n))}),[]);return{parentheses:n,not:r,conj:o,children:l}},Ma=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{parentheses:e.parentheses,children:e.args.map((function(e){return["when","else"].includes(e.type)||t.errors.push("Unexpected type ".concat(e.type," inside CASE")),{cond:"when"===e.type?qa(e.cond,t):void 0,result:qa(e.result,t)}})).filter((function(e){return!!e})),_type:"case",not:r}},Ia=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.parentheses,l=e.operator,a=[qa(e.left,t),qa(e.right,t)].filter((function(e){return!!e}));return"BETWEEN"!==l&&"NOT BETWEEN"!==l||(a=[a[0]].concat((0,Ee.A)(null!==(r=a[1].children)&&void 0!==r?r:[])).filter((function(e){return!!e}))),{parentheses:o,not:n,children:a,operator:l}},Na=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.value;return"boolean"===e.type&&r&&(n=!n),n},_a=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.value.map((function(e){return qa(e,t,!1)})).filter((function(e){return!!e})),l=o.map((function(e){return e.valueType})).filter((function(e){return!!e})),a=Array.from(new Set(l)),i=l.length===o.length&&1===a.length?a[0]:void 0;return i&&Wa[i]&&(r=o.map((function(e){return e.value}))),{children:o,not:n,_type:"expr_list",oneValueType:i,values:r}},Ua=function(e,t){var r;return La(La({_type:"interval"},null!==(r=za(e.expr,t))&&void 0!==r?r:{}),{},{unit:e.unit})},za=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{valueType:e.type,value:Na(e,t,r)}},$a=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("expr"!==e.type){var o=e.parentheses,l="string"==typeof e.column?e.column:function(e,t){var r=Na(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return String(r)}(e.column.expr,t,n),a=null!==(r=e.table)&&void 0!==r?r:void 0;return""===l?{valueType:"single_quote_string",value:""}:{parentheses:o,field:l,table:a}}},Ga=function(e,t){var r,n,o,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.name.name[0].type,u=e.name.name[0].value,c=function(r){if(e.args){if("expr_list"===e.args.type)return e.args.value.map((function(e){return qa(e,t,r?l:void 0)})).filter((function(e){return!!e}));t.errors.push("Unexpected args type for func (".concat(JSON.stringify(e.name.name),"): ").concat(JSON.stringify(e.args.type)))}return[]};if("default"===i&&"NOT"===u)1===(null===(n=e.args)||void 0===n?void 0:n.value.length)?((r=c(!1)[0]).not=!r.not,l&&(r.not=!r.not)):t.errors.push("Unexpected args for func NOT: ".concat(JSON.stringify(null===(o=e.args)||void 0===o?void 0:o.value)));else if("default"===i&&"IFNULL"===u)r=c(!0)[0];else{if("default"===i){var s="IF"===u,d=c(!1);return r={func:u,children:d,not:l},s&&(r.ternaryChildren=function(e,t){var r=[];return function e(n){var o=(0,a.A)(n,3),l=o[0],i=o[1],u=o[2];"IF"===i.func&&t.errors.push("Unexpected IF inside IF"),r.push([l,i]),"IF"===(null==u?void 0:u.func)?e(null==u?void 0:u.children):r.push([void 0,u])}(e),r}(d,t)),r}t.errors.push("Unexpected function name ".concat(JSON.stringify(e.name.name)))}return r},Ha=function(e){return"case"===(null==e?void 0:e._type)?"CASE":"interval"===(null==e?void 0:e._type)?"INTERVAL ".concat(JSON.stringify(e.value)," ").concat(e.unit):null!=e&&e.func?"".concat(e.func,"()"):null!=e&&e.operator?"operator ".concat(e.operator):"expr_list"===(null==e?void 0:e._type)?JSON.stringify(e.values):JSON.stringify(e)},Ya=r(34591);function Ka(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ja(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ja(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw l}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xa=function(e,t,r,n,o){var l,a,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e)return e.operator?a=li(e,t,r,n,o):e.conj?a=ni(e,t,r,n,o):e.ternaryChildren?a=ei(e,t,r,n,o):e.func?a=li(e,t,r,n,o):n.errors.push("Unexpected logic: ".concat(Ha(e))),"group"===(null===(l=a)||void 0===l?void 0:l.type)&&(a=oi(a,r)),i&&a&&"group"!=a.type&&"switch_group"!=a.type&&(a=pi(a,r,e.not)),a},ei=function(e,t,r,n,o){var l=e.ternaryChildren;return{type:"switch_group",children1:(null!=l?l:[]).map((function(o){var l=(0,a.A)(o,2),i=l[0],u=l[1];return ti(i,u,t,r,n,e)}))}},ti=function(e,t,r,n,o,l){var a,i=ri(n,o,r,t,l);return e?(a=Xa(e,r,n,o,l,!0))&&a.type?a.type="case_group":(o.errors.push("Unexpected case: ".concat(JSON.stringify(a))),a=void 0):a={type:"case_group",properties:{}},a&&(a.properties=Za(Za({},a.properties),i)),a},ri=function(e,t,r,n,o){var l=Pa.Aq.ConfigUtils.getFieldConfig(e,"!case_value"),a=null==l?void 0:l.mainWidget,i=e.widgets[a],u=ai(n,r,e,t,o);return u&&"value"===u.valueSrc&&(u.valueType=i.type||l.type||u.valueType),{value:[u.value],valueSrc:[u.valueSrc],valueType:[u.valueType],field:"!case_value"}},ni=function(e,t,r,n,o){var l=e.conj,a=e.children,i=t.conjunctions[l],u=(a||[]).map((function(o){return Xa(o,t,r,n,e)})).filter((function(e){return!!e}));return{type:"group",properties:{conjunction:i,not:e.not},children1:u}},oi=function(e,t){var r,n,o=(null!==(r=e.children1)&&void 0!==r?r:[]).filter((function(e){return"rule"===e.type||"rule_group"===e.type})).map((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.field})).filter((function(e){return!!e}));if((null==o?void 0:o.length)===(null===(n=e.children1)||void 0===n?void 0:n.length)){var l=function(e,t){if(e.length>0){var r=e.map((function(e){var r;return null===(r=Pa.Aq.ConfigUtils.getFieldParts(e,t).filter((function(e){var r;return"!group"===(null===(r=Pa.Aq.ConfigUtils.getFieldConfig(t,e))||void 0===r?void 0:r.type)})).reverse())||void 0===r?void 0:r[0]})).filter((function(e){return!!e})),n=1===Array.from(new Set(r)).length;if(r.length===e.length&&n)return r[0]}}(o,t);if(l){var a=e;return a.type="rule_group",a.properties.field=l,a.properties.fieldSrc="field",a}}return e},li=function(e,t,r,n,o){var l,i,u,c,s=t.operators[e.operator],d=null===(l=s)||void 0===l?void 0:l[0],p=ci(e,t,r,n,o);if(p)d=p.operator,u=p.children,c=p.operatorOptions;else{if(!e.operator)return void n.errors.push("Can't convert ".concat(Ha(e)));var f,m,v,g=Object.fromEntries((e.children||[]).map((function(e,t){return[t,e]})).filter((function(e){var t=(0,a.A)(e,2),r=(t[0],t[1]);return void 0!==r.value||void 0!==r.field})).map((function(o){var l=(0,a.A)(o,2),i=l[0],u=l[1];return[i,ai(u,t,r,n,e)]}))),h=(0,Ee.A)(new Set(Object.values(g).map((function(e){var t;return null!==(t=null==e?void 0:e.valueType)&&void 0!==t?t:null==e?void 0:e._maybeValueType})).filter((function(e){return!!e})))),b=1===h.length?h[0]:void 0,y=Ka(e.children||[]);try{for(y.s();!(v=y.n()).done;){var A=v.value;A.func&&!A._type&&(A._type=b)}}catch(e){y.e(e)}finally{y.f()}var E,O=(u=(e.children||[]).map((function(o,l){var a;return null!==(a=g[l])&&void 0!==a?a:ai(o,t,r,n,e)}))).filter((function(e){return"multiselect"===(null==e?void 0:e.valueType)})).length>0,w=u.filter((function(e){return"select"===(null==e?void 0:e.valueType)})).length>0;if((null===(f=s)||void 0===f?void 0:f.length)>1&&(O?s=s.filter((function(e){return!["equal","not_equal","select_equals","select_not_equals"].includes(e)})):w&&(s=s.filter((function(e){return!["equal","not_equal"].includes(e)}))),d=null===(E=s)||void 0===E?void 0:E[0]),null===(m=s)||void 0===m||!m.length)return void n.errors.push("Can't convert ".concat(Ha(e)));s.length>1&&!["=","!=","<>"].includes(e.operator)&&n.warnings.push('SQL operator "'.concat(e.operator,'" can be converted to several operators: ').concat(s.join(", ")))}var C=(u||[]).filter((function(e){return!!e})),S=(0,Ya.A)(C),k=S[0],x=S.slice(1),P={operator:d,value:[],valueSrc:[],valueType:[],valueError:[],field:void 0};c&&(P.operatorOptions=c),"field"===(null==k?void 0:k.valueSrc)?(P.field=k.value,P.fieldSrc="field"):"func"===(null==k?void 0:k.valueSrc)&&(P.field=k.value,P.fieldSrc=k.valueSrc);var j=Pa.Aq.ConfigUtils.getOperatorConfig(r,d,null!==(i=P.field)&&void 0!==i?i:void 0),F=null==j?void 0:j.valueTypes;return x.forEach((function(e,t){if(e){P.valueSrc[t]=null==e?void 0:e.valueSrc;var r=null==e?void 0:e.valueType,o=null==e?void 0:e.value;r&&F&&!F.includes(r)&&n.warnings.push('Operator "'.concat(d,'" supports value types [').concat(F.join(", "),"] but got ").concat(r)),1===(null==F?void 0:F.length)&&(r=F[0]),r&&"value"===(null==e?void 0:e.valueSrc)&&(o=fi(o,r)),P.valueType[t]=r,P.value[t]=o,null!=e&&e.valueError&&(P.valueError[t]=e.valueError)}})),{type:"rule",properties:P}},ai=function(e,t,r,n,o){var l=r.settings.fieldSeparator;if(null!=e&&e.valueType){var i,u=null==e?void 0:e.valueType,c=Wa[u];c||n.warnings.push("Unexpected value type ".concat(u));var s=e.value;return"text"===c&&(s.match(/^\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}/)&&(i="datetime"),s.match(/^\d{4}-\d{2}-\d{2}$/)&&(i="date"),c=void 0),{valueSrc:"value",valueType:c,_maybeValueType:i,value:s}}if(null!=e&&e.field){var d,p=[e.table,e.field].filter((function(e){return!!e})).join(l),f=Ka(Pa.Aq.ConfigUtils.iterateFields(r));try{for(f.s();!(d=f.n()).done;){var m=(0,a.A)(d.value,3),v=m[0],g=m[1],h=m[2];if(g.tableName===e.table&&h===e.field){p=v;break}}}catch(e){f.e(e)}finally{f.f()}var b=Pa.Aq.ConfigUtils.getFieldConfig(r,p);return{valueSrc:"field",valueType:null==b?void 0:b.type,value:p}}if(null!=e&&e.children&&"expr_list"===e._type)return{valueSrc:"value",valueType:"multiselect",value:e.values};if(null!=e&&e.value)return{valueSrc:"value",value:e.value};var y=si(e,t,r,n,o)||di(e,t,r,n,o);if(y)return y;n.errors.push("Unexpected arg: ".concat(Ha(e)))},ii=function(e,t,r,n,o,l){return"object"!==(0,$e.A)(e)||null===e||Array.isArray(e)?{valueSrc:"value",value:e}:ai(e,r,n,o,l)},ui=function(e,t,r,n,o){var l,a;o.widgetKey&&(a=n.widgets[o.widgetKey]);var i=[n.ctx,t,a,n.settings.sqlDialect];try{var u;l=(u=e).call.apply(u,i)}catch(e){}if(l){var c,s,d,p,f,m,v,g,h,b,y=null!==(c=null===(s=l)||void 0===s?void 0:s.func)&&void 0!==c?c:o.funcKey,A=null==t?void 0:t.func,E=null!==(d=null!==(p=null!==(f=null!==(m=o.opKey)&&void 0!==m?m:o.funcKey)&&void 0!==f?f:o.widgetKey)&&void 0!==p?p:o.outType)&&void 0!==d?d:"?";if(null!==(v=l)&&void 0!==v&&v.children)return{operator:null!==(h=l.operator)&&void 0!==h?h:o.opKey,children:null===(b=l.children)||void 0===b?void 0:b.map((function(e){return ai(e,r,n,o,t)})),operatorOptions:l.operatorOptions};if(null!==(g=l)&&void 0!==g&&g.args){var O=Pa.Aq.ConfigUtils.getFuncConfig(n,y),w={};for(var C in l.args){var S=l.args[C];null==O||O.args[C],w[C]=ii(S,0,r,n,o,t)}return{func:y,funcConfig:O,args:w}}if(Object.keys(l).includes("value")){var k,x=l,P=x.value,j=x.error;return j&&o.errors.push("Error while parsing ".concat(E," with func ").concat(null!=A?A:"?",": ").concat(j)),{value:P,valueType:null===(k=a)||void 0===k?void 0:k.type,valueSrc:"value",valueError:j}}o.errors.push("Result of parsing as ".concat(E," should contain either 'children' or 'args' or 'value'"))}},ci=function(e,t,r,n,o){for(var l in t.opFuncs){var a,i=Ka(t.opFuncs[l]);try{for(i.s();!(a=i.n()).done;){var u=a.value,c=ui(u,e,t,r,Za(Za({},n),{},{opKey:l,outType:"op"}));if(c)return c}}catch(e){i.e(e)}finally{i.f()}}},si=function(e,t,r,n,o){for(var l in t.valueFuncs){var a,i=Ka(t.valueFuncs[l]);try{for(i.s();!(a=i.n()).done;){var u=a.value,c=ui(u,e,t,r,Za(Za({},n),{},{outType:"value",widgetKey:l}));if(c)return c}}catch(e){i.e(e)}finally{i.f()}}},di=function(e,t,r,n,o){var l,i,u,c,s=Ka(Pa.Aq.ConfigUtils.iterateFuncs(r));try{for(s.s();!(c=s.n()).done;){var d=(0,a.A)(c.value,2),p=d[0],f=d[1],m=f.sqlFunc,v=f.sqlImport;if(v){var g=ui(v,e,t,r,Za(Za({},n),{},{funcKey:p,outType:"func"}));if(g){l=g.func,u=g.funcConfig,i=g.args;var h=!0;if(u){var b=u.returnType;if(["date","datetime"].includes(b)){var y;null!=e&&e._type&&["date","datetime"].includes(e._type)&&e._type!==b&&(h=!1);var A,E=Object.keys(null!==(y=u.args)&&void 0!==y?y:[]).filter((function(e){return["date","datetime"].includes(u.args[e].type)})),O=Ka(E);try{for(O.s();!(A=O.n()).done;){var w,C=A.value,S=u.args[C].type,k=null===(w=i[C])||void 0===w?void 0:w.valueType;k&&k!=S&&(h=!1)}}catch(e){O.e(e)}finally{O.f()}}}if(h)break}}if(m&&m===(null==e?void 0:e.func)){l=p;var x=(u=Pa.Aq.ConfigUtils.getFuncConfig(r,l)).returnType;i={};var P=0;for(var j in u.args){var F,T,R=null===(F=e.children)||void 0===F?void 0:F[P];null===(T=u)||void 0===T||T.args[j],i[j]=ii(R,0,t,r,n,e),P++}var W=!0;if(["date","datetime"].includes(x)&&null!=o&&o.func&&null!=o&&o._type&&["date","datetime"].includes(o._type)&&o._type!=x&&(W=!1),W)break}}}catch(e){s.e(e)}finally{s.f()}if(l){var D={};for(var V in null===(L=u)||void 0===L?void 0:L.args){var L,q,B=u.args[V],M=null===(q=i)||void 0===q?void 0:q[V];if(void 0===M)if(void 0===(M=null==B?void 0:B.defaultValue)){if(null==B||!B.isOptional)return void n.errors.push("No value for arg ".concat(V," of func ").concat(l))}else M={value:M,valueSrc:M.func?"func":"value",valueType:B.type};M&&(D[V]=M)}return{valueSrc:"func",value:{func:l,args:D},valueType:u.returnType}}n.errors.push("Unexpected func: ".concat(Ha(e)))},pi=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Pa.Aq.uuid(),children1:[e],properties:{conjunction:Pa.Aq.DefaultUtils.defaultConjunction(t),not:r||!1}}},fi=function(e,t){var r,n;return null!=e&&void 0===(null===(r=e)||void 0===r?void 0:r.func)&&("text"===t?e=""+e:"multiselect"===t&&void 0===(null===(n=e)||void 0===n?void 0:n.map)&&(e=[e])),e},mi=Pa.Aq.OtherUtils.logger,vi=function(e,t,r){var n,o,l,a,i={errors:[],warnings:[]},u=Pa.Aq.ConfigUtils.extendConfig(t,void 0,!1),c=function(e){var t={},r={},n={datetime:[Da],date:[Da],time:[Da]},o=function(n){var o=e.operators[n],l=o.sqlOps?o.sqlOps:o.sqlOp?[o.sqlOp]:void 0;if(o.sqlImport&&(r[n]||(r[n]=[]),r[n].push(o.sqlImport)),l)null==l||l.forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}));else{var a,i=null===(a=e.operators)||void 0===a?void 0:a[o.reversedOp];(null==i?void 0:i.sqlOp)||(null==i?void 0:i.sqlOps)||(null==i?void 0:i.sqlImport)||o.sqlImport||Ta.includes(n)||Ta.includes(o.reversedOp)||Ra.includes(n)||Fa.warn("[sql] No sqlOp/sqlImport for operator ".concat(n))}};for(var l in e.operators)o(l);var a={};for(var i in e.conjunctions)a[e.conjunctions[i].sqlConj||i.toLowerCase()]=i;for(var u in e.widgets){var c=e.widgets[u].sqlImport;c&&(n[u]||(n[u]=[]),n[u].push(c))}return{operators:t,conjunctions:a,opFuncs:r,valueFuncs:n}}(u);r||(r={}),null!==(n=r)&&void 0!==n&&n.database||(r.database="Postgresql"),e.startsWith("SELECT ")||(e="SELECT * FROM t WHERE "+e);var s,d,p,f=new ja.Parser;try{l=f.astify(e,r),mi.debug("sqlAst:",l)}catch(e){var m=e;i.errors.push(m.message)}return l&&(a=function(e,t){var r;"select"!==e.type&&t.errors.push("Expected SELECT, but got ".concat(e.type));var n=e,o=qa(n.where,t),l=(null!==(r=n.columns)&&void 0!==r?r:[]).find((function(e){return"expr"===e.type})),a=qa(null==l?void 0:l.expr,t);return n.where||(null==l?void 0:l.expr)||t.errors.push("No logic found in WHERE/SELECT"),{where:o,select:a}}(l,i),mi.debug("convertedObj:",a,i),i.convertedObj=a,o=Xa(null!==(s=null===(d=a)||void 0===d?void 0:d.where)&&void 0!==s?s:null===(p=a)||void 0===p?void 0:p.select,c,u,i,void 0,!0),mi.debug("jsTree:",o)),{tree:o?Pa.Aq.Import.loadTree(o):void 0,errors:i.errors,warnings:i.warnings}};function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var hi=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n);function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ai=function(e,t){var r,n=e.split("/")[0],o=[];if("logic"===n){var l=xa[e];r=u.Aq.loadFromJsonLogic(l,t)}else if("sql"===n){var i=xa[e],c=hi.loadFromSql(i,t);r=c.tree,o=c.errors}else if("spel"===n){var s=xa[e],d=u.Aq.loadFromSpel(s,t),p=(0,a.A)(d,2);r=p[0],o=p[1]}else{if("tree"!==n)throw new Error("Unknown file type ".concat(n));var f=xa[e];r=u.Aq.loadTree(f)}return o.length&&console.warn("Errors while importing from ".concat(e," as ").concat(n,":"),o),{tree:r,errors:o}},Ei=function(e,t,r){var n,o,l,a,i=Ai(e,t);l=i.tree,a=i.errors,console.log("Loaded tree: ",null===(n=l)||void 0===n||null===(o=n.toJS)||void 0===o?void 0:o.call(n));var c=u.Aq.sanitizeTree(l,t,yi(yi({},null!=r?r:{}),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),s=c.fixedTree,d=c.fixedErrors,p=c.nonFixedErrors;return l=s,d.length&&console.warn("Fixed tree errors on load: ",d),p.length&&console.warn("Validation errors on load:",p),{tree:l,errors:a}},Oi="tree/complex",wi={translateErrors:!0,includeStringifiedItems:!0,includeItemsPositions:!0},Ci={validation:!0,jsonlogic:!0,elasticSearch:!0,mongo:!0,jsTree:!0,spel:!0,strings:!0,sql:!0,actions:!1,withProfile:!1,queryBuilder:!0};function Si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ji=r(99804),Fi=r.n(ji);function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vi=JSON.stringify;function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bi=JSON.stringify,Mi=JSON.stringify,Ii=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq.jsonLogicFormat(t,r),o=n.logic,l=n.data,a=n.errors;return i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement("a",{href:"http://jsonlogic.com/play.html",target:"_blank",rel:"noopener noreferrer"},"jsonLogicFormat"),":",((null==a?void 0:a.length)||0)>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Mi(a,void 0,2)),!!o&&i.createElement("pre",{className:"qb-demo-pre"},"// Rule",":",i.createElement("br",null),Mi(o,void 0,2),i.createElement("br",null),i.createElement("hr",null),"// Data",":",i.createElement("br",null),Mi(l,void 0,2))),i.createElement("hr",null))})),Ni=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq._mongodbFormat(t,r),o=(0,a.A)(n,2),l=o[0],c=o[1];return i.createElement(i.Fragment,null,i.createElement("div",null,"mongodbFormat:",c.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Mi(c,void 0,2)),i.createElement("pre",{className:"qb-demo-pre"},Mi(l,void 0,2))),i.createElement("hr",null))})),_i=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq.elasticSearchFormat(t,r);return i.createElement(i.Fragment,null,i.createElement("div",null,"elasticSearchFormat:",i.createElement("pre",{className:"qb-demo-pre"},Mi(n,void 0,2))),i.createElement("hr",null))})),Ui=(0,i.memo)((function(e){var t=e.tree,r=(e.config,u.Aq.getTree(t));return i.createElement(i.Fragment,null,i.createElement("div",null,"Tree:",i.createElement("pre",{className:"qb-demo-pre"},Mi(r,void 0,2))),i.createElement("hr",null))})),zi=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq._spelFormat(t,r),o=(0,a.A)(n,2),l=o[0],c=o[1];return i.createElement(i.Fragment,null,i.createElement("div",null,"spelFormat:",c.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Mi(c,void 0,2)),i.createElement("pre",{className:"qb-demo-pre"},l)),i.createElement("hr",null))})),$i=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq._sqlFormat(t,r),o=(0,a.A)(n,2),l=o[0],c=o[1];return i.createElement(i.Fragment,null,i.createElement("div",null,"sqlFormat:",c.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Mi(c,void 0,2)),i.createElement("pre",{className:"qb-demo-pre"},l)),i.createElement("hr",null))})),Gi=(0,i.memo)((function(e){var t=e.tree,r=e.config,n=u.Aq.queryString(t,r),o=u.Aq.queryString(t,r,!0);return i.createElement(i.Fragment,null,i.createElement("div",null,"stringFormat:",i.createElement("pre",{className:"qb-demo-pre"},n)),i.createElement("hr",null),i.createElement("div",null,"humanStringFormat:",i.createElement("pre",{className:"qb-demo-pre"},o)),i.createElement("hr",null))}));function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xi=JSON.stringify;u.Aq.i18n.addResources("en","custom",{INVALID_SLIDER_VALUE:"Invalid slider value {{val}} translated with i18next",BAD_LEN:"Bad length {{val}} translated with i18next"}),u.Aq.i18n.addResources("en","raqbvalidation",{INCOMPLETE_LHS:"Incomplete left-hand side",INCOMPLETE_RHS:"Incomplete right-hand side"});var eu=r(64723),tu=r.n(eu),ru=r(84584),nu=r.n(ru),ou=r(46500),lu=r.n(ou),au=r(51011),iu=r.n(au),uu=r(44471),cu=r.n(uu),su=r(89444),du=r.n(su),pu=r(62884),fu={};pu.A&&pu.A.locals&&(fu.locals=pu.A.locals);var mu,vu,gu=0,hu={};function bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(r),!0).forEach((function(t){(0,l.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}hu.styleTagTransform=du(),hu.setAttributes=iu(),hu.insert=lu().bind(null,"head"),hu.domAPI=nu(),hu.insertStyleElement=cu(),fu.use=function(e){return hu.options=e||{},gu++||(mu=tu()(pu.A,hu)),fu},fu.unuse=function(){gu>0&&! --gu&&(mu(),mu=null)},fu.use();var Au=p()(Oa(window._initialSkin||"mui"),null!==(vu=window._configChanges)&&void 0!==vu?vu:{}),Eu=Ei(window._initFile||Oi,Au,wi),Ou=Eu.tree,wu=Eu.errors;!function(e,t){var r=new CustomEvent("update",{detail:{config:e,initTree:t}});window.dispatchEvent(r)}(Au,Ou);const Cu=function(){var e=(0,i.useRef)({}),t=(0,i.useState)({tree:Ou,initErrors:wu,config:Au,skin:"mui",spelStr:"",sqlStr:"",spelErrors:[],sqlErrors:[],sqlWarnings:[],renderBocks:Ci,initFile:Oi,themeMode:"light",useOldDesign:!1,isBodyDark:!1,renderSize:"small",compactMode:!1,liteMode:!0,configChanges:{}}),r=(0,a.A)(t,2),n=r[0],c=r[1];!function(e){(0,i.useEffect)((function(){return window.addEventListener("update",t),function(){window.removeEventListener("update",t)}}));var t=function(t){var r=t.detail;console.log("Updating..."),e(r)}}((0,i.useCallback)((function(e){var t=e.config;c((function(e){return yu(yu({},e),{},{config:t})}))}),[]));var d=wa(n,0,e).renderRunActions,f=function(e,t){var r=function(){var t=u.Aq.validateTree(e.tree,e.config,Zi({},wi));console.warn(">>> Utils.validateTree()",t)},n=function(){var r=u.Aq.sanitizeTree(e.tree,e.config,Zi(Zi({},wi),{},{removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1})),n=r.fixedErrors,o=r.fixedTree,l=r.nonFixedErrors;n.length&&console.warn("> sanitizeTree fixed errors:",n),l.length&&console.warn("> sanitizeTree non-fixed validation errors:",l),t(Zi(Zi({},e),{},{tree:o}))},o=function(){var r=u.Aq.sanitizeTree(e.tree,e.config,Zi(Zi({},wi),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1})),n=r.fixedTree,o=r.allErrors;o.length&&console.warn("> sanitizeTree validation errors:",o),t(Zi(Zi({},e),{},{tree:n}))},l=function(){var r=u.Aq.sanitizeTree(e.tree,e.config,Zi(Zi({},wi),{},{forceFix:!0})),n=r.fixedErrors,o=r.fixedTree,l=r.nonFixedErrors;n.length&&console.warn("> sanitizeTree fixed errors:",n),l.length&&console.warn("> sanitizeTree non-fixed validation errors:",l),t(Zi(Zi({},e),{},{tree:o}))};return{renderValidationHeader:function(){return i.createElement(i.Fragment,null,i.createElement("button",{onClick:r},"Show errors in console"),i.createElement("button",{onClick:o},"Validate"),i.createElement("button",{onClick:n},"Sanitize"),i.createElement("button",{onClick:l},"Sanitize & fix"))},renderValidationBlock:function(){var t=e.tree,r=e.config;if(!e.renderBocks.validation)return null;var n=u.Aq.isValidTree(t,r),o=u.Aq.validateTree(t,r,Zi({},wi)).map((function(e){var t=e.errors,r=e.itemStr,n=e.itemPositionStr;return{errors:t.map((function(e){var t=e.side,r=e.delta,n=e.str,o=e.fixed;return"".concat(o?"* ":"").concat(t?"[".concat([t,r].filter((function(e){return null!=e})).join(" "),"] "):"").concat(n)})),itemStr:r,itemPositionStr:n}}));return i.createElement(i.Fragment,null,i.createElement("hr",null),n?null:i.createElement("pre",{className:"qb-demo-error-pre"},"Tree has errors"),i.createElement("div",null,"Validation errors:",o.length>0?i.createElement("pre",{className:"qb-demo-error-pre"},Xi(o,void 0,2)):"no"))}}}(n,c),m=f.renderValidationHeader,v=f.renderValidationBlock,g=function(e,t,r){var n=wa(e,0,r).runActions,o=function(){var t=e.tree,r=e.config,n=function(){u.Aq.validateTree(t,r,ki({},wi))};n(),e.renderBocks.withProfile&&console.profile(),console.time("validation");for(var o=e.renderBocks.withProfile?1:10,l=0;l<o;l++)n();console.timeEnd("validation"),e.renderBocks.withProfile&&console.profileEnd()},a=function(){var t=e.tree,r=e.config,n=function(){u.Aq._spelFormat(t,r),u.Aq._mongodbFormat(t,r),u.Aq._sqlFormat(t,r),u.Aq.jsonLogicFormat(t,r),u.Aq.elasticSearchFormat(t,r),u.Aq.queryString(t,r)};n(),e.renderBocks.withProfile&&console.profile(),console.time("export");for(var o=e.renderBocks.withProfile?1:10,l=0;l<o;l++)n();console.timeEnd("export"),e.renderBocks.withProfile&&console.profileEnd()},c=function(){var t=e.config,r=function(){for(var e in xa)Ai(e,t)};r(),e.renderBocks.withProfile&&console.profile(),console.time("import");for(var n=e.renderBocks.withProfile?1:10,o=0;o<n;o++)r();console.timeEnd("import"),e.renderBocks.withProfile&&console.profileEnd()},s=function(){e.renderBocks.withProfile&&console.profile(),console.time("actions"),n(),console.timeEnd("actions"),e.renderBocks.withProfile&&console.profileEnd()},d=function(r){t(ki(ki({},e),{},{renderBocks:ki(ki({},e.renderBocks),{},(0,l.A)({},r,!e.renderBocks[r]))}))};return{renderBenchmarkHeader:function(){return i.createElement(i.Fragment,null,i.createElement("button",{onClick:a},"Export"),i.createElement("button",{onClick:c},"Import"),i.createElement("button",{onClick:o},"Validation"),i.createElement("button",{onClick:s},"Actions"),i.createElement("button",{onClick:d.bind(null,"withProfile")},"with profile: ",e.renderBocks.withProfile?"on":"off"))}}}(n,c,e),h=g.renderBenchmarkHeader,b=function(e){var t=e.renderBocks,r=e.tree,n=e.config;return{renderOutput:function(){return i.createElement("div",null,i.createElement("hr",null),t.spel&&i.createElement(zi,{tree:r,config:n}),t.strings&&i.createElement(Gi,{tree:r,config:n}),t.sql&&i.createElement($i,{tree:r,config:n}),t.jsonlogic&&i.createElement(Ii,{tree:r,config:n}),t.mongo&&i.createElement(Ni,{tree:r,config:n}),t.elasticSearch&&i.createElement(_i,{tree:r,config:n}),t.jsTree&&i.createElement(Ui,{tree:r,config:n}))}}}(n),y=b.renderOutput,A=function(e,t){var r=function(r){var n=r.target.value;t(qi(qi({},e),{},{spelStr:n}))},n=function(r){var n=r.target.value;t(qi(qi({},e),{},{sqlStr:n}))},o=function(){var r=u.Aq.loadFromSpel(e.spelStr,e.config),n=(0,a.A)(r,2),o=n[0],l=n[1],i=u.Aq.sanitizeTree(o,e.config,wi),c=i.fixedTree,s=i.fixedErrors;s.length&&console.warn("Fixed errors after import from SpEL:",s),t(qi(qi({},e),{},{tree:null!=c?c:e.tree,spelErrors:l}))},l=function(){var r=hi.loadFromSql(e.sqlStr,e.config),n=r.tree,o=r.errors,l=r.warnings,a=u.Aq.sanitizeTree(n,e.config,wi),i=a.fixedTree,c=a.fixedErrors;c.length&&console.warn("Fixed errors after import from SQL:",c),t(qi(qi({},e),{},{tree:null!=i?i:e.tree,sqlErrors:o,sqlWarnings:l}))};return{renderInputs:function(){return i.createElement("div",null,i.createElement("br",null),e.renderBocks.spel?i.createElement("div",{className:"query-import-spel"},"SpEL:  ",i.createElement("input",{type:"text",size:150,value:e.spelStr,onChange:r}),i.createElement("button",{onClick:o},"import"),i.createElement("br",null),e.spelErrors.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Bi(e.spelErrors,void 0,2))):null,e.renderBocks.sql?i.createElement("div",{className:"query-import-sql"},"SQL:  ",i.createElement("input",{type:"text",size:150,value:e.sqlStr,onChange:n}),i.createElement("button",{onClick:l},"import"),i.createElement("br",null),e.sqlErrors.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Bi(e.sqlErrors,void 0,2)),e.sqlWarnings.length>0&&i.createElement("pre",{className:"qb-demo-warning-pre"},Bi(e.sqlWarnings,void 0,2))):null)}}}(n,c).renderInputs,E=function(e,t){var r=function(){var r,n,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{showLock:!(null!==(r=null===(n=e.configChanges)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.showLock)&&void 0!==r&&r)}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ri(Ri({},e),{},{config:o}))},n=function(){var r,n,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{showErrorMessage:!(null!==(r=null===(n=e.configChanges)||void 0===n||null===(n=n.settings)||void 0===n?void 0:n.showErrorMessage)&&void 0!==r&&r)}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ri(Ri({},e),{},{config:o}))};return{renderConfigChangeHeader:function(){return i.createElement(i.Fragment,null,i.createElement("button",{onClick:r},"show lock: ",e.config.settings.showLock?"on":"off"),i.createElement("button",{onClick:n},"show errors: ",e.config.settings.showErrorMessage?"on":"off"))}}}(n,c),O=E.renderConfigChangeHeader,w=function(e,t){var r=function(r){var n=r.target.value,o=Ei(n,e.config),l=o.tree,a=o.errors;t(Di(Di({},e),{},{initFile:n,tree:l,initErrors:a})),window._initFile=n},n=function(){var r=Ei(e.initFile,e.config),n=r.tree,o=r.errors;t(Di(Di({},e),{},{tree:n,initErrors:o}))};return{renderInitFilesHeader:function(){return i.createElement(i.Fragment,null,i.createElement("select",{value:e.initFile,onChange:r},Object.keys(xa).map((function(e){return i.createElement("option",{key:e},e)}))),i.createElement("button",{onClick:n},"Reload"))},renderInitErrors:function(){return i.createElement(i.Fragment,null,e.initErrors.length>0&&i.createElement("pre",{className:"qb-demo-error-pre"},Vi(e.initErrors,void 0,2)))}}}(n,c),C=w.renderInitFilesHeader,S=w.renderInitErrors,k=function(e,t){var r=function(r){var n=r.target.value,o=Oa(r.target.value);o=p()(o,e.configChanges);var l=u.Aq.sanitizeTree(e.tree,o,Yi(Yi({},wi),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1})),a=l.fixedTree,i=l.fixedErrors,c=l.nonFixedErrors;i.length&&console.warn("Fixed errors after change UI framework:",i),c.length&&console.warn("Not fixed errors after change UI framework:",c),t(Yi(Yi({},e),{},{skin:n,config:o,tree:a})),window._initialSkin=n};return{renderSkinSelector:function(){return i.createElement("select",{value:e.skin,onChange:r},i.createElement("option",{key:"vanilla"},"vanilla"),i.createElement("option",{key:"antd"},"antd"),i.createElement("option",{key:"material"},"material"),i.createElement("option",{key:"mui"},"mui"),i.createElement("option",{key:"bootstrap"},"bootstrap"),i.createElement("option",{key:"fluent"},"fluent"))}}}(n,c),x=k.renderSkinSelector,P=function(e,t){var r=function(r){t(Pi(Pi({},e),{},{renderBocks:Pi(Pi({},e.renderBocks),{},(0,l.A)({},r,!e.renderBocks[r]))}))};return{renderBlocksSwitcher:function(){return i.createElement(i.Fragment,null,i.createElement("button",{onClick:r.bind(null,"queryBuilder")},"Builder: ",e.renderBocks.queryBuilder?"on":"off"),i.createElement("button",{onClick:r.bind(null,"validation")},"Validation: ",e.renderBocks.validation?"on":"off"),i.createElement("button",{onClick:r.bind(null,"jsTree")},"Tree: ",e.renderBocks.jsTree?"on":"off"),i.createElement("button",{onClick:r.bind(null,"jsonlogic")},"JsonLogic: ",e.renderBocks.jsonlogic?"on":"off"),i.createElement("button",{onClick:r.bind(null,"spel")},"SpEL: ",e.renderBocks.spel?"on":"off"),i.createElement("button",{onClick:r.bind(null,"strings")},"Strings: ",e.renderBocks.strings?"on":"off"),i.createElement("button",{onClick:r.bind(null,"sql")},"SQL: ",e.renderBocks.sql?"on":"off"),i.createElement("button",{onClick:r.bind(null,"mongo")},"Mongo: ",e.renderBocks.mongo?"on":"off"),i.createElement("button",{onClick:r.bind(null,"elasticSearch")},"ElasticSearch: ",e.renderBocks.elasticSearch?"on":"off"),e.renderBocks.queryBuilder&&i.createElement("button",{onClick:r.bind(null,"actions")},"Actions in console: ",e.renderBocks.actions?"on":"off"))}}}(n,c),j=P.renderBlocksSwitcher,F=function(e,t){var r=function(r){var n=r.target.checked,o=n?"dark":"light";document.body.setAttribute("data-theme",o),t(Ji(Ji({},e),{},{isBodyDark:n}))},n=function(r){var n=r.target.checked,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{designSettings:{generateCssVarsFromThemeLibrary:!n}}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ji(Ji({},e),{},{config:o,useOldDesign:n}))},o=function(r){var n=r.target.value,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{themeMode:"auto"===n?null:n}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ji(Ji({},e),{},{config:o,themeMode:n}))},l=function(r){var n="compact"===r.target.value,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{compactMode:n}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ji(Ji({},e),{},{config:o,compactMode:n}))},a=function(r){var n="lite"===r.target.value,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{liteMode:n}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ji(Ji({},e),{},{config:o,liteMode:n}))},u=function(r){var n=r.target.value,o=Fi()(e.config);e.configChanges=p()(e.configChanges,{settings:{renderSize:n}}),window._configChanges=e.configChanges,o=p()(o,e.configChanges),t(Ji(Ji({},e),{},{config:o,renderSize:n}))};return{renderThemeModeSelector:function(){var t;return i.createElement("select",{value:null!==(t=e.themeMode)&&void 0!==t?t:"light",onChange:o},i.createElement("option",{key:"light"},"light"),i.createElement("option",{key:"dark"},"dark"))},renderBodyIsDarkSelector:function(){return i.createElement(i.Fragment,null,i.createElement("input",{id:"dark-page",type:"checkbox",checked:e.isBodyDark,onChange:r}),i.createElement("label",{htmlFor:"dark-page"},"dark page"))},renderUseOldDesignSelector:function(){return i.createElement(i.Fragment,null,i.createElement("input",{id:"use-old-design",type:"checkbox",checked:e.useOldDesign,onChange:n}),i.createElement("label",{htmlFor:"use-old-design"},"use old design"))},renderCompactModeSelector:function(){return i.createElement("select",{value:e.compactMode?"compact":"normal",onChange:l},i.createElement("option",{key:"normal"},"normal"),i.createElement("option",{key:"compact"},"compact"))},renderLiteModeSelector:function(){return i.createElement("select",{value:e.liteMode?"lite":"full",onChange:a},i.createElement("option",{key:"full"},"full"),i.createElement("option",{key:"lite"},"lite"))},renderSizeSelector:function(){return i.createElement("select",{value:e.renderSize,onChange:u},i.createElement("option",{key:"small"},"small"),i.createElement("option",{key:"medium"},"medium"),i.createElement("option",{key:"large"},"large"))}}}(n,c),T=F.renderThemeModeSelector,R=F.renderBodyIsDarkSelector,W=F.renderUseOldDesignSelector,D=F.renderCompactModeSelector,V=F.renderLiteModeSelector,L=F.renderSizeSelector,q=(0,i.useCallback)((function(e){return i.createElement("div",{className:"query-builder-container",style:{padding:"10px"}},i.createElement("div",{className:"query-builder"},i.createElement(u.M$,e)))}),[]),B=(0,i.useCallback)((function(t,r,o,l){o&&n.renderBocks.actions&&console.info(o),e.current.immutableTree=t,e.current.config=r,e.current.actions=l,M()}),[n.renderBocks]),M=s()((function(){c((function(t){var r=e.current.immutableTree,n=u.Aq.ConfigUtils.areConfigsSame(e.current.config,t.config)?t.config:e.current.config;return yu(yu({},t),{},{tree:r,config:n})}))}),100),I=n.renderBocks.queryBuilder&&i.createElement(u.XK,(0,o.A)({},n.config,{value:n.tree,onInit:B,onChange:B,renderBuilder:q}));return i.createElement("div",null,i.createElement("div",null,"Theme:  ",x(),T(),V(),L(),D()," ",R()," ",W()),i.createElement("div",null,"Settings:  ",O()),i.createElement("div",null,"Output:  ",j()),i.createElement("div",null,"Data:  ",C(),i.createElement("button",{onClick:function(){c(yu(yu({},n),{},{tree:u.Aq.loadTree(Sa),initErrors:[]}))}},"Clear"),S(),d()),i.createElement("div",null,"Validation:  ",m()),i.createElement("div",null,"Benchmark:  ",h()),A(),i.createElement(va,{skin:n.skin}),I,i.createElement("div",{className:"query-builder-result"},i.createElement("div",null,v(),y())))}},37354:()=>{},62884:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(23738),o=r.n(n),l=r(10330),a=r.n(l)()(o());a.push([e.id,"body{background-color:#fff;color:#000}body .qb-demo-pre{background-color:#a9a9a9;margin:10px;padding:10px}body .qb-demo-error-pre{background-color:#ffb6c1;margin:10px;padding:10px}body .qb-demo-warning-pre{background-color:#ffffe0;margin:10px;padding:10px}body[data-theme=dark]{background-color:#0f1214;color:#a6adbb}body[data-theme=dark] #root select:not(.query-builder select){border-color:#0f1214;background-color:#0f1214;color:#a6adbb;outline:none}body[data-theme=dark] #root input:not(.query-builder input){border-color:#0f1214;background-color:#0f1214;color:#a6adbb;outline:none}body[data-theme=dark] #root button:not(.query-builder button){border-color:#0f1214;background-color:#0f1214;color:#a6adbb;outline:none}body[data-theme=dark] .qb-demo-pre{background-color:oklch(0.313815 0.021108 254.139);color:#a6adbb}body[data-theme=dark] .qb-demo-error-pre{background-color:#5c363c;color:#a6adbb}body[data-theme=dark] .qb-demo-warning-pre{background-color:#715640;color:#a6adbb}","",{version:3,sources:["webpack://./src/styles.scss"],names:[],mappings:"AAAA,KACE,qBAAA,CACA,UAAA,CACA,kBACE,wBAAA,CACA,WAAA,CACA,YAAA,CAEF,wBACE,wBAAA,CACA,WAAA,CACA,YAAA,CAEF,0BACE,wBAAA,CACA,WAAA,CACA,YAAA,CAMJ,sBACE,wBAAA,CACA,aAAA,CAEE,8DACE,oBAAA,CACA,wBAAA,CACA,aAAA,CACA,YAAA,CAJF,4DACE,oBAAA,CACA,wBAAA,CACA,aAAA,CACA,YAAA,CAJF,8DACE,oBAAA,CACA,wBAAA,CACA,aAAA,CACA,YAAA,CAGJ,mCACE,iDAAA,CACA,aAAA,CAEF,yCACE,wBAAA,CACA,aAAA,CAEF,2CACE,wBAAA,CACA,aAAA",sourcesContent:['body {\n  background-color: white;\n  color: black;\n  .qb-demo-pre {\n    background-color: darkgrey;\n    margin: 10px;\n    padding: 10px;\n  }\n  .qb-demo-error-pre {\n    background-color: lightpink;\n    margin: 10px;\n    padding: 10px;\n  }\n  .qb-demo-warning-pre {\n    background-color: lightyellow;\n    margin: 10px;\n    padding: 10px;\n  }\n}\n\n$inputs: select, input, button;\n\nbody[data-theme="dark"] {\n  background-color: rgb(15, 18, 20);\n  color: #a6adbb;\n  @each $input in $inputs {\n    #root #{$input}:not(.query-builder #{$input}) {\n      border-color: rgb(15, 18, 20);\n      background-color: rgb(15, 18, 20);\n      color: #a6adbb;\n      outline: none;\n    }\n  }\n  .qb-demo-pre {\n    background-color: oklch(0.313815 0.021108 254.139);\n    color: #a6adbb;\n  }\n  .qb-demo-error-pre {\n    background-color: rgb(92, 54, 60);\n    color: #a6adbb;\n  }\n  .qb-demo-warning-pre {\n    background-color: rgb(113, 86, 64);\n    color: #a6adbb;\n  }\n}\n\n.query-builder {\n  // overrides:\n  //--item-radius: 8px;\n}\n'],sourceRoot:""}]);const i=a}}]);
//# sourceMappingURL=801.bundle.js.map